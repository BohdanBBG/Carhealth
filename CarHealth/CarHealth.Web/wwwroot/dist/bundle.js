/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./ClientVanilaJs/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./ClientVanilaJs/index.js":
/*!*********************************!*\
  !*** ./ClientVanilaJs/index.js ***!
  \*********************************/
/*! exports provided: userUtil */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"userUtil\", function() { return userUtil; });\n/* harmony import */ var _modules_DomUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/DomUtil.js */ \"./ClientVanilaJs/modules/DomUtil.js\");\n/* harmony import */ var _modules_pages_global_scopes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/pages/global-scopes.js */ \"./ClientVanilaJs/modules/pages/global-scopes.js\");\n/* harmony import */ var _modules_AppRouter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/AppRouter.js */ \"./ClientVanilaJs/modules/AppRouter.js\");\n/* harmony import */ var _modules_pages_manage_car_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/pages/manage-car.js */ \"./ClientVanilaJs/modules/pages/manage-car.js\");\n/* harmony import */ var _modules_HttpUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules/HttpUtil.js */ \"./ClientVanilaJs/modules/HttpUtil.js\");\n/* harmony import */ var _modules_UserUtil_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modules/UserUtil.js */ \"./ClientVanilaJs/modules/UserUtil.js\");\n//import \"@babel/polyfill\";\r\n\r\n\r\nlet domUtil = new _modules_DomUtil_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\r\n\r\n\r\n\r\n\r\nlet appRouter = {};\r\n\r\n\r\nlet carManager = {};\r\n\r\n\r\nlet helper = new _modules_HttpUtil_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\r\n\r\n\r\n\r\nlet userUtil = {};\r\n\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\r\n\r\n    helper.httpGet(\"/config\", function (config) {\r\n        start(config);\r\n    });\r\n});\r\n\r\nfunction start(config) {\r\n\r\n    userUtil = new _modules_UserUtil_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"](config);\r\n\r\n    userUtil.getUser(function (user) {\r\n\r\n        if (user) {\r\n            console.log('User:', user);\r\n            appRouter = new _modules_AppRouter_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](user, config);\r\n            carManager = new _modules_pages_manage_car_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](user, config);\r\n            runApp(user, config);\r\n\r\n        } else {\r\n            console.log(\"User not logged in\");\r\n            userUtil.login();\r\n        }\r\n    });\r\n\r\n\r\n\r\n    function runApp(user, config) {\r\n\r\n\r\n        /**\r\n         * Inits app menu, enables menu links\r\n         */\r\n        function initAppMenu() {\r\n\r\n\r\n            domUtil.addBubleEventListener('body', '[data-route-link]', 'click', _modules_pages_global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().menuLinks, function (e, actualEl, desiredEl) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                var targetLinkEl = desiredEl;\r\n                appRouter.goToRoute(targetLinkEl.dataset.routeLink);\r\n\r\n            });\r\n\r\n            domUtil.addBubleEventListener('body', '[data-car-manager-id]', 'click', _modules_pages_global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().carManager, function (e, actualEl, desiredEl) {\r\n\r\n                carManager.handler();\r\n\r\n            });\r\n\r\n            domUtil.addBubleEventListener('.js-logout-button', '.js-logout-button-text', 'click', _modules_pages_global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().logout, function (e, actualEl, desiredEl) {\r\n                e.stopPropagation();\r\n\r\n                userUtil.logout();\r\n            });\r\n\r\n\r\n            \r\n\r\n            helper.httpGet(`${config.auth.authority}/Account/IsAdmin?email=${user.profile.email}`, function (response) {\r\n\r\n                if (response === true) {\r\n\r\n                    document.querySelector(\".js-for-admins-only\").classList.remove('hidden');\r\n\r\n                    domUtil.addBubleEventListener('body', '.js-for-admins-only', 'click', _modules_pages_global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().AdminsOnly, function (e, actualEl, desiredEl) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n\r\n                        document.location.href = `${config.auth.authority}/Users`;\r\n                    });\r\n                }\r\n                else\r\n                {\r\n                    document.querySelector(\".js-for-admins-only\").classList.add('hidden');\r\n                }\r\n            }, user.access_token);\r\n        }\r\n\r\n\r\n        initAppMenu();\r\n\r\n        // listen hash changes\r\n        window.addEventListener('hashchange', function (e) {\r\n            var newHash = window.location.hash;\r\n            appRouter.processRoute(newHash);\r\n        }, false);\r\n\r\n        // run route that is already in hash\r\n        if (!!window.location.hash) {\r\n            appRouter.processRoute(window.location.hash);\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nfunction checkingServerResponse(apiUrl, user) {\r\n\r\n    helper.httpChek(apiUrl + \"/ping\", user.access_token, function (response) {\r\n\r\n    });\r\n\r\n\r\n}//checks server connection\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9DbGllbnRWYW5pbGFKcy9pbmRleC5qcz8xMTRhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFMkM7QUFDM0Msa0JBQWtCLDJEQUFPOztBQUVtQzs7QUFFYjtBQUMvQzs7QUFFc0Q7QUFDdEQ7O0FBRTRDO0FBQzVDLGlCQUFpQiw0REFBUTs7O0FBR29CO0FBQ3RDOzs7QUFHUDs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUM7O0FBRUQ7O0FBRUEsbUJBQW1CLDREQUFROztBQUUzQjs7QUFFQTtBQUNBO0FBQ0EsNEJBQTRCLDZEQUFTO0FBQ3JDLDZCQUE2QixvRUFBVTtBQUN2Qzs7QUFFQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7OztBQUlMOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0EsZ0ZBQWdGLHVFQUFZO0FBQzVGO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxhQUFhOztBQUViLG9GQUFvRix1RUFBWTs7QUFFaEc7O0FBRUEsYUFBYTs7QUFFYixrR0FBa0csdUVBQVk7QUFDOUc7O0FBRUE7QUFDQSxhQUFhOzs7OztBQUtiLDhCQUE4QixzQkFBc0IseUJBQXlCLG1CQUFtQjs7QUFFaEc7O0FBRUE7O0FBRUEsMEZBQTBGLHVFQUFZO0FBQ3RHO0FBQ0E7O0FBRUEsb0RBQW9ELHNCQUFzQjtBQUMxRSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTs7QUFFQTs7QUFFQTs7QUFFQSxLQUFLOzs7QUFHTCxDQUFDIiwiZmlsZSI6Ii4vQ2xpZW50VmFuaWxhSnMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL2ltcG9ydCBcIkBiYWJlbC9wb2x5ZmlsbFwiO1xyXG5cclxuaW1wb3J0IERvbVV0aWwgZnJvbSAnLi9tb2R1bGVzL0RvbVV0aWwuanMnO1xyXG5sZXQgZG9tVXRpbCA9IG5ldyBEb21VdGlsKCk7XHJcblxyXG5pbXBvcnQgZ2xvYmFsU2NvcGVzIGZyb20gJy4vbW9kdWxlcy9wYWdlcy9nbG9iYWwtc2NvcGVzLmpzJztcclxuXHJcbmltcG9ydCBBcHBSb3V0ZXIgZnJvbSAnLi9tb2R1bGVzL0FwcFJvdXRlci5qcyc7XHJcbmxldCBhcHBSb3V0ZXIgPSB7fTtcclxuXHJcbmltcG9ydCBDYXJNYW5hZ2VyIGZyb20gJy4vbW9kdWxlcy9wYWdlcy9tYW5hZ2UtY2FyLmpzJ1xyXG5sZXQgY2FyTWFuYWdlciA9IHt9O1xyXG5cclxuaW1wb3J0IEh0dHBVdGlsIGZyb20gJy4vbW9kdWxlcy9IdHRwVXRpbC5qcydcclxubGV0IGhlbHBlciA9IG5ldyBIdHRwVXRpbCgpO1xyXG5cclxuXHJcbmltcG9ydCBVc2VyVXRpbCBmcm9tICcuL21vZHVsZXMvVXNlclV0aWwuanMnO1xyXG5leHBvcnQgbGV0IHVzZXJVdGlsID0ge307XHJcblxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcblxyXG4gICAgaGVscGVyLmh0dHBHZXQoXCIvY29uZmlnXCIsIGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICBzdGFydChjb25maWcpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gc3RhcnQoY29uZmlnKSB7XHJcblxyXG4gICAgdXNlclV0aWwgPSBuZXcgVXNlclV0aWwoY29uZmlnKTtcclxuXHJcbiAgICB1c2VyVXRpbC5nZXRVc2VyKGZ1bmN0aW9uICh1c2VyKSB7XHJcblxyXG4gICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VyOicsIHVzZXIpO1xyXG4gICAgICAgICAgICBhcHBSb3V0ZXIgPSBuZXcgQXBwUm91dGVyKHVzZXIsIGNvbmZpZyk7XHJcbiAgICAgICAgICAgIGNhck1hbmFnZXIgPSBuZXcgQ2FyTWFuYWdlcih1c2VyLCBjb25maWcpO1xyXG4gICAgICAgICAgICBydW5BcHAodXNlciwgY29uZmlnKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc2VyIG5vdCBsb2dnZWQgaW5cIik7XHJcbiAgICAgICAgICAgIHVzZXJVdGlsLmxvZ2luKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBydW5BcHAodXNlciwgY29uZmlnKSB7XHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbml0cyBhcHAgbWVudSwgZW5hYmxlcyBtZW51IGxpbmtzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdEFwcE1lbnUoKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgZG9tVXRpbC5hZGRCdWJsZUV2ZW50TGlzdGVuZXIoJ2JvZHknLCAnW2RhdGEtcm91dGUtbGlua10nLCAnY2xpY2snLCBnbG9iYWxTY29wZXMuZ2V0RXZlbnRMaXN0ZW5lclN0YXRlKCkubWVudUxpbmtzLCBmdW5jdGlvbiAoZSwgYWN0dWFsRWwsIGRlc2lyZWRFbCkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0TGlua0VsID0gZGVzaXJlZEVsO1xyXG4gICAgICAgICAgICAgICAgYXBwUm91dGVyLmdvVG9Sb3V0ZSh0YXJnZXRMaW5rRWwuZGF0YXNldC5yb3V0ZUxpbmspO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBkb21VdGlsLmFkZEJ1YmxlRXZlbnRMaXN0ZW5lcignYm9keScsICdbZGF0YS1jYXItbWFuYWdlci1pZF0nLCAnY2xpY2snLCBnbG9iYWxTY29wZXMuZ2V0RXZlbnRMaXN0ZW5lclN0YXRlKCkuY2FyTWFuYWdlciwgZnVuY3Rpb24gKGUsIGFjdHVhbEVsLCBkZXNpcmVkRWwpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjYXJNYW5hZ2VyLmhhbmRsZXIoKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZG9tVXRpbC5hZGRCdWJsZUV2ZW50TGlzdGVuZXIoJy5qcy1sb2dvdXQtYnV0dG9uJywgJy5qcy1sb2dvdXQtYnV0dG9uLXRleHQnLCAnY2xpY2snLCBnbG9iYWxTY29wZXMuZ2V0RXZlbnRMaXN0ZW5lclN0YXRlKCkubG9nb3V0LCBmdW5jdGlvbiAoZSwgYWN0dWFsRWwsIGRlc2lyZWRFbCkge1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICB1c2VyVXRpbC5sb2dvdXQoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICBoZWxwZXIuaHR0cEdldChgJHtjb25maWcuYXV0aC5hdXRob3JpdHl9L0FjY291bnQvSXNBZG1pbj9lbWFpbD0ke3VzZXIucHJvZmlsZS5lbWFpbH1gLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgPT09IHRydWUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1mb3ItYWRtaW5zLW9ubHlcIikuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRvbVV0aWwuYWRkQnVibGVFdmVudExpc3RlbmVyKCdib2R5JywgJy5qcy1mb3ItYWRtaW5zLW9ubHknLCAnY2xpY2snLCBnbG9iYWxTY29wZXMuZ2V0RXZlbnRMaXN0ZW5lclN0YXRlKCkuQWRtaW5zT25seSwgZnVuY3Rpb24gKGUsIGFjdHVhbEVsLCBkZXNpcmVkRWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IGAke2NvbmZpZy5hdXRoLmF1dGhvcml0eX0vVXNlcnNgO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtZm9yLWFkbWlucy1vbmx5XCIpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB1c2VyLmFjY2Vzc190b2tlbik7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaW5pdEFwcE1lbnUoKTtcclxuXHJcbiAgICAgICAgLy8gbGlzdGVuIGhhc2ggY2hhbmdlc1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyIG5ld0hhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcclxuICAgICAgICAgICAgYXBwUm91dGVyLnByb2Nlc3NSb3V0ZShuZXdIYXNoKTtcclxuICAgICAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIHJ1biByb3V0ZSB0aGF0IGlzIGFscmVhZHkgaW4gaGFzaFxyXG4gICAgICAgIGlmICghIXdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XHJcbiAgICAgICAgICAgIGFwcFJvdXRlci5wcm9jZXNzUm91dGUod2luZG93LmxvY2F0aW9uLmhhc2gpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tpbmdTZXJ2ZXJSZXNwb25zZShhcGlVcmwsIHVzZXIpIHtcclxuXHJcbiAgICBoZWxwZXIuaHR0cENoZWsoYXBpVXJsICsgXCIvcGluZ1wiLCB1c2VyLmFjY2Vzc190b2tlbiwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxufS8vY2hlY2tzIHNlcnZlciBjb25uZWN0aW9uXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./ClientVanilaJs/index.js\n");

/***/ }),

/***/ "./ClientVanilaJs/modules/AppRouter.js":
/*!*********************************************!*\
  !*** ./ClientVanilaJs/modules/AppRouter.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _pages_dashboard_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pages/dashboard.js */ \"./ClientVanilaJs/modules/pages/dashboard.js\");\n/* harmony import */ var _pages_manage_car_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pages/manage-car.js */ \"./ClientVanilaJs/modules/pages/manage-car.js\");\n/* harmony import */ var _pages_car_detail_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pages/car-detail.js */ \"./ClientVanilaJs/modules/pages/car-detail.js\");\n\r\n\r\n\r\n\r\n\r\nclass AppRouter {\r\n\r\n    constructor(user, config){\r\n        this.pages = {\r\n            'dashboard': new _pages_dashboard_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](),\r\n           // 'manage-car': new CarManager(config),\r\n            'car-details': new _pages_car_detail_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](user, config),\r\n        };\r\n    }\r\n\r\n    goToRoute(route) {\r\n        if (route !== window.location.hash) {\r\n            window.location.hash = route;\r\n        }\r\n    }\r\n\r\n    processRoute(route) {\r\n\r\n        var pages = this.pages;\r\n\r\n        // drop '#' from begining if exists\r\n        route = route.replace(/^#/gi, '');\r\n\r\n        // hide all menu links and all menu pages\r\n        var linkEls = document.querySelectorAll('[data-route-link]');\r\n        var pageEls = document.querySelectorAll('[data-route]');\r\n\r\n        linkEls.forEach(function (item) {\r\n            item.classList.remove('active');\r\n        });\r\n        pageEls.forEach(function (item) {\r\n            item.classList.remove('active');\r\n        });\r\n\r\n        // show clicked page\r\n        var targetLinkEls = document.querySelectorAll(\"[data-route-link='\" + route + \"']\");\r\n        var targetPageEls = document.querySelectorAll(\"[data-route='\" + route + \"']\");\r\n\r\n        targetLinkEls.forEach(function (item) {\r\n            item.classList.add('active');\r\n        });\r\n\r\n        targetPageEls.forEach(function (item) {\r\n            item.classList.add('active');\r\n            var page = pages[route];\r\n            if (!page) {\r\n                console.error(`Can't find handler for page: ${route}`);\r\n            } else {\r\n                page.pageHandler(item);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (AppRouter);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9DbGllbnRWYW5pbGFKcy9tb2R1bGVzL0FwcFJvdXRlci5qcz85OGNkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQzZDO0FBQ0M7QUFDQzs7QUFFL0M7O0FBRUE7QUFDQTtBQUNBLDZCQUE2QiwyREFBUztBQUN0QztBQUNBLCtCQUErQiw0REFBVTtBQUN6QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsTUFBTTtBQUNwRSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVlLHdFQUFTIiwiZmlsZSI6Ii4vQ2xpZW50VmFuaWxhSnMvbW9kdWxlcy9BcHBSb3V0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IERhc2hib2FyZCBmcm9tICcuL3BhZ2VzL2Rhc2hib2FyZC5qcyc7XHJcbmltcG9ydCBNYW5hZ2VDYXIgZnJvbSAnLi9wYWdlcy9tYW5hZ2UtY2FyLmpzJztcclxuaW1wb3J0IENhckRldGFpbHMgZnJvbSAnLi9wYWdlcy9jYXItZGV0YWlsLmpzJztcclxuXHJcbmNsYXNzIEFwcFJvdXRlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IodXNlciwgY29uZmlnKXtcclxuICAgICAgICB0aGlzLnBhZ2VzID0ge1xyXG4gICAgICAgICAgICAnZGFzaGJvYXJkJzogbmV3IERhc2hib2FyZCgpLFxyXG4gICAgICAgICAgIC8vICdtYW5hZ2UtY2FyJzogbmV3IENhck1hbmFnZXIoY29uZmlnKSxcclxuICAgICAgICAgICAgJ2Nhci1kZXRhaWxzJzogbmV3IENhckRldGFpbHModXNlciwgY29uZmlnKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGdvVG9Sb3V0ZShyb3V0ZSkge1xyXG4gICAgICAgIGlmIChyb3V0ZSAhPT0gd2luZG93LmxvY2F0aW9uLmhhc2gpIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSByb3V0ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvY2Vzc1JvdXRlKHJvdXRlKSB7XHJcblxyXG4gICAgICAgIHZhciBwYWdlcyA9IHRoaXMucGFnZXM7XHJcblxyXG4gICAgICAgIC8vIGRyb3AgJyMnIGZyb20gYmVnaW5pbmcgaWYgZXhpc3RzXHJcbiAgICAgICAgcm91dGUgPSByb3V0ZS5yZXBsYWNlKC9eIy9naSwgJycpO1xyXG5cclxuICAgICAgICAvLyBoaWRlIGFsbCBtZW51IGxpbmtzIGFuZCBhbGwgbWVudSBwYWdlc1xyXG4gICAgICAgIHZhciBsaW5rRWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcm91dGUtbGlua10nKTtcclxuICAgICAgICB2YXIgcGFnZUVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXJvdXRlXScpO1xyXG5cclxuICAgICAgICBsaW5rRWxzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwYWdlRWxzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gc2hvdyBjbGlja2VkIHBhZ2VcclxuICAgICAgICB2YXIgdGFyZ2V0TGlua0VscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1yb3V0ZS1saW5rPSdcIiArIHJvdXRlICsgXCInXVwiKTtcclxuICAgICAgICB2YXIgdGFyZ2V0UGFnZUVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1yb3V0ZT0nXCIgKyByb3V0ZSArIFwiJ11cIik7XHJcblxyXG4gICAgICAgIHRhcmdldExpbmtFbHMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0YXJnZXRQYWdlRWxzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgdmFyIHBhZ2UgPSBwYWdlc1tyb3V0ZV07XHJcbiAgICAgICAgICAgIGlmICghcGFnZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ2FuJ3QgZmluZCBoYW5kbGVyIGZvciBwYWdlOiAke3JvdXRlfWApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGFnZS5wYWdlSGFuZGxlcihpdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcHBSb3V0ZXI7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./ClientVanilaJs/modules/AppRouter.js\n");

/***/ }),

/***/ "./ClientVanilaJs/modules/DomUtil.js":
/*!*******************************************!*\
  !*** ./ClientVanilaJs/modules/DomUtil.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\r\n\r\nclass DomUtil {\r\n    constructor() {\r\n\r\n    }\r\n\r\n    addBubleEventListener(sourceElSelector, targetElSelector, eventName, checkedHandler, eventHandler) {\r\n\r\n        if (!checkedHandler.state) {\r\n            var sourceEl = (typeof sourceElSelector === \"object\") ? sourceElSelector : document.querySelector(sourceElSelector);\r\n            checkedHandler.state = true;\r\n\r\n            sourceEl.addEventListener(eventName, function (e) {\r\n                var actualEl = e.target; // element event fired on\r\n                var desiredEl = e.target.closest(targetElSelector); // element we excpect event fired on\r\n\r\n                var matches = actualEl.matches(targetElSelector);\r\n                var isChildEl = desiredEl !== null; // if this el is parent\r\n\r\n                if (matches || isChildEl) {\r\n                    eventHandler(e, actualEl, desiredEl || actualEl);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (DomUtil);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9DbGllbnRWYW5pbGFKcy9tb2R1bGVzL0RvbVV0aWwuanM/ZDg4MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdDQUF3QztBQUN4QyxtRUFBbUU7O0FBRW5FO0FBQ0EsbURBQW1EOztBQUVuRDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVlLHNFQUFPIiwiZmlsZSI6Ii4vQ2xpZW50VmFuaWxhSnMvbW9kdWxlcy9Eb21VdGlsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5jbGFzcyBEb21VdGlsIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhZGRCdWJsZUV2ZW50TGlzdGVuZXIoc291cmNlRWxTZWxlY3RvciwgdGFyZ2V0RWxTZWxlY3RvciwgZXZlbnROYW1lLCBjaGVja2VkSGFuZGxlciwgZXZlbnRIYW5kbGVyKSB7XHJcblxyXG4gICAgICAgIGlmICghY2hlY2tlZEhhbmRsZXIuc3RhdGUpIHtcclxuICAgICAgICAgICAgdmFyIHNvdXJjZUVsID0gKHR5cGVvZiBzb3VyY2VFbFNlbGVjdG9yID09PSBcIm9iamVjdFwiKSA/IHNvdXJjZUVsU2VsZWN0b3IgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNvdXJjZUVsU2VsZWN0b3IpO1xyXG4gICAgICAgICAgICBjaGVja2VkSGFuZGxlci5zdGF0ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBzb3VyY2VFbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhY3R1YWxFbCA9IGUudGFyZ2V0OyAvLyBlbGVtZW50IGV2ZW50IGZpcmVkIG9uXHJcbiAgICAgICAgICAgICAgICB2YXIgZGVzaXJlZEVsID0gZS50YXJnZXQuY2xvc2VzdCh0YXJnZXRFbFNlbGVjdG9yKTsgLy8gZWxlbWVudCB3ZSBleGNwZWN0IGV2ZW50IGZpcmVkIG9uXHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBhY3R1YWxFbC5tYXRjaGVzKHRhcmdldEVsU2VsZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzQ2hpbGRFbCA9IGRlc2lyZWRFbCAhPT0gbnVsbDsgLy8gaWYgdGhpcyBlbCBpcyBwYXJlbnRcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcyB8fCBpc0NoaWxkRWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudEhhbmRsZXIoZSwgYWN0dWFsRWwsIGRlc2lyZWRFbCB8fCBhY3R1YWxFbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRG9tVXRpbDsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./ClientVanilaJs/modules/DomUtil.js\n");

/***/ }),

/***/ "./ClientVanilaJs/modules/HttpUtil.js":
/*!********************************************!*\
  !*** ./ClientVanilaJs/modules/HttpUtil.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../index.js */ \"./ClientVanilaJs/index.js\");\n\r\n\r\nclass HttpUtil {\r\n\r\n    constructor() {\r\n    }\r\n\r\n    httpChek(url, callBack, authToken = null) {\r\n\r\n        var xhr = new XMLHttpRequest();\r\n        //xhr.withCredentials = true; // force to show browser's default auth dialog\r\n        xhr.open('GET', url);\r\n\r\n\r\n        xhr.onload = function () {\r\n            if(xhr.status === 200)\r\n            {\r\n                console.log(\"Ok\")\r\n            }\r\n            else if (xhr.status === 500) {\r\n                console.error('Request failed.  Returned status of ' + xhr.status);\r\n                alert('Request failed.  Returned status of ' + xhr.status);\r\n            } else if (xhr.status === 401 || xhr.status === 403) {\r\n                console.error('Request failed.  Returned status of ' + xhr.status);\r\n               // document.location.href = identityUrl + \"/Account/Login\";\r\n            }\r\n            else {\r\n                console.error('Request failed.  Returned status of ' + xhr.status);\r\n            }\r\n\r\n        };\r\n\r\n        if (authToken !== null) {\r\n            xhr.setRequestHeader(\"Authorization\", \"Bearer \" + authToken);\r\n        }\r\n\r\n        xhr.send();\r\n    }\r\n\r\n    httpRequest(url, data, typeOfrequest, callback, authToken = null) {\r\n\r\n        var identityUrl = this.identityUrl;\r\n\r\n        var xhr = new XMLHttpRequest();\r\n\r\n     //   xhr.withCredentials = true; // force to show browser's default auth dialog\r\n        xhr.open(typeOfrequest, url, true);\r\n\r\n        xhr.setRequestHeader('Content-Type', 'application/json');\r\n        xhr.onload = function () {\r\n            if (xhr.status === 200) {\r\n\r\n                callback();\r\n\r\n            } else if (xhr.status === 500) {\r\n                console.error('Request failed.  Returned status of ' + xhr.status);\r\n                alert('Request failed.  Returned status of ' + xhr.status);\r\n            } else if (xhr.status === 401 || xhr.status === 403) {\r\n                console.error('Request failed.  Returned status of ' + xhr.status);\r\n             //   document.location.href = identityUrl + \"/Account/Login\";\r\n            }\r\n        };\r\n\r\n        if (authToken !== null) {\r\n            xhr.setRequestHeader(\"Authorization\", \"Bearer \" + authToken);\r\n        }\r\n\r\n        xhr.send(JSON.stringify(data));\r\n    }\r\n\r\n    deleteRequest(url, authToken = null) {\r\n\r\n        var identityUrl = this.identityUrl;\r\n\r\n        var xhr = new XMLHttpRequest();\r\n\r\n      //  xhr.withCredentials = true; // force to show browser's default auth dialog\r\n        xhr.open('DELETE', url, true);\r\n\r\n        xhr.onload = function () {\r\n            if (xhr.status === 200) {\r\n\r\n                console.log(\"Item successfully deleted\");\r\n\r\n            } else if (xhr.status === 500) {\r\n                console.error('Request failed.  Returned status of ' + xhr.status);\r\n                alert('Request failed.  Returned status of ' + xhr.status);\r\n            } else if (xhr.status === 401 || xhr.status === 403) {\r\n                console.error('Request failed.  Returned status of ' + xhr.status);\r\n               // document.location.href = identityUrl + \"/Account/Login\";\r\n            }\r\n        };\r\n\r\n        if (authToken !== null) {\r\n            xhr.setRequestHeader(\"Authorization\", \"Bearer \" + authToken);\r\n        }\r\n        xhr.send();\r\n    }\r\n\r\n    httpGet(url, callBack, authToken = null) {\r\n\r\n        var identityUrl = this.identityUrl;\r\n\r\n        var xhr = new XMLHttpRequest();\r\n     //   xhr.withCredentials = true; // force to show browser's default auth dialog\r\n        xhr.open('GET', url);\r\n\r\n\r\n        xhr.onload = function () {\r\n            if (xhr.status === 200) {\r\n                if ( xhr.responseText !== \"\")\r\n                {\r\n                    var data = JSON.parse(xhr.responseText);\r\n                    console.log(1, data);\r\n                }\r\n              \r\n                callBack(data);\r\n               \r\n            } else if (xhr.status === 500) {\r\n                console.error('Request failed.  Returned status of ' + xhr.status);\r\n                alert('Request failed.  Returned status of ' + xhr.status);\r\n                callBack(null);\r\n            } else if (xhr.status === 401 || xhr.status === 403) {\r\n                console.error('Request failed.  Returned status of ' + xhr.status);\r\n                callBack(null);\r\n               // document.location.href = identityUrl + \"/Account/Login\";\r\n            }\r\n            else {\r\n                console.error('Request failed.  Returned status of ' + xhr.status);\r\n                callBack(null);\r\n            }\r\n\r\n        };\r\n\r\n        if (authToken !== null) {\r\n            xhr.setRequestHeader(\"Authorization\", \"Bearer \" + authToken);\r\n        }\r\n\r\n        xhr.send();\r\n    }\r\n\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (HttpUtil);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9DbGllbnRWYW5pbGFKcy9tb2R1bGVzL0h0dHBVdGlsLmpzPzc1NjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFxQzs7QUFFckM7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHFDQUFxQztBQUNyQzs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEscUNBQXFDO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxxQ0FBcUM7QUFDckM7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EscUNBQXFDO0FBQ3JDOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRWUsdUVBQVEiLCJmaWxlIjoiLi9DbGllbnRWYW5pbGFKcy9tb2R1bGVzL0h0dHBVdGlsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt1c2VyVXRpbH0gZnJvbSAnLi4vaW5kZXguanMnO1xyXG5cclxuY2xhc3MgSHR0cFV0aWwge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgfVxyXG5cclxuICAgIGh0dHBDaGVrKHVybCwgY2FsbEJhY2ssIGF1dGhUb2tlbiA9IG51bGwpIHtcclxuXHJcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgIC8veGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7IC8vIGZvcmNlIHRvIHNob3cgYnJvd3NlcidzIGRlZmF1bHQgYXV0aCBkaWFsb2dcclxuICAgICAgICB4aHIub3BlbignR0VUJywgdXJsKTtcclxuXHJcblxyXG4gICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmKHhoci5zdGF0dXMgPT09IDIwMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJPa1wiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHhoci5zdGF0dXMgPT09IDUwMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignUmVxdWVzdCBmYWlsZWQuICBSZXR1cm5lZCBzdGF0dXMgb2YgJyArIHhoci5zdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ1JlcXVlc3QgZmFpbGVkLiAgUmV0dXJuZWQgc3RhdHVzIG9mICcgKyB4aHIuc3RhdHVzKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh4aHIuc3RhdHVzID09PSA0MDEgfHwgeGhyLnN0YXR1cyA9PT0gNDAzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdSZXF1ZXN0IGZhaWxlZC4gIFJldHVybmVkIHN0YXR1cyBvZiAnICsgeGhyLnN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgIC8vIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSBpZGVudGl0eVVybCArIFwiL0FjY291bnQvTG9naW5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlcXVlc3QgZmFpbGVkLiAgUmV0dXJuZWQgc3RhdHVzIG9mICcgKyB4aHIuc3RhdHVzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoYXV0aFRva2VuICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBcIkJlYXJlciBcIiArIGF1dGhUb2tlbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGh0dHBSZXF1ZXN0KHVybCwgZGF0YSwgdHlwZU9mcmVxdWVzdCwgY2FsbGJhY2ssIGF1dGhUb2tlbiA9IG51bGwpIHtcclxuXHJcbiAgICAgICAgdmFyIGlkZW50aXR5VXJsID0gdGhpcy5pZGVudGl0eVVybDtcclxuXHJcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgICAvLyAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOyAvLyBmb3JjZSB0byBzaG93IGJyb3dzZXIncyBkZWZhdWx0IGF1dGggZGlhbG9nXHJcbiAgICAgICAgeGhyLm9wZW4odHlwZU9mcmVxdWVzdCwgdXJsLCB0cnVlKTtcclxuXHJcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XHJcbiAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHhoci5zdGF0dXMgPT09IDUwMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignUmVxdWVzdCBmYWlsZWQuICBSZXR1cm5lZCBzdGF0dXMgb2YgJyArIHhoci5zdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ1JlcXVlc3QgZmFpbGVkLiAgUmV0dXJuZWQgc3RhdHVzIG9mICcgKyB4aHIuc3RhdHVzKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh4aHIuc3RhdHVzID09PSA0MDEgfHwgeGhyLnN0YXR1cyA9PT0gNDAzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdSZXF1ZXN0IGZhaWxlZC4gIFJldHVybmVkIHN0YXR1cyBvZiAnICsgeGhyLnN0YXR1cyk7XHJcbiAgICAgICAgICAgICAvLyAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSBpZGVudGl0eVVybCArIFwiL0FjY291bnQvTG9naW5cIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmIChhdXRoVG9rZW4gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIFwiQmVhcmVyIFwiICsgYXV0aFRva2VuKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHhoci5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVSZXF1ZXN0KHVybCwgYXV0aFRva2VuID0gbnVsbCkge1xyXG5cclxuICAgICAgICB2YXIgaWRlbnRpdHlVcmwgPSB0aGlzLmlkZW50aXR5VXJsO1xyXG5cclxuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgICAvLyAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7IC8vIGZvcmNlIHRvIHNob3cgYnJvd3NlcidzIGRlZmF1bHQgYXV0aCBkaWFsb2dcclxuICAgICAgICB4aHIub3BlbignREVMRVRFJywgdXJsLCB0cnVlKTtcclxuXHJcbiAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSXRlbSBzdWNjZXNzZnVsbHkgZGVsZXRlZFwiKTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeGhyLnN0YXR1cyA9PT0gNTAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdSZXF1ZXN0IGZhaWxlZC4gIFJldHVybmVkIHN0YXR1cyBvZiAnICsgeGhyLnN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICBhbGVydCgnUmVxdWVzdCBmYWlsZWQuICBSZXR1cm5lZCBzdGF0dXMgb2YgJyArIHhoci5zdGF0dXMpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHhoci5zdGF0dXMgPT09IDQwMSB8fCB4aHIuc3RhdHVzID09PSA0MDMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlcXVlc3QgZmFpbGVkLiAgUmV0dXJuZWQgc3RhdHVzIG9mICcgKyB4aHIuc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgLy8gZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IGlkZW50aXR5VXJsICsgXCIvQWNjb3VudC9Mb2dpblwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKGF1dGhUb2tlbiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCZWFyZXIgXCIgKyBhdXRoVG9rZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGh0dHBHZXQodXJsLCBjYWxsQmFjaywgYXV0aFRva2VuID0gbnVsbCkge1xyXG5cclxuICAgICAgICB2YXIgaWRlbnRpdHlVcmwgPSB0aGlzLmlkZW50aXR5VXJsO1xyXG5cclxuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgLy8gICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsgLy8gZm9yY2UgdG8gc2hvdyBicm93c2VyJ3MgZGVmYXVsdCBhdXRoIGRpYWxvZ1xyXG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xyXG5cclxuXHJcbiAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB4aHIucmVzcG9uc2VUZXh0ICE9PSBcIlwiKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygxLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNhbGxCYWNrKGRhdGEpO1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh4aHIuc3RhdHVzID09PSA1MDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlcXVlc3QgZmFpbGVkLiAgUmV0dXJuZWQgc3RhdHVzIG9mICcgKyB4aHIuc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KCdSZXF1ZXN0IGZhaWxlZC4gIFJldHVybmVkIHN0YXR1cyBvZiAnICsgeGhyLnN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICBjYWxsQmFjayhudWxsKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh4aHIuc3RhdHVzID09PSA0MDEgfHwgeGhyLnN0YXR1cyA9PT0gNDAzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdSZXF1ZXN0IGZhaWxlZC4gIFJldHVybmVkIHN0YXR1cyBvZiAnICsgeGhyLnN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICBjYWxsQmFjayhudWxsKTtcclxuICAgICAgICAgICAgICAgLy8gZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IGlkZW50aXR5VXJsICsgXCIvQWNjb3VudC9Mb2dpblwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignUmVxdWVzdCBmYWlsZWQuICBSZXR1cm5lZCBzdGF0dXMgb2YgJyArIHhoci5zdGF0dXMpO1xyXG4gICAgICAgICAgICAgICAgY2FsbEJhY2sobnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKGF1dGhUb2tlbiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCZWFyZXIgXCIgKyBhdXRoVG9rZW4pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgeGhyLnNlbmQoKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEh0dHBVdGlsOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./ClientVanilaJs/modules/HttpUtil.js\n");

/***/ }),

/***/ "./ClientVanilaJs/modules/UserUtil.js":
/*!********************************************!*\
  !*** ./ClientVanilaJs/modules/UserUtil.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var oidc_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! oidc-client */ \"./node_modules/oidc-client/lib/oidc-client.min.js\");\n/* harmony import */ var oidc_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(oidc_client__WEBPACK_IMPORTED_MODULE_0__);\n\r\n\r\n\r\nclass UserUtil {\r\n\r\n    constructor(config) {\r\n        this.config = config;\r\n\r\n        this.authConfig = {\r\n\r\n            authority: this.config.auth.authority, // Адрес нашего IdentityServer\r\n            client_id: this.config.auth.clientId, // должен совпадать с указанным на IdentityServer\r\n            // Адрес страницы, на которую будет перенаправлен браузер после прохождения пользователем аутентификации\r\n            // и получения от пользователя подтверждений - в соответствии с требованиями OpenId Connect\r\n            redirect_uri: this.config.auth.redirectUri,\r\n            // Response Type определяет набор токенов, получаемых от Authorization Endpoint\r\n            // Данное сочетание означает, что мы используем Implicit Flow\r\n            // http://openid.net/specs/openid-connect-core-1_0.html#Authentication\r\n            response_type: this.config.auth.responseType,\r\n            // Получить subject id пользователя, а также поля профиля в id_token, а также получить access_token для доступа к api1 (см. наcтройки IdentityServer)\r\n            scope: this.config.auth.scope,\r\n            // Страница, на которую нужно перенаправить пользователя в случае инициированного им логаута\r\n            post_logout_redirect_uri: this.config.auth.postLogoutRedirectUri,\r\n            // следить за состоянием сессии на IdentityServer, по умолчанию true\r\n            monitorSession: true,\r\n            // интервал в миллисекундах, раз в который нужно проверять сессию пользователя, по умолчанию 2000\r\n            checkSessionInterval: 30000,\r\n            // отзывает access_token в соответствии со стандартом https://tools.ietf.org/html/rfc7009\r\n            revokeAccessTokenOnSignout: true,\r\n            // допустимая погрешность часов на клиенте и серверах, нужна для валидации токенов, по умолчанию 300\r\n            // https://github.com/IdentityModel/oidc-client-js/blob/1.3.0/src/JoseUtil.js#L95\r\n            clockSkew: 300,\r\n            // делать ли запрос к UserInfo endpoint для того, чтоб добавить данные в профиль пользователя\r\n            //loadUserInfo: true,\r\n        };\r\n\r\n        this.userManager = new oidc_client__WEBPACK_IMPORTED_MODULE_0___default.a.UserManager( this.authConfig);\r\n\r\n        // setup logging\r\n\r\n        oidc_client__WEBPACK_IMPORTED_MODULE_0___default.a.Log.logger = console;\r\n        oidc_client__WEBPACK_IMPORTED_MODULE_0___default.a.Log.level = 4;\r\n\r\n        this.userManager.events.addUserLoaded(function () {\r\n            console.log(\"userLoaded\");\r\n        });\r\n        this.userManager.events.addUserUnloaded(function () {\r\n            console.log(\"userUnloaded\");\r\n        });\r\n        this.userManager.events.addAccessTokenExpiring(function () {\r\n            console.log(\"access_token expiring...\");\r\n        });\r\n        this.userManager.events.addAccessTokenExpired(function () {\r\n            console.log(\"access_token expired\");\r\n        });\r\n        this.userManager.events.addSilentRenewError(function (err) {\r\n            console.error(\"silentRenewError: \", err);\r\n        });\r\n\r\n\r\n       \r\n    }\r\n\r\n    getUser(callback) {\r\n        this.userManager.getUser().then(function (user) {\r\n            //user.access_token = 'eyJhbGciOiJSUzI1NiIsImtpZCI6IkY0MzgyNUFFMjQ4NDNFNjMzMjYwQjlBOTU1RDExNDQ4NkZGRURCRUMiLCJ0eXAiOiJKV1QiLCJ4NXQiOiI5RGdscmlTRVBtTXlZTG1wVmRFVVNHXy0yLXcifQ.eyJuYmYiOjE1NjQwNTE5MjQsImV4cCI6MTU2NDA1NTUyNCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAwNCIsImF1ZCI6WyJodHRwczovL2xvY2FsaG9zdDo1MDA0L3Jlc291cmNlcyIsIndlYmFwaSJdLCJjbGllbnRfaWQiOiJ3ZWJzcGEiLCJzdWIiOiI1ZDM5ODk5YjA5ZDAyNjI1NzRkNWYwOWYiLCJhdXRoX3RpbWUiOjE1NjQwNTE5MjIsImlkcCI6ImxvY2FsIiwic2NvcGUiOlsib3BlbmlkIiwicHJvZmlsZSIsIndlYmFwaSIsIm9mZmxpbmVfYWNjZXNzIl0sImFtciI6WyJwd2QiXX0.n9vNo2wkZEEtNS2hHHEroDYiUG0OPoXFkF86poJEJXNhQrndAjQdVMc4FeFehUDP7GOj7pSCAmcllvRiRsUjAQ-IeV5DEjtgFsLxZon8svbb5UPJ-efjULcHT-U2u5a-eWqRQXck1gZ2W9fIzCcaBYzptV_K9gjlhuFLlUVs-L2PQe0gULHu0fKYmZjtdO-bI8hBYo8ZSvvwrRVMVgKp798bmlIX5z12mnh_knLCWCUe-tCn4qe0X0oHgHb3KGRneTR2JpocCQWSvdYYkPm-rR-XK3m8EETq_kxXCdTd1nRcV2pKa0sSynpcLW2MOQiOZ61wuFcsHolGV6K9zWnBFQ'\r\n            callback(user);\r\n\r\n        });\r\n    }\r\n\r\n    login() {\r\n        // Инициировать логин\r\n        this.userManager.signinRedirect();\r\n    }\r\n    logout() {\r\n        // Инициировать логаут\r\n        this.userManager.signoutRedirect();\r\n    }\r\n\r\n\r\n\r\n    requestUrl(mgr, url) {\r\n        mgr.getUser().then(function (user) {\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open(\"GET\", url);\r\n            xhr.onload = function () {\r\n                log(xhr.status, 200 == xhr.status ? JSON.parse(xhr.responseText) : \"An error has occured.\");\r\n            }\r\n            // добавляем заголовок Authorization с access_token в качестве Bearer - токена. \r\n            xhr.setRequestHeader(\"Authorization\", \"Bearer \" + user.access_token);\r\n            xhr.send();\r\n        });\r\n    }\r\n\r\n    log() {\r\n        document.getElementById('results').innerText = '';\r\n\r\n        Array.prototype.forEach.call(arguments, function (msg) {\r\n            if (msg instanceof Error) {\r\n                msg = \"Error: \" + msg.message;\r\n            }\r\n            else if (typeof msg !== 'string') {\r\n                msg = JSON.stringify(msg, null, 2);\r\n            }\r\n            document.getElementById('results').innerHTML += msg + '\\r\\n';\r\n        });\r\n    }\r\n\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserUtil);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9DbGllbnRWYW5pbGFKcy9tb2R1bGVzL1VzZXJVdGlsLmpzPzllOWIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUMrQjs7QUFFL0I7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0Isa0RBQUk7O0FBRW5DOztBQUVBLFFBQVEsa0RBQUk7QUFDWixRQUFRLGtEQUFJOztBQUVaO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7Ozs7QUFJVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTs7QUFFZSx1RUFBUSIsImZpbGUiOiIuL0NsaWVudFZhbmlsYUpzL21vZHVsZXMvVXNlclV0aWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IE9pZGMgZnJvbSAnb2lkYy1jbGllbnQnO1xyXG5cclxuY2xhc3MgVXNlclV0aWwge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG5cclxuICAgICAgICB0aGlzLmF1dGhDb25maWcgPSB7XHJcblxyXG4gICAgICAgICAgICBhdXRob3JpdHk6IHRoaXMuY29uZmlnLmF1dGguYXV0aG9yaXR5LCAvLyDQkNC00YDQtdGBINC90LDRiNC10LPQviBJZGVudGl0eVNlcnZlclxyXG4gICAgICAgICAgICBjbGllbnRfaWQ6IHRoaXMuY29uZmlnLmF1dGguY2xpZW50SWQsIC8vINC00L7Qu9C20LXQvSDRgdC+0LLQv9Cw0LTQsNGC0Ywg0YEg0YPQutCw0LfQsNC90L3Ri9C8INC90LAgSWRlbnRpdHlTZXJ2ZXJcclxuICAgICAgICAgICAgLy8g0JDQtNGA0LXRgSDRgdGC0YDQsNC90LjRhtGLLCDQvdCwINC60L7RgtC+0YDRg9GOINCx0YPQtNC10YIg0L/QtdGA0LXQvdCw0L/RgNCw0LLQu9C10L0g0LHRgNCw0YPQt9C10YAg0L/QvtGB0LvQtSDQv9GA0L7RhdC+0LbQtNC10L3QuNGPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC8INCw0YPRgtC10L3RgtC40YTQuNC60LDRhtC40LhcclxuICAgICAgICAgICAgLy8g0Lgg0L/QvtC70YPRh9C10L3QuNGPINC+0YIg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNC5IC0g0LIg0YHQvtC+0YLQstC10YLRgdGC0LLQuNC4INGBINGC0YDQtdCx0L7QstCw0L3QuNGP0LzQuCBPcGVuSWQgQ29ubmVjdFxyXG4gICAgICAgICAgICByZWRpcmVjdF91cmk6IHRoaXMuY29uZmlnLmF1dGgucmVkaXJlY3RVcmksXHJcbiAgICAgICAgICAgIC8vIFJlc3BvbnNlIFR5cGUg0L7Qv9GA0LXQtNC10LvRj9C10YIg0L3QsNCx0L7RgCDRgtC+0LrQtdC90L7Qsiwg0L/QvtC70YPRh9Cw0LXQvNGL0YUg0L7RgiBBdXRob3JpemF0aW9uIEVuZHBvaW50XHJcbiAgICAgICAgICAgIC8vINCU0LDQvdC90L7QtSDRgdC+0YfQtdGC0LDQvdC40LUg0L7Qt9C90LDRh9Cw0LXRgiwg0YfRgtC+INC80Ysg0LjRgdC/0L7Qu9GM0LfRg9C10LwgSW1wbGljaXQgRmxvd1xyXG4gICAgICAgICAgICAvLyBodHRwOi8vb3BlbmlkLm5ldC9zcGVjcy9vcGVuaWQtY29ubmVjdC1jb3JlLTFfMC5odG1sI0F1dGhlbnRpY2F0aW9uXHJcbiAgICAgICAgICAgIHJlc3BvbnNlX3R5cGU6IHRoaXMuY29uZmlnLmF1dGgucmVzcG9uc2VUeXBlLFxyXG4gICAgICAgICAgICAvLyDQn9C+0LvRg9GH0LjRgtGMIHN1YmplY3QgaWQg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPLCDQsCDRgtCw0LrQttC1INC/0L7Qu9GPINC/0YDQvtGE0LjQu9GPINCyIGlkX3Rva2VuLCDQsCDRgtCw0LrQttC1INC/0L7Qu9GD0YfQuNGC0YwgYWNjZXNzX3Rva2VuINC00LvRjyDQtNC+0YHRgtGD0L/QsCDQuiBhcGkxICjRgdC8LiDQvdCwY9GC0YDQvtC50LrQuCBJZGVudGl0eVNlcnZlcilcclxuICAgICAgICAgICAgc2NvcGU6IHRoaXMuY29uZmlnLmF1dGguc2NvcGUsXHJcbiAgICAgICAgICAgIC8vINCh0YLRgNCw0L3QuNGG0LAsINC90LAg0LrQvtGC0L7RgNGD0Y4g0L3Rg9C20L3QviDQv9C10YDQtdC90LDQv9GA0LDQstC40YLRjCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0LIg0YHQu9GD0YfQsNC1INC40L3QuNGG0LjQuNGA0L7QstCw0L3QvdC+0LPQviDQuNC8INC70L7Qs9Cw0YPRgtCwXHJcbiAgICAgICAgICAgIHBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaTogdGhpcy5jb25maWcuYXV0aC5wb3N0TG9nb3V0UmVkaXJlY3RVcmksXHJcbiAgICAgICAgICAgIC8vINGB0LvQtdC00LjRgtGMINC30LAg0YHQvtGB0YLQvtGP0L3QuNC10Lwg0YHQtdGB0YHQuNC4INC90LAgSWRlbnRpdHlTZXJ2ZXIsINC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOIHRydWVcclxuICAgICAgICAgICAgbW9uaXRvclNlc3Npb246IHRydWUsXHJcbiAgICAgICAgICAgIC8vINC40L3RgtC10YDQstCw0Lsg0LIg0LzQuNC70LvQuNGB0LXQutGD0L3QtNCw0YUsINGA0LDQtyDQsiDQutC+0YLQvtGA0YvQuSDQvdGD0LbQvdC+INC/0YDQvtCy0LXRgNGP0YLRjCDRgdC10YHRgdC40Y4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPLCDQv9C+INGD0LzQvtC70YfQsNC90LjRjiAyMDAwXHJcbiAgICAgICAgICAgIGNoZWNrU2Vzc2lvbkludGVydmFsOiAzMDAwMCxcclxuICAgICAgICAgICAgLy8g0L7RgtC30YvQstCw0LXRgiBhY2Nlc3NfdG9rZW4g0LIg0YHQvtC+0YLQstC10YLRgdGC0LLQuNC4INGB0L4g0YHRgtCw0L3QtNCw0YDRgtC+0LwgaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzcwMDlcclxuICAgICAgICAgICAgcmV2b2tlQWNjZXNzVG9rZW5PblNpZ25vdXQ6IHRydWUsXHJcbiAgICAgICAgICAgIC8vINC00L7Qv9GD0YHRgtC40LzQsNGPINC/0L7Qs9GA0LXRiNC90L7RgdGC0Ywg0YfQsNGB0L7QsiDQvdCwINC60LvQuNC10L3RgtC1INC4INGB0LXRgNCy0LXRgNCw0YUsINC90YPQttC90LAg0LTQu9GPINCy0LDQu9C40LTQsNGG0LjQuCDRgtC+0LrQtdC90L7Qsiwg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4gMzAwXHJcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9JZGVudGl0eU1vZGVsL29pZGMtY2xpZW50LWpzL2Jsb2IvMS4zLjAvc3JjL0pvc2VVdGlsLmpzI0w5NVxyXG4gICAgICAgICAgICBjbG9ja1NrZXc6IDMwMCxcclxuICAgICAgICAgICAgLy8g0LTQtdC70LDRgtGMINC70Lgg0LfQsNC/0YDQvtGBINC6IFVzZXJJbmZvIGVuZHBvaW50INC00LvRjyDRgtC+0LPQviwg0YfRgtC+0LEg0LTQvtCx0LDQstC40YLRjCDQtNCw0L3QvdGL0LUg0LIg0L/RgNC+0YTQuNC70Ywg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbiAgICAgICAgICAgIC8vbG9hZFVzZXJJbmZvOiB0cnVlLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudXNlck1hbmFnZXIgPSBuZXcgT2lkYy5Vc2VyTWFuYWdlciggdGhpcy5hdXRoQ29uZmlnKTtcclxuXHJcbiAgICAgICAgLy8gc2V0dXAgbG9nZ2luZ1xyXG5cclxuICAgICAgICBPaWRjLkxvZy5sb2dnZXIgPSBjb25zb2xlO1xyXG4gICAgICAgIE9pZGMuTG9nLmxldmVsID0gNDtcclxuXHJcbiAgICAgICAgdGhpcy51c2VyTWFuYWdlci5ldmVudHMuYWRkVXNlckxvYWRlZChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidXNlckxvYWRlZFwiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnVzZXJNYW5hZ2VyLmV2ZW50cy5hZGRVc2VyVW5sb2FkZWQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInVzZXJVbmxvYWRlZFwiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnVzZXJNYW5hZ2VyLmV2ZW50cy5hZGRBY2Nlc3NUb2tlbkV4cGlyaW5nKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJhY2Nlc3NfdG9rZW4gZXhwaXJpbmcuLi5cIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy51c2VyTWFuYWdlci5ldmVudHMuYWRkQWNjZXNzVG9rZW5FeHBpcmVkKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJhY2Nlc3NfdG9rZW4gZXhwaXJlZFwiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnVzZXJNYW5hZ2VyLmV2ZW50cy5hZGRTaWxlbnRSZW5ld0Vycm9yKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcInNpbGVudFJlbmV3RXJyb3I6IFwiLCBlcnIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VyKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy51c2VyTWFuYWdlci5nZXRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xyXG4gICAgICAgICAgICAvL3VzZXIuYWNjZXNzX3Rva2VuID0gJ2V5SmhiR2NpT2lKU1V6STFOaUlzSW10cFpDSTZJa1kwTXpneU5VRkZNalE0TkRORk5qTXpNall3UWpsQk9UVTFSREV4TkRRNE5rWkdSVVJDUlVNaUxDSjBlWEFpT2lKS1YxUWlMQ0o0TlhRaU9pSTVSR2RzY21sVFJWQnRUWGxaVEcxd1ZtUkZWVk5IWHkweUxYY2lmUS5leUp1WW1ZaU9qRTFOalF3TlRFNU1qUXNJbVY0Y0NJNk1UVTJOREExTlRVeU5Dd2lhWE56SWpvaWFIUjBjSE02THk5c2IyTmhiR2h2YzNRNk5UQXdOQ0lzSW1GMVpDSTZXeUpvZEhSd2N6b3ZMMnh2WTJGc2FHOXpkRG8xTURBMEwzSmxjMjkxY21ObGN5SXNJbmRsWW1Gd2FTSmRMQ0pqYkdsbGJuUmZhV1FpT2lKM1pXSnpjR0VpTENKemRXSWlPaUkxWkRNNU9EazVZakE1WkRBeU5qSTFOelJrTldZd09XWWlMQ0poZFhSb1gzUnBiV1VpT2pFMU5qUXdOVEU1TWpJc0ltbGtjQ0k2SW14dlkyRnNJaXdpYzJOdmNHVWlPbHNpYjNCbGJtbGtJaXdpY0hKdlptbHNaU0lzSW5kbFltRndhU0lzSW05bVpteHBibVZmWVdOalpYTnpJbDBzSW1GdGNpSTZXeUp3ZDJRaVhYMC5uOXZObzJ3a1pFRXROUzJoSEhFcm9EWWlVRzBPUG9YRmtGODZwb0pFSlhOaFFybmRBalFkVk1jNEZlRmVoVURQN0dPajdwU0NBbWNsbHZSaVJzVWpBUS1JZVY1REVqdGdGc0x4Wm9uOHN2YmI1VVBKLWVmalVMY0hULVUydTVhLWVXcVJRWGNrMWdaMlc5Zkl6Q2NhQll6cHRWX0s5Z2psaHVGTGxVVnMtTDJQUWUwZ1VMSHUwZktZbVpqdGRPLWJJOGhCWW84WlN2dndyUlZNVmdLcDc5OGJtbElYNXoxMm1uaF9rbkxDV0NVZS10Q240cWUwWDBvSGdIYjNLR1JuZVRSMkpwb2NDUVdTdmRZWWtQbS1yUi1YSzNtOEVFVHFfa3hYQ2RUZDFuUmNWMnBLYTBzU3lucGNMVzJNT1FpT1o2MXd1RmNzSG9sR1Y2Szl6V25CRlEnXHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHVzZXIpO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBsb2dpbigpIHtcclxuICAgICAgICAvLyDQmNC90LjRhtC40LjRgNC+0LLQsNGC0Ywg0LvQvtCz0LjQvVxyXG4gICAgICAgIHRoaXMudXNlck1hbmFnZXIuc2lnbmluUmVkaXJlY3QoKTtcclxuICAgIH1cclxuICAgIGxvZ291dCgpIHtcclxuICAgICAgICAvLyDQmNC90LjRhtC40LjRgNC+0LLQsNGC0Ywg0LvQvtCz0LDRg9GCXHJcbiAgICAgICAgdGhpcy51c2VyTWFuYWdlci5zaWdub3V0UmVkaXJlY3QoKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIHJlcXVlc3RVcmwobWdyLCB1cmwpIHtcclxuICAgICAgICBtZ3IuZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcclxuICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICB4aHIub3BlbihcIkdFVFwiLCB1cmwpO1xyXG4gICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbG9nKHhoci5zdGF0dXMsIDIwMCA9PSB4aHIuc3RhdHVzID8gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KSA6IFwiQW4gZXJyb3IgaGFzIG9jY3VyZWQuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vINC00L7QsdCw0LLQu9GP0LXQvCDQt9Cw0LPQvtC70L7QstC+0LogQXV0aG9yaXphdGlvbiDRgSBhY2Nlc3NfdG9rZW4g0LIg0LrQsNGH0LXRgdGC0LLQtSBCZWFyZXIgLSDRgtC+0LrQtdC90LAuIFxyXG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCZWFyZXIgXCIgKyB1c2VyLmFjY2Vzc190b2tlbik7XHJcbiAgICAgICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9nKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN1bHRzJykuaW5uZXJUZXh0ID0gJyc7XHJcblxyXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYXJndW1lbnRzLCBmdW5jdGlvbiAobXNnKSB7XHJcbiAgICAgICAgICAgIGlmIChtc2cgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgbXNnID0gXCJFcnJvcjogXCIgKyBtc2cubWVzc2FnZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgbXNnICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgbXNnID0gSlNPTi5zdHJpbmdpZnkobXNnLCBudWxsLCAyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdWx0cycpLmlubmVySFRNTCArPSBtc2cgKyAnXFxyXFxuJztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJVdGlsOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./ClientVanilaJs/modules/UserUtil.js\n");

/***/ }),

/***/ "./ClientVanilaJs/modules/pages/car-detail.js":
/*!****************************************************!*\
  !*** ./ClientVanilaJs/modules/pages/car-detail.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _DomUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../DomUtil */ \"./ClientVanilaJs/modules/DomUtil.js\");\n/* harmony import */ var _global_scopes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./global-scopes.js */ \"./ClientVanilaJs/modules/pages/global-scopes.js\");\n/* harmony import */ var _HttpUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../HttpUtil.js */ \"./ClientVanilaJs/modules/HttpUtil.js\");\n\r\n\r\nlet domUtil = new _DomUtil__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\r\n\r\n\r\n\r\n\r\nlet helper = new _HttpUtil_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](\"\");\r\n\r\n\r\nclass CarDetails {\r\n\r\n    constructor(user, config) {\r\n        this.user = user;\r\n        this.config = config;\r\n    }\r\n\r\n    pageHandler(pageEl) {\r\n\r\n        var user = this.user;\r\n        var config = this.config;\r\n\r\n\r\n        var itemListContainerEl = pageEl.querySelector('.js-item-list-container');\r\n        var itemListEl = pageEl.querySelector('.js-item-list');\r\n        var listItemTemplateEl = itemListContainerEl.querySelector('.js-list-item-template');\r\n\r\n        function getData(offset = 0, limit = 2, callBack = null) {\r\n            helper.httpGet(config.urls.api + '/cardetails?offset=' + offset + '&limit=' + limit, function (data) {\r\n                console.log(2, data);\r\n                if (callBack !== null) {\r\n                    callBack(data);\r\n                }\r\n            }, user.access_token);\r\n        }\r\n\r\n        function addDataItemsBlock(item, i) {\r\n            var clone = listItemTemplateEl.cloneNode(true);\r\n            var textContainer = clone.querySelector('.js-item-container');\r\n            var titleEl = clone.querySelector('.list-item-title-text');\r\n            var totalRideEl = clone.querySelector('.list-item-ride-total-text');\r\n            var changeRideEl = clone.querySelector('.list-item-change-ride-text');\r\n            var priceEl = clone.querySelector('.list-item-price-text');\r\n            var dateEl = clone.querySelector('.list-item-date-text');\r\n            var recomendedReplaceEl = clone.querySelector('.list-item-recomended-replace-text');\r\n            var listItemRideContainer = clone.querySelector('.list-item-ride-container ')\r\n\r\n            // begin edit picture elements (delete,put)\r\n            var containerEditPictureEl = clone.querySelector('.container-edit-icon');\r\n            var deletePictureEl = containerEditPictureEl.querySelector('.list-item-icon-delete');\r\n            var putPictureEl = containerEditPictureEl.querySelector('.list-item-icon-put');\r\n            // end edit picture elements (delete,put)\r\n\r\n            item.recomendedReplace <= item.totalRide ?\r\n                listItemRideContainer.classList.add('border-wrong') :\r\n                listItemRideContainer.classList.remove('border-wrong');\r\n\r\n            titleEl.innerText = item.name;\r\n            totalRideEl.innerText = item.totalRide;\r\n            changeRideEl.innerText = item.changeRide;\r\n            priceEl.innerText = item.priceOfDetail;\r\n            dateEl.innerText = item.dateOfReplace.slice(0, 10);\r\n            recomendedReplaceEl.innerText = item.recomendedReplace;\r\n\r\n            textContainer.setAttribute('item-id', item.carItemId);\r\n            //textEl.setAttribute('item-id', i);\r\n\r\n            deletePictureEl.setAttribute('item-id', item.carItemId);\r\n            putPictureEl.setAttribute('item-id', item.carItemId);\r\n\r\n            clone.setAttribute('item-id', item.carItemId);\r\n            clone.classList.remove('list-item--hidden');\r\n            itemListEl.appendChild(clone);\r\n        }\r\n\r\n        function showPageData(items) {\r\n            // remove all childs\r\n            while (itemListEl.firstChild) {\r\n                itemListEl.removeChild(itemListEl.firstChild);\r\n            }\r\n            var pageOffset = (page * limit);\r\n            items.forEach(function (item, i) {\r\n                addDataItemsBlock(item, item.CarItemId);\r\n            });\r\n            //addDataItemsBlock(items[0], 0);\r\n        }\r\n\r\n        var totalCount = 0;\r\n        var page = 0;\r\n        var limit = 15;\r\n        var pageData = {};\r\n        var carId = \"\";\r\n        var offsetCarDetails = page * limit;\r\n        var calcPagesCount = function () {\r\n            return Math.ceil(totalCount / limit);\r\n        }\r\n\r\n        function getPageData(page = 0, limit = 15, callBack) {\r\n            var pages = Math.ceil(totalCount / limit);\r\n            page = page < 0 ? 0 : page;\r\n            page = page > pages ? pages : page;\r\n            offsetCarDetails = page * limit;\r\n\r\n            getData(offsetCarDetails, limit, callBack);\r\n        }\r\n\r\n        function showPage(page, limit) {\r\n            getPageData(page, limit, function (response) {\r\n                totalCount = response.countCarsItems;\r\n                carId = response.carEntityId;\r\n                pageData = response.carItems;\r\n                console.log(\"pageData\", pageData);\r\n                showPageData(pageData);\r\n            });\r\n        }\r\n\r\n        function setNumberPage(page) {\r\n            currentButtonEl.innerText = page + 1;\r\n        }\r\n\r\n        var firstButtonEl = itemListContainerEl.querySelector('.js-first-page-button');\r\n        var prevButtonEl = itemListContainerEl.querySelector('.js-prev-page-button');\r\n        var currentButtonEl = itemListContainerEl.querySelector('.js-current-page-button');\r\n        var nextButtonEl = itemListContainerEl.querySelector('.js-next-page-button');\r\n        var lastButtonEl = itemListContainerEl.querySelector('.js-last-page-button');\r\n\r\n\r\n        domUtil.addBubleEventListener(firstButtonEl, \".button-icon\", \"click\", _global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().itemListFirstButton, function (e) {\r\n            page = 0;\r\n            setNumberPage(page)\r\n            showPage(page, limit);\r\n        });\r\n\r\n        domUtil.addBubleEventListener(prevButtonEl, \".button-icon\", \"click\", _global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().itemListPrevButton, function (e) {\r\n            page = page <= 0 ? 0 : page - 1;\r\n            setNumberPage(page)\r\n            showPage(page, limit);\r\n        });\r\n\r\n        domUtil.addBubleEventListener(nextButtonEl, \".button-icon\", \"click\", _global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().itemListNextButton, function (e) {\r\n            page = (page < calcPagesCount() - 1) ? page + 1 : (calcPagesCount() - 1);\r\n            setNumberPage(page)\r\n            showPage(page, limit);\r\n        });\r\n\r\n        domUtil.addBubleEventListener(lastButtonEl, \".button-icon\", \"click\", _global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().itemListLastButton, function (e) {\r\n            page = calcPagesCount() - 1;\r\n            setNumberPage(page)\r\n            showPage(page, limit);\r\n        });\r\n\r\n\r\n\r\n        domUtil.addBubleEventListener(itemListContainerEl, '.list-item-icon-delete', 'click', _global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().itemListDeleteButton, function (e, actualEl, desiredEl) {\r\n            e.stopPropagation();\r\n\r\n            var itemId = desiredEl.getAttribute('item-id');\r\n\r\n            let result = pageData.find(x => x.carItemId === itemId);\r\n\r\n\r\n            if (confirm(`Do you want to delete ${result.name}`)) {\r\n\r\n                var idItemUrl = `${config.urls.api}/delete/caritem?detailId=${itemId}`;\r\n                deleteData(idItemUrl);\r\n\r\n                showPage(page, limit);\r\n            }\r\n        });\r\n\r\n        var idItemPutUrl = '';// used for put\r\n        var formDataSend = {};\r\n        var modalWindowForm = document.querySelector('.form-dialog');\r\n        var formButtonEl = document.querySelectorAll('.form-control-button');\r\n\r\n        document.querySelector('.modal-window-close-button').onclick = function () {\r\n            modalWindowForm.close();\r\n        };\r\n\r\n        domUtil.addBubleEventListener(itemListContainerEl, '.list-item-icon-put', 'click', _global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().itemListPutButton, function (e, actualEl, desiredEl) {\r\n            e.stopPropagation();\r\n\r\n\r\n\r\n            var numberOfItem1 = desiredEl.getAttribute('item-id');\r\n            var formPutButtonEl = document.querySelector('.js-put-button');\r\n            var formIsChanchedButtonEl = document.querySelector('.is-replaced-checkbox-container');\r\n\r\n            let currentPageDataEl = pageData.find(x => x.carItemId === numberOfItem1);\r\n\r\n\r\n            formButtonEl.forEach(function (item) {\r\n                item.classList.remove('active');\r\n                item.classList.add('hidden');\r\n            });\r\n\r\n            formPutButtonEl.classList.replace('hidden', 'active');\r\n            formIsChanchedButtonEl.classList.replace('hidden', 'active');\r\n            modalWindowForm.showModal();\r\n\r\n            defaultFullfieldForm(currentPageDataEl);\r\n\r\n            domUtil.addBubleEventListener(formPutButtonEl, '.js-put-button', 'click', _global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().formPutButton, function (e) {\r\n\r\n                idItemPutUrl = `${config.urls.api}/put/caritem`;\r\n\r\n                var totalRideObj = {};\r\n\r\n                if (makeRequestBody(formDataSend, totalRideObj)) {\r\n\r\n                    if (/^\\d+$/.test(totalRideObj.TotalRide)) {\r\n                        var url = config.urls.api + \"/totalride/set\";\r\n                        totalRideObj.Id = carId;\r\n                        console.log(totalRideObj);\r\n                        SendTotalRide(url,totalRideObj);\r\n                    }\r\n\r\n                    formDataSend.CarItemId = numberOfItem1;\r\n                    console.log(formDataSend);\r\n\r\n                    updateData(idItemPutUrl, formDataSend);\r\n                    modalWindowForm.close();\r\n                }\r\n            });\r\n\r\n        });// event listener on PUT button\r\n\r\n\r\n        if (!_global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().findCarItemInput.state) {\r\n\r\n            itemListContainerEl.querySelector('.find-car-item-input').oninput = Delay(function (e) {\r\n\r\n                if (this.value === \"\") {\r\n                    showPage(0, limit);\r\n                }\r\n                else {\r\n                    helper.httpGet(config.urls.api + '/find/caritem?name=' + this.value, function (searchResult) {\r\n                        showPageData(searchResult);\r\n                    }, user.access_token);\r\n                }\r\n            }, 1000)\r\n        }\r\n\r\n        function Delay(callback, ms) { // for search car item\r\n            var timer = 0;\r\n            return function () {\r\n                var context = this, args = arguments;\r\n                clearTimeout(timer);\r\n                timer = setTimeout(function () {\r\n                    callback.apply(context, args);\r\n                }, ms || 0);\r\n            };\r\n        }\r\n\r\n\r\n        domUtil.addBubleEventListener(itemListContainerEl, '.item-list-pager__add-button', 'click', _global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().itemListAddButton, function (e, actualEl, desiredEl) {\r\n            e.stopPropagation();\r\n\r\n            var formAddButtonEl = document.querySelector('.js-add-button');\r\n\r\n            formButtonEl.forEach(function (item) {\r\n                item.classList.remove('active');\r\n                item.classList.add('hidden');\r\n            });\r\n\r\n            formAddButtonEl.classList.replace('hidden', 'active');\r\n            modalWindowForm.showModal();\r\n\r\n            domUtil.addBubleEventListener(formAddButtonEl, \".js-add-button\", \"click\", _global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().formAddButton, function (e, desiredEl) {\r\n\r\n                var totalRideObj = {};\r\n\r\n                if (makeRequestBody(formDataSend, totalRideObj)) {\r\n                    var postUrl = `${config.urls.api}/add/caritem`;// used for add item\r\n\r\n                    if (/^\\d+$/.test(totalRideObj.TotalRide)) {\r\n                        var url = config.urls.api + \"/totalride/set\";\r\n                        totalRideObj.Id = carId;\r\n                        console.log(totalRideObj);\r\n                        SendTotalRide(url,totalRideObj);\r\n                    }\r\n\r\n                    formDataSend.CarEntityId = carId;\r\n                    sendData(postUrl, formDataSend);\r\n                    showPage(page, limit);\r\n                    modalWindowForm.close();\r\n                } \r\n\r\n            });\r\n        });// event listener on ADD button\r\n\r\n        function SendTotalRide(url,data) {\r\n            helper.httpRequest(url, data, \"POST\", function (request) {\r\n\r\n            }, user.access_token);\r\n        }\r\n\r\n        var formResetButton = document.querySelector('.reset-button');\r\n\r\n        formResetButton.onclick = function (e) {\r\n\r\n            var CarItemFormEl = document.forms.NewCarItem;\r\n\r\n            if (CarItemFormEl.elements.name.classList.contains('input-field-empty-js')) {\r\n                CarItemFormEl.elements.name.classList.remove('input-field-empty-js');\r\n            }\r\n\r\n            if (CarItemFormEl.elements.price.classList.contains('input-field-empty-js')) {\r\n                CarItemFormEl.elements.price.classList.remove('input-field-empty-js');\r\n            }\r\n\r\n            if (CarItemFormEl.elements.date.classList.contains('input-field-empty-js')) {\r\n                CarItemFormEl.elements.date.classList.remove('input-field-empty-js');\r\n            }\r\n\r\n            if (CarItemFormEl.elements.totalRace.classList.contains('input-field-empty-js')) {\r\n                CarItemFormEl.elements.totalRace.classList.remove('input-field-empty-js');\r\n            }\r\n\r\n            if (CarItemFormEl.elements.recomendation.classList.contains('input-field-empty-js')) {\r\n                CarItemFormEl.elements.recomendation.classList.remove('input-field-empty-js');\r\n            }\r\n\r\n\r\n        };// removes all input fields with red border when click on \"reset\"\r\n\r\n        function defaultFullfieldForm(data) {\r\n            var CarItemFormEl = document.forms.NewCarItem;\r\n\r\n            CarItemFormEl.elements.name.value = data.name;\r\n\r\n            CarItemFormEl.elements.price.value = data.priceOfDetail;\r\n\r\n            CarItemFormEl.elements.recomendation.value = data.recomendedReplace;\r\n\r\n            CarItemFormEl.elements.totalRace.value = pageData.carsTotalRide;\r\n\r\n            CarItemFormEl.elements.date.value = data.dateOfReplace.slice(0, 10);\r\n\r\n        }\r\n\r\n        function makeRequestBody(formDataSend, totalRideObj) {\r\n\r\n            var CarItemFormEl = document.forms.NewCarItem;\r\n\r\n\r\n            formDataSend.IsTotalRideChanged = CarItemFormEl.elements.isRepalced.checked;\r\n\r\n\r\n            formDataSend.Name = CarItemFormEl.elements.name.value ? CarItemFormEl.elements.name.value :\r\n                CarItemFormEl.elements.name.classList.add('input-field-empty-js');\r\n\r\n            formDataSend.PriceOfDetail = (CarItemFormEl.elements.price.value &&\r\n                (/^\\d+$/.test(CarItemFormEl.elements.price.value))) ?\r\n                CarItemFormEl.elements.price.value :\r\n                CarItemFormEl.elements.price.classList.add('input-field-empty-js');\r\n\r\n            formDataSend.RecomendedReplace = (CarItemFormEl.elements.recomendation.value &&\r\n                (/^\\d+$/.test(CarItemFormEl.elements.recomendation.value))) ?\r\n                CarItemFormEl.elements.recomendation.value :\r\n                CarItemFormEl.elements.recomendation.classList.add('input-field-empty-js');\r\n\r\n            totalRideObj.TotalRide = (CarItemFormEl.elements.totalRace.value &&\r\n                (/^\\d+$/.test(CarItemFormEl.elements.totalRace.value))) ?\r\n                Number(CarItemFormEl.elements.totalRace.value) :\r\n                CarItemFormEl.elements.totalRace.classList.add('input-field-empty-js');\r\n\r\n            formDataSend.DateOfReplace = (CarItemFormEl.elements.date.value &&\r\n                (/([12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))/.test(CarItemFormEl.elements.date.value))) ?\r\n                CarItemFormEl.elements.date.value :\r\n                CarItemFormEl.elements.date.classList.add('input-field-empty-js');\r\n\r\n\r\n            formDataSend.ChangeRide = String(Number(formDataSend.RecomendedReplace) + Number(totalRideObj.TotalRide));\r\n\r\n            CarItemFormEl.elements.name.onfocus = function () {\r\n                if (CarItemFormEl.elements.name.classList.contains('input-field-empty-js')) {\r\n                    CarItemFormEl.elements.name.classList.remove('input-field-empty-js');\r\n                }\r\n            }\r\n\r\n            CarItemFormEl.elements.price.onfocus = function () {\r\n                if (CarItemFormEl.elements.price.classList.contains('input-field-empty-js')) {\r\n                    CarItemFormEl.elements.price.classList.remove('input-field-empty-js');\r\n                }\r\n            }\r\n\r\n            CarItemFormEl.elements.date.onfocus = function () {\r\n                if (CarItemFormEl.elements.date.classList.contains('input-field-empty-js')) {\r\n                    CarItemFormEl.elements.date.classList.remove('input-field-empty-js');\r\n                }\r\n            }\r\n\r\n            CarItemFormEl.elements.totalRace.onfocus = function () {\r\n                if (CarItemFormEl.elements.totalRace.classList.contains('input-field-empty-js')) {\r\n                    CarItemFormEl.elements.totalRace.classList.remove('input-field-empty-js');\r\n                }\r\n            }\r\n\r\n            CarItemFormEl.elements.recomendation.onfocus = function () {\r\n                if (CarItemFormEl.elements.recomendation.classList.contains('input-field-empty-js')) {\r\n                    CarItemFormEl.elements.recomendation.classList.remove('input-field-empty-js');\r\n                }\r\n            }\r\n\r\n            if (formDataSend.Name &&\r\n                formDataSend.PriceOfDetail &&\r\n                formDataSend.DateOfReplace &&\r\n                totalRideObj.TotalRide &&\r\n                formDataSend.RecomendedReplace) {\r\n                return true;\r\n            }\r\n        }// makes request body and checks empty field(s)\r\n\r\n\r\n        function sendData(url, data) {\r\n            helper.httpRequest(url, data, 'POST', function (request) {\r\n               \r\n            }, user.access_token);\r\n        }\r\n\r\n        function updateData(url, data) {\r\n            helper.httpRequest(url, data, 'PUT', function (request) {\r\n\r\n            }, user.access_token);\r\n        }\r\n\r\n        function deleteData(url) {\r\n\r\n            console.log(\"Delete to\", url);\r\n            helper.deleteRequest(url, user.access_token);\r\n\r\n        }\r\n\r\n        showPage(page, limit);\r\n        setNumberPage(0);\r\n    }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (CarDetails);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9DbGllbnRWYW5pbGFKcy9tb2R1bGVzL3BhZ2VzL2Nhci1kZXRhaWwuanM/MTdkNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUNpQztBQUNqQyxrQkFBa0IsZ0RBQU87O0FBRXFCOztBQUVSO0FBQ3RDLGlCQUFpQixvREFBUTs7O0FBR3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0EsOEVBQThFLHlEQUFZO0FBQzFGO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQsNkVBQTZFLHlEQUFZO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQsNkVBQTZFLHlEQUFZO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQsNkVBQTZFLHlEQUFZO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBLFNBQVM7Ozs7QUFJVCw4RkFBOEYseURBQVk7QUFDMUc7O0FBRUE7O0FBRUE7OztBQUdBLGlEQUFpRCxZQUFZOztBQUU3RCxtQ0FBbUMsZ0JBQWdCLDJCQUEyQixPQUFPO0FBQ3JGOztBQUVBO0FBQ0E7QUFDQSxTQUFTOztBQUVULDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDJGQUEyRix5REFBWTtBQUN2Rzs7OztBQUlBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsc0ZBQXNGLHlEQUFZOztBQUVsRyxrQ0FBa0MsZ0JBQWdCOztBQUVsRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViLFNBQVMsRUFBRTs7O0FBR1gsYUFBYSx5REFBWTs7QUFFekI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiOztBQUVBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTs7O0FBR0Esb0dBQW9HLHlEQUFZO0FBQ2hIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTs7QUFFQSxzRkFBc0YseURBQVk7O0FBRWxHOztBQUVBO0FBQ0EscUNBQXFDLGdCQUFnQixjQUFjOztBQUVuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQjs7QUFFQSxhQUFhO0FBQ2IsU0FBUyxFQUFFOztBQUVYO0FBQ0E7O0FBRUEsYUFBYTtBQUNiOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBLFVBQVU7O0FBRVY7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7O0FBR0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEIsRUFBRTtBQUM1QjtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOzs7QUFHVDtBQUNBOztBQUVBLGFBQWE7QUFDYjs7QUFFQTtBQUNBOztBQUVBLGFBQWE7QUFDYjs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLHlFQUFVIiwiZmlsZSI6Ii4vQ2xpZW50VmFuaWxhSnMvbW9kdWxlcy9wYWdlcy9jYXItZGV0YWlsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBEb21VdGlsIGZyb20gJy4uL0RvbVV0aWwnO1xyXG5sZXQgZG9tVXRpbCA9IG5ldyBEb21VdGlsKCk7XHJcblxyXG5pbXBvcnQgZ2xvYmFsU2NvcGVzIGZyb20gJy4vZ2xvYmFsLXNjb3Blcy5qcyc7XHJcblxyXG5pbXBvcnQgSHR0cFV0aWwgZnJvbSAnLi4vSHR0cFV0aWwuanMnO1xyXG5sZXQgaGVscGVyID0gbmV3IEh0dHBVdGlsKFwiXCIpO1xyXG5cclxuXHJcbmNsYXNzIENhckRldGFpbHMge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHVzZXIsIGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMudXNlciA9IHVzZXI7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XHJcbiAgICB9XHJcblxyXG4gICAgcGFnZUhhbmRsZXIocGFnZUVsKSB7XHJcblxyXG4gICAgICAgIHZhciB1c2VyID0gdGhpcy51c2VyO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZztcclxuXHJcblxyXG4gICAgICAgIHZhciBpdGVtTGlzdENvbnRhaW5lckVsID0gcGFnZUVsLnF1ZXJ5U2VsZWN0b3IoJy5qcy1pdGVtLWxpc3QtY29udGFpbmVyJyk7XHJcbiAgICAgICAgdmFyIGl0ZW1MaXN0RWwgPSBwYWdlRWwucXVlcnlTZWxlY3RvcignLmpzLWl0ZW0tbGlzdCcpO1xyXG4gICAgICAgIHZhciBsaXN0SXRlbVRlbXBsYXRlRWwgPSBpdGVtTGlzdENvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoJy5qcy1saXN0LWl0ZW0tdGVtcGxhdGUnKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0RGF0YShvZmZzZXQgPSAwLCBsaW1pdCA9IDIsIGNhbGxCYWNrID0gbnVsbCkge1xyXG4gICAgICAgICAgICBoZWxwZXIuaHR0cEdldChjb25maWcudXJscy5hcGkgKyAnL2NhcmRldGFpbHM/b2Zmc2V0PScgKyBvZmZzZXQgKyAnJmxpbWl0PScgKyBsaW1pdCwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKDIsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxCYWNrICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2soZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHVzZXIuYWNjZXNzX3Rva2VuKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZERhdGFJdGVtc0Jsb2NrKGl0ZW0sIGkpIHtcclxuICAgICAgICAgICAgdmFyIGNsb25lID0gbGlzdEl0ZW1UZW1wbGF0ZUVsLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgdmFyIHRleHRDb250YWluZXIgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCcuanMtaXRlbS1jb250YWluZXInKTtcclxuICAgICAgICAgICAgdmFyIHRpdGxlRWwgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCcubGlzdC1pdGVtLXRpdGxlLXRleHQnKTtcclxuICAgICAgICAgICAgdmFyIHRvdGFsUmlkZUVsID0gY2xvbmUucXVlcnlTZWxlY3RvcignLmxpc3QtaXRlbS1yaWRlLXRvdGFsLXRleHQnKTtcclxuICAgICAgICAgICAgdmFyIGNoYW5nZVJpZGVFbCA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJy5saXN0LWl0ZW0tY2hhbmdlLXJpZGUtdGV4dCcpO1xyXG4gICAgICAgICAgICB2YXIgcHJpY2VFbCA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJy5saXN0LWl0ZW0tcHJpY2UtdGV4dCcpO1xyXG4gICAgICAgICAgICB2YXIgZGF0ZUVsID0gY2xvbmUucXVlcnlTZWxlY3RvcignLmxpc3QtaXRlbS1kYXRlLXRleHQnKTtcclxuICAgICAgICAgICAgdmFyIHJlY29tZW5kZWRSZXBsYWNlRWwgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCcubGlzdC1pdGVtLXJlY29tZW5kZWQtcmVwbGFjZS10ZXh0Jyk7XHJcbiAgICAgICAgICAgIHZhciBsaXN0SXRlbVJpZGVDb250YWluZXIgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCcubGlzdC1pdGVtLXJpZGUtY29udGFpbmVyICcpXHJcblxyXG4gICAgICAgICAgICAvLyBiZWdpbiBlZGl0IHBpY3R1cmUgZWxlbWVudHMgKGRlbGV0ZSxwdXQpXHJcbiAgICAgICAgICAgIHZhciBjb250YWluZXJFZGl0UGljdHVyZUVsID0gY2xvbmUucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lci1lZGl0LWljb24nKTtcclxuICAgICAgICAgICAgdmFyIGRlbGV0ZVBpY3R1cmVFbCA9IGNvbnRhaW5lckVkaXRQaWN0dXJlRWwucXVlcnlTZWxlY3RvcignLmxpc3QtaXRlbS1pY29uLWRlbGV0ZScpO1xyXG4gICAgICAgICAgICB2YXIgcHV0UGljdHVyZUVsID0gY29udGFpbmVyRWRpdFBpY3R1cmVFbC5xdWVyeVNlbGVjdG9yKCcubGlzdC1pdGVtLWljb24tcHV0Jyk7XHJcbiAgICAgICAgICAgIC8vIGVuZCBlZGl0IHBpY3R1cmUgZWxlbWVudHMgKGRlbGV0ZSxwdXQpXHJcblxyXG4gICAgICAgICAgICBpdGVtLnJlY29tZW5kZWRSZXBsYWNlIDw9IGl0ZW0udG90YWxSaWRlID9cclxuICAgICAgICAgICAgICAgIGxpc3RJdGVtUmlkZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdib3JkZXItd3JvbmcnKSA6XHJcbiAgICAgICAgICAgICAgICBsaXN0SXRlbVJpZGVDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnYm9yZGVyLXdyb25nJyk7XHJcblxyXG4gICAgICAgICAgICB0aXRsZUVsLmlubmVyVGV4dCA9IGl0ZW0ubmFtZTtcclxuICAgICAgICAgICAgdG90YWxSaWRlRWwuaW5uZXJUZXh0ID0gaXRlbS50b3RhbFJpZGU7XHJcbiAgICAgICAgICAgIGNoYW5nZVJpZGVFbC5pbm5lclRleHQgPSBpdGVtLmNoYW5nZVJpZGU7XHJcbiAgICAgICAgICAgIHByaWNlRWwuaW5uZXJUZXh0ID0gaXRlbS5wcmljZU9mRGV0YWlsO1xyXG4gICAgICAgICAgICBkYXRlRWwuaW5uZXJUZXh0ID0gaXRlbS5kYXRlT2ZSZXBsYWNlLnNsaWNlKDAsIDEwKTtcclxuICAgICAgICAgICAgcmVjb21lbmRlZFJlcGxhY2VFbC5pbm5lclRleHQgPSBpdGVtLnJlY29tZW5kZWRSZXBsYWNlO1xyXG5cclxuICAgICAgICAgICAgdGV4dENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2l0ZW0taWQnLCBpdGVtLmNhckl0ZW1JZCk7XHJcbiAgICAgICAgICAgIC8vdGV4dEVsLnNldEF0dHJpYnV0ZSgnaXRlbS1pZCcsIGkpO1xyXG5cclxuICAgICAgICAgICAgZGVsZXRlUGljdHVyZUVsLnNldEF0dHJpYnV0ZSgnaXRlbS1pZCcsIGl0ZW0uY2FySXRlbUlkKTtcclxuICAgICAgICAgICAgcHV0UGljdHVyZUVsLnNldEF0dHJpYnV0ZSgnaXRlbS1pZCcsIGl0ZW0uY2FySXRlbUlkKTtcclxuXHJcbiAgICAgICAgICAgIGNsb25lLnNldEF0dHJpYnV0ZSgnaXRlbS1pZCcsIGl0ZW0uY2FySXRlbUlkKTtcclxuICAgICAgICAgICAgY2xvbmUuY2xhc3NMaXN0LnJlbW92ZSgnbGlzdC1pdGVtLS1oaWRkZW4nKTtcclxuICAgICAgICAgICAgaXRlbUxpc3RFbC5hcHBlbmRDaGlsZChjbG9uZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzaG93UGFnZURhdGEoaXRlbXMpIHtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIGFsbCBjaGlsZHNcclxuICAgICAgICAgICAgd2hpbGUgKGl0ZW1MaXN0RWwuZmlyc3RDaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbUxpc3RFbC5yZW1vdmVDaGlsZChpdGVtTGlzdEVsLmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBwYWdlT2Zmc2V0ID0gKHBhZ2UgKiBsaW1pdCk7XHJcbiAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcclxuICAgICAgICAgICAgICAgIGFkZERhdGFJdGVtc0Jsb2NrKGl0ZW0sIGl0ZW0uQ2FySXRlbUlkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vYWRkRGF0YUl0ZW1zQmxvY2soaXRlbXNbMF0sIDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRvdGFsQ291bnQgPSAwO1xyXG4gICAgICAgIHZhciBwYWdlID0gMDtcclxuICAgICAgICB2YXIgbGltaXQgPSAxNTtcclxuICAgICAgICB2YXIgcGFnZURhdGEgPSB7fTtcclxuICAgICAgICB2YXIgY2FySWQgPSBcIlwiO1xyXG4gICAgICAgIHZhciBvZmZzZXRDYXJEZXRhaWxzID0gcGFnZSAqIGxpbWl0O1xyXG4gICAgICAgIHZhciBjYWxjUGFnZXNDb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbCh0b3RhbENvdW50IC8gbGltaXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0UGFnZURhdGEocGFnZSA9IDAsIGxpbWl0ID0gMTUsIGNhbGxCYWNrKSB7XHJcbiAgICAgICAgICAgIHZhciBwYWdlcyA9IE1hdGguY2VpbCh0b3RhbENvdW50IC8gbGltaXQpO1xyXG4gICAgICAgICAgICBwYWdlID0gcGFnZSA8IDAgPyAwIDogcGFnZTtcclxuICAgICAgICAgICAgcGFnZSA9IHBhZ2UgPiBwYWdlcyA/IHBhZ2VzIDogcGFnZTtcclxuICAgICAgICAgICAgb2Zmc2V0Q2FyRGV0YWlscyA9IHBhZ2UgKiBsaW1pdDtcclxuXHJcbiAgICAgICAgICAgIGdldERhdGEob2Zmc2V0Q2FyRGV0YWlscywgbGltaXQsIGNhbGxCYWNrKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNob3dQYWdlKHBhZ2UsIGxpbWl0KSB7XHJcbiAgICAgICAgICAgIGdldFBhZ2VEYXRhKHBhZ2UsIGxpbWl0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHRvdGFsQ291bnQgPSByZXNwb25zZS5jb3VudENhcnNJdGVtcztcclxuICAgICAgICAgICAgICAgIGNhcklkID0gcmVzcG9uc2UuY2FyRW50aXR5SWQ7XHJcbiAgICAgICAgICAgICAgICBwYWdlRGF0YSA9IHJlc3BvbnNlLmNhckl0ZW1zO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJwYWdlRGF0YVwiLCBwYWdlRGF0YSk7XHJcbiAgICAgICAgICAgICAgICBzaG93UGFnZURhdGEocGFnZURhdGEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldE51bWJlclBhZ2UocGFnZSkge1xyXG4gICAgICAgICAgICBjdXJyZW50QnV0dG9uRWwuaW5uZXJUZXh0ID0gcGFnZSArIDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZmlyc3RCdXR0b25FbCA9IGl0ZW1MaXN0Q29udGFpbmVyRWwucXVlcnlTZWxlY3RvcignLmpzLWZpcnN0LXBhZ2UtYnV0dG9uJyk7XHJcbiAgICAgICAgdmFyIHByZXZCdXR0b25FbCA9IGl0ZW1MaXN0Q29udGFpbmVyRWwucXVlcnlTZWxlY3RvcignLmpzLXByZXYtcGFnZS1idXR0b24nKTtcclxuICAgICAgICB2YXIgY3VycmVudEJ1dHRvbkVsID0gaXRlbUxpc3RDb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCcuanMtY3VycmVudC1wYWdlLWJ1dHRvbicpO1xyXG4gICAgICAgIHZhciBuZXh0QnV0dG9uRWwgPSBpdGVtTGlzdENvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoJy5qcy1uZXh0LXBhZ2UtYnV0dG9uJyk7XHJcbiAgICAgICAgdmFyIGxhc3RCdXR0b25FbCA9IGl0ZW1MaXN0Q29udGFpbmVyRWwucXVlcnlTZWxlY3RvcignLmpzLWxhc3QtcGFnZS1idXR0b24nKTtcclxuXHJcblxyXG4gICAgICAgIGRvbVV0aWwuYWRkQnVibGVFdmVudExpc3RlbmVyKGZpcnN0QnV0dG9uRWwsIFwiLmJ1dHRvbi1pY29uXCIsIFwiY2xpY2tcIiwgZ2xvYmFsU2NvcGVzLmdldEV2ZW50TGlzdGVuZXJTdGF0ZSgpLml0ZW1MaXN0Rmlyc3RCdXR0b24sIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHBhZ2UgPSAwO1xyXG4gICAgICAgICAgICBzZXROdW1iZXJQYWdlKHBhZ2UpXHJcbiAgICAgICAgICAgIHNob3dQYWdlKHBhZ2UsIGxpbWl0KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9tVXRpbC5hZGRCdWJsZUV2ZW50TGlzdGVuZXIocHJldkJ1dHRvbkVsLCBcIi5idXR0b24taWNvblwiLCBcImNsaWNrXCIsIGdsb2JhbFNjb3Blcy5nZXRFdmVudExpc3RlbmVyU3RhdGUoKS5pdGVtTGlzdFByZXZCdXR0b24sIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHBhZ2UgPSBwYWdlIDw9IDAgPyAwIDogcGFnZSAtIDE7XHJcbiAgICAgICAgICAgIHNldE51bWJlclBhZ2UocGFnZSlcclxuICAgICAgICAgICAgc2hvd1BhZ2UocGFnZSwgbGltaXQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb21VdGlsLmFkZEJ1YmxlRXZlbnRMaXN0ZW5lcihuZXh0QnV0dG9uRWwsIFwiLmJ1dHRvbi1pY29uXCIsIFwiY2xpY2tcIiwgZ2xvYmFsU2NvcGVzLmdldEV2ZW50TGlzdGVuZXJTdGF0ZSgpLml0ZW1MaXN0TmV4dEJ1dHRvbiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgcGFnZSA9IChwYWdlIDwgY2FsY1BhZ2VzQ291bnQoKSAtIDEpID8gcGFnZSArIDEgOiAoY2FsY1BhZ2VzQ291bnQoKSAtIDEpO1xyXG4gICAgICAgICAgICBzZXROdW1iZXJQYWdlKHBhZ2UpXHJcbiAgICAgICAgICAgIHNob3dQYWdlKHBhZ2UsIGxpbWl0KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9tVXRpbC5hZGRCdWJsZUV2ZW50TGlzdGVuZXIobGFzdEJ1dHRvbkVsLCBcIi5idXR0b24taWNvblwiLCBcImNsaWNrXCIsIGdsb2JhbFNjb3Blcy5nZXRFdmVudExpc3RlbmVyU3RhdGUoKS5pdGVtTGlzdExhc3RCdXR0b24sIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHBhZ2UgPSBjYWxjUGFnZXNDb3VudCgpIC0gMTtcclxuICAgICAgICAgICAgc2V0TnVtYmVyUGFnZShwYWdlKVxyXG4gICAgICAgICAgICBzaG93UGFnZShwYWdlLCBsaW1pdCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgZG9tVXRpbC5hZGRCdWJsZUV2ZW50TGlzdGVuZXIoaXRlbUxpc3RDb250YWluZXJFbCwgJy5saXN0LWl0ZW0taWNvbi1kZWxldGUnLCAnY2xpY2snLCBnbG9iYWxTY29wZXMuZ2V0RXZlbnRMaXN0ZW5lclN0YXRlKCkuaXRlbUxpc3REZWxldGVCdXR0b24sIGZ1bmN0aW9uIChlLCBhY3R1YWxFbCwgZGVzaXJlZEVsKSB7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgaXRlbUlkID0gZGVzaXJlZEVsLmdldEF0dHJpYnV0ZSgnaXRlbS1pZCcpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHBhZ2VEYXRhLmZpbmQoeCA9PiB4LmNhckl0ZW1JZCA9PT0gaXRlbUlkKTtcclxuXHJcblxyXG4gICAgICAgICAgICBpZiAoY29uZmlybShgRG8geW91IHdhbnQgdG8gZGVsZXRlICR7cmVzdWx0Lm5hbWV9YCkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaWRJdGVtVXJsID0gYCR7Y29uZmlnLnVybHMuYXBpfS9kZWxldGUvY2FyaXRlbT9kZXRhaWxJZD0ke2l0ZW1JZH1gO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlRGF0YShpZEl0ZW1VcmwpO1xyXG5cclxuICAgICAgICAgICAgICAgIHNob3dQYWdlKHBhZ2UsIGxpbWl0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgaWRJdGVtUHV0VXJsID0gJyc7Ly8gdXNlZCBmb3IgcHV0XHJcbiAgICAgICAgdmFyIGZvcm1EYXRhU2VuZCA9IHt9O1xyXG4gICAgICAgIHZhciBtb2RhbFdpbmRvd0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1kaWFsb2cnKTtcclxuICAgICAgICB2YXIgZm9ybUJ1dHRvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tY29udHJvbC1idXR0b24nKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLXdpbmRvdy1jbG9zZS1idXR0b24nKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtb2RhbFdpbmRvd0Zvcm0uY2xvc2UoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBkb21VdGlsLmFkZEJ1YmxlRXZlbnRMaXN0ZW5lcihpdGVtTGlzdENvbnRhaW5lckVsLCAnLmxpc3QtaXRlbS1pY29uLXB1dCcsICdjbGljaycsIGdsb2JhbFNjb3Blcy5nZXRFdmVudExpc3RlbmVyU3RhdGUoKS5pdGVtTGlzdFB1dEJ1dHRvbiwgZnVuY3Rpb24gKGUsIGFjdHVhbEVsLCBkZXNpcmVkRWwpIHtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIG51bWJlck9mSXRlbTEgPSBkZXNpcmVkRWwuZ2V0QXR0cmlidXRlKCdpdGVtLWlkJyk7XHJcbiAgICAgICAgICAgIHZhciBmb3JtUHV0QnV0dG9uRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcHV0LWJ1dHRvbicpO1xyXG4gICAgICAgICAgICB2YXIgZm9ybUlzQ2hhbmNoZWRCdXR0b25FbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pcy1yZXBsYWNlZC1jaGVja2JveC1jb250YWluZXInKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50UGFnZURhdGFFbCA9IHBhZ2VEYXRhLmZpbmQoeCA9PiB4LmNhckl0ZW1JZCA9PT0gbnVtYmVyT2ZJdGVtMSk7XHJcblxyXG5cclxuICAgICAgICAgICAgZm9ybUJ1dHRvbkVsLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZvcm1QdXRCdXR0b25FbC5jbGFzc0xpc3QucmVwbGFjZSgnaGlkZGVuJywgJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBmb3JtSXNDaGFuY2hlZEJ1dHRvbkVsLmNsYXNzTGlzdC5yZXBsYWNlKCdoaWRkZW4nLCAnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIG1vZGFsV2luZG93Rm9ybS5zaG93TW9kYWwoKTtcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHRGdWxsZmllbGRGb3JtKGN1cnJlbnRQYWdlRGF0YUVsKTtcclxuXHJcbiAgICAgICAgICAgIGRvbVV0aWwuYWRkQnVibGVFdmVudExpc3RlbmVyKGZvcm1QdXRCdXR0b25FbCwgJy5qcy1wdXQtYnV0dG9uJywgJ2NsaWNrJywgZ2xvYmFsU2NvcGVzLmdldEV2ZW50TGlzdGVuZXJTdGF0ZSgpLmZvcm1QdXRCdXR0b24sIGZ1bmN0aW9uIChlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWRJdGVtUHV0VXJsID0gYCR7Y29uZmlnLnVybHMuYXBpfS9wdXQvY2FyaXRlbWA7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsUmlkZU9iaiA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtYWtlUmVxdWVzdEJvZHkoZm9ybURhdGFTZW5kLCB0b3RhbFJpZGVPYmopKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgvXlxcZCskLy50ZXN0KHRvdGFsUmlkZU9iai5Ub3RhbFJpZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBjb25maWcudXJscy5hcGkgKyBcIi90b3RhbHJpZGUvc2V0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsUmlkZU9iai5JZCA9IGNhcklkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0b3RhbFJpZGVPYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZW5kVG90YWxSaWRlKHVybCx0b3RhbFJpZGVPYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybURhdGFTZW5kLkNhckl0ZW1JZCA9IG51bWJlck9mSXRlbTE7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZm9ybURhdGFTZW5kKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YShpZEl0ZW1QdXRVcmwsIGZvcm1EYXRhU2VuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxXaW5kb3dGb3JtLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTsvLyBldmVudCBsaXN0ZW5lciBvbiBQVVQgYnV0dG9uXHJcblxyXG5cclxuICAgICAgICBpZiAoIWdsb2JhbFNjb3Blcy5nZXRFdmVudExpc3RlbmVyU3RhdGUoKS5maW5kQ2FySXRlbUlucHV0LnN0YXRlKSB7XHJcblxyXG4gICAgICAgICAgICBpdGVtTGlzdENvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoJy5maW5kLWNhci1pdGVtLWlucHV0Jykub25pbnB1dCA9IERlbGF5KGZ1bmN0aW9uIChlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaG93UGFnZSgwLCBsaW1pdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBoZWxwZXIuaHR0cEdldChjb25maWcudXJscy5hcGkgKyAnL2ZpbmQvY2FyaXRlbT9uYW1lPScgKyB0aGlzLnZhbHVlLCBmdW5jdGlvbiAoc2VhcmNoUmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dQYWdlRGF0YShzZWFyY2hSZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHVzZXIuYWNjZXNzX3Rva2VuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwMClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIERlbGF5KGNhbGxiYWNrLCBtcykgeyAvLyBmb3Igc2VhcmNoIGNhciBpdGVtXHJcbiAgICAgICAgICAgIHZhciB0aW1lciA9IDA7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xyXG4gICAgICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShjb250ZXh0LCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIH0sIG1zIHx8IDApO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGRvbVV0aWwuYWRkQnVibGVFdmVudExpc3RlbmVyKGl0ZW1MaXN0Q29udGFpbmVyRWwsICcuaXRlbS1saXN0LXBhZ2VyX19hZGQtYnV0dG9uJywgJ2NsaWNrJywgZ2xvYmFsU2NvcGVzLmdldEV2ZW50TGlzdGVuZXJTdGF0ZSgpLml0ZW1MaXN0QWRkQnV0dG9uLCBmdW5jdGlvbiAoZSwgYWN0dWFsRWwsIGRlc2lyZWRFbCkge1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGZvcm1BZGRCdXR0b25FbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1hZGQtYnV0dG9uJyk7XHJcblxyXG4gICAgICAgICAgICBmb3JtQnV0dG9uRWwuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZm9ybUFkZEJ1dHRvbkVsLmNsYXNzTGlzdC5yZXBsYWNlKCdoaWRkZW4nLCAnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIG1vZGFsV2luZG93Rm9ybS5zaG93TW9kYWwoKTtcclxuXHJcbiAgICAgICAgICAgIGRvbVV0aWwuYWRkQnVibGVFdmVudExpc3RlbmVyKGZvcm1BZGRCdXR0b25FbCwgXCIuanMtYWRkLWJ1dHRvblwiLCBcImNsaWNrXCIsIGdsb2JhbFNjb3Blcy5nZXRFdmVudExpc3RlbmVyU3RhdGUoKS5mb3JtQWRkQnV0dG9uLCBmdW5jdGlvbiAoZSwgZGVzaXJlZEVsKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsUmlkZU9iaiA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtYWtlUmVxdWVzdEJvZHkoZm9ybURhdGFTZW5kLCB0b3RhbFJpZGVPYmopKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvc3RVcmwgPSBgJHtjb25maWcudXJscy5hcGl9L2FkZC9jYXJpdGVtYDsvLyB1c2VkIGZvciBhZGQgaXRlbVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoL15cXGQrJC8udGVzdCh0b3RhbFJpZGVPYmouVG90YWxSaWRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gY29uZmlnLnVybHMuYXBpICsgXCIvdG90YWxyaWRlL3NldFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFJpZGVPYmouSWQgPSBjYXJJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codG90YWxSaWRlT2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2VuZFRvdGFsUmlkZSh1cmwsdG90YWxSaWRlT2JqKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhU2VuZC5DYXJFbnRpdHlJZCA9IGNhcklkO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbmREYXRhKHBvc3RVcmwsIGZvcm1EYXRhU2VuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd1BhZ2UocGFnZSwgbGltaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsV2luZG93Rm9ybS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pOy8vIGV2ZW50IGxpc3RlbmVyIG9uIEFERCBidXR0b25cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gU2VuZFRvdGFsUmlkZSh1cmwsZGF0YSkge1xyXG4gICAgICAgICAgICBoZWxwZXIuaHR0cFJlcXVlc3QodXJsLCBkYXRhLCBcIlBPU1RcIiwgZnVuY3Rpb24gKHJlcXVlc3QpIHtcclxuXHJcbiAgICAgICAgICAgIH0sIHVzZXIuYWNjZXNzX3Rva2VuKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBmb3JtUmVzZXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVzZXQtYnV0dG9uJyk7XHJcblxyXG4gICAgICAgIGZvcm1SZXNldEJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBDYXJJdGVtRm9ybUVsID0gZG9jdW1lbnQuZm9ybXMuTmV3Q2FySXRlbTtcclxuXHJcbiAgICAgICAgICAgIGlmIChDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLm5hbWUuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbnB1dC1maWVsZC1lbXB0eS1qcycpKSB7XHJcbiAgICAgICAgICAgICAgICBDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLm5hbWUuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtZmllbGQtZW1wdHktanMnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKENhckl0ZW1Gb3JtRWwuZWxlbWVudHMucHJpY2UuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbnB1dC1maWVsZC1lbXB0eS1qcycpKSB7XHJcbiAgICAgICAgICAgICAgICBDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLnByaWNlLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LWZpZWxkLWVtcHR5LWpzJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLmRhdGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbnB1dC1maWVsZC1lbXB0eS1qcycpKSB7XHJcbiAgICAgICAgICAgICAgICBDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLmRhdGUuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtZmllbGQtZW1wdHktanMnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKENhckl0ZW1Gb3JtRWwuZWxlbWVudHMudG90YWxSYWNlLmNsYXNzTGlzdC5jb250YWlucygnaW5wdXQtZmllbGQtZW1wdHktanMnKSkge1xyXG4gICAgICAgICAgICAgICAgQ2FySXRlbUZvcm1FbC5lbGVtZW50cy50b3RhbFJhY2UuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtZmllbGQtZW1wdHktanMnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKENhckl0ZW1Gb3JtRWwuZWxlbWVudHMucmVjb21lbmRhdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2lucHV0LWZpZWxkLWVtcHR5LWpzJykpIHtcclxuICAgICAgICAgICAgICAgIENhckl0ZW1Gb3JtRWwuZWxlbWVudHMucmVjb21lbmRhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC1maWVsZC1lbXB0eS1qcycpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB9Oy8vIHJlbW92ZXMgYWxsIGlucHV0IGZpZWxkcyB3aXRoIHJlZCBib3JkZXIgd2hlbiBjbGljayBvbiBcInJlc2V0XCJcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZGVmYXVsdEZ1bGxmaWVsZEZvcm0oZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgQ2FySXRlbUZvcm1FbCA9IGRvY3VtZW50LmZvcm1zLk5ld0Nhckl0ZW07XHJcblxyXG4gICAgICAgICAgICBDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLm5hbWUudmFsdWUgPSBkYXRhLm5hbWU7XHJcblxyXG4gICAgICAgICAgICBDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLnByaWNlLnZhbHVlID0gZGF0YS5wcmljZU9mRGV0YWlsO1xyXG5cclxuICAgICAgICAgICAgQ2FySXRlbUZvcm1FbC5lbGVtZW50cy5yZWNvbWVuZGF0aW9uLnZhbHVlID0gZGF0YS5yZWNvbWVuZGVkUmVwbGFjZTtcclxuXHJcbiAgICAgICAgICAgIENhckl0ZW1Gb3JtRWwuZWxlbWVudHMudG90YWxSYWNlLnZhbHVlID0gcGFnZURhdGEuY2Fyc1RvdGFsUmlkZTtcclxuXHJcbiAgICAgICAgICAgIENhckl0ZW1Gb3JtRWwuZWxlbWVudHMuZGF0ZS52YWx1ZSA9IGRhdGEuZGF0ZU9mUmVwbGFjZS5zbGljZSgwLCAxMCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbWFrZVJlcXVlc3RCb2R5KGZvcm1EYXRhU2VuZCwgdG90YWxSaWRlT2JqKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgQ2FySXRlbUZvcm1FbCA9IGRvY3VtZW50LmZvcm1zLk5ld0Nhckl0ZW07XHJcblxyXG5cclxuICAgICAgICAgICAgZm9ybURhdGFTZW5kLklzVG90YWxSaWRlQ2hhbmdlZCA9IENhckl0ZW1Gb3JtRWwuZWxlbWVudHMuaXNSZXBhbGNlZC5jaGVja2VkO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGZvcm1EYXRhU2VuZC5OYW1lID0gQ2FySXRlbUZvcm1FbC5lbGVtZW50cy5uYW1lLnZhbHVlID8gQ2FySXRlbUZvcm1FbC5lbGVtZW50cy5uYW1lLnZhbHVlIDpcclxuICAgICAgICAgICAgICAgIENhckl0ZW1Gb3JtRWwuZWxlbWVudHMubmFtZS5jbGFzc0xpc3QuYWRkKCdpbnB1dC1maWVsZC1lbXB0eS1qcycpO1xyXG5cclxuICAgICAgICAgICAgZm9ybURhdGFTZW5kLlByaWNlT2ZEZXRhaWwgPSAoQ2FySXRlbUZvcm1FbC5lbGVtZW50cy5wcmljZS52YWx1ZSAmJlxyXG4gICAgICAgICAgICAgICAgKC9eXFxkKyQvLnRlc3QoQ2FySXRlbUZvcm1FbC5lbGVtZW50cy5wcmljZS52YWx1ZSkpKSA/XHJcbiAgICAgICAgICAgICAgICBDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLnByaWNlLnZhbHVlIDpcclxuICAgICAgICAgICAgICAgIENhckl0ZW1Gb3JtRWwuZWxlbWVudHMucHJpY2UuY2xhc3NMaXN0LmFkZCgnaW5wdXQtZmllbGQtZW1wdHktanMnKTtcclxuXHJcbiAgICAgICAgICAgIGZvcm1EYXRhU2VuZC5SZWNvbWVuZGVkUmVwbGFjZSA9IChDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLnJlY29tZW5kYXRpb24udmFsdWUgJiZcclxuICAgICAgICAgICAgICAgICgvXlxcZCskLy50ZXN0KENhckl0ZW1Gb3JtRWwuZWxlbWVudHMucmVjb21lbmRhdGlvbi52YWx1ZSkpKSA/XHJcbiAgICAgICAgICAgICAgICBDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLnJlY29tZW5kYXRpb24udmFsdWUgOlxyXG4gICAgICAgICAgICAgICAgQ2FySXRlbUZvcm1FbC5lbGVtZW50cy5yZWNvbWVuZGF0aW9uLmNsYXNzTGlzdC5hZGQoJ2lucHV0LWZpZWxkLWVtcHR5LWpzJyk7XHJcblxyXG4gICAgICAgICAgICB0b3RhbFJpZGVPYmouVG90YWxSaWRlID0gKENhckl0ZW1Gb3JtRWwuZWxlbWVudHMudG90YWxSYWNlLnZhbHVlICYmXHJcbiAgICAgICAgICAgICAgICAoL15cXGQrJC8udGVzdChDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLnRvdGFsUmFjZS52YWx1ZSkpKSA/XHJcbiAgICAgICAgICAgICAgICBOdW1iZXIoQ2FySXRlbUZvcm1FbC5lbGVtZW50cy50b3RhbFJhY2UudmFsdWUpIDpcclxuICAgICAgICAgICAgICAgIENhckl0ZW1Gb3JtRWwuZWxlbWVudHMudG90YWxSYWNlLmNsYXNzTGlzdC5hZGQoJ2lucHV0LWZpZWxkLWVtcHR5LWpzJyk7XHJcblxyXG4gICAgICAgICAgICBmb3JtRGF0YVNlbmQuRGF0ZU9mUmVwbGFjZSA9IChDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLmRhdGUudmFsdWUgJiZcclxuICAgICAgICAgICAgICAgICgvKFsxMl1cXGR7M30tKDBbMS05XXwxWzAtMl0pLSgwWzEtOV18WzEyXVxcZHwzWzAxXSkpLy50ZXN0KENhckl0ZW1Gb3JtRWwuZWxlbWVudHMuZGF0ZS52YWx1ZSkpKSA/XHJcbiAgICAgICAgICAgICAgICBDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLmRhdGUudmFsdWUgOlxyXG4gICAgICAgICAgICAgICAgQ2FySXRlbUZvcm1FbC5lbGVtZW50cy5kYXRlLmNsYXNzTGlzdC5hZGQoJ2lucHV0LWZpZWxkLWVtcHR5LWpzJyk7XHJcblxyXG5cclxuICAgICAgICAgICAgZm9ybURhdGFTZW5kLkNoYW5nZVJpZGUgPSBTdHJpbmcoTnVtYmVyKGZvcm1EYXRhU2VuZC5SZWNvbWVuZGVkUmVwbGFjZSkgKyBOdW1iZXIodG90YWxSaWRlT2JqLlRvdGFsUmlkZSkpO1xyXG5cclxuICAgICAgICAgICAgQ2FySXRlbUZvcm1FbC5lbGVtZW50cy5uYW1lLm9uZm9jdXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ2FySXRlbUZvcm1FbC5lbGVtZW50cy5uYW1lLmNsYXNzTGlzdC5jb250YWlucygnaW5wdXQtZmllbGQtZW1wdHktanMnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIENhckl0ZW1Gb3JtRWwuZWxlbWVudHMubmFtZS5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC1maWVsZC1lbXB0eS1qcycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLnByaWNlLm9uZm9jdXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQ2FySXRlbUZvcm1FbC5lbGVtZW50cy5wcmljZS5jbGFzc0xpc3QuY29udGFpbnMoJ2lucHV0LWZpZWxkLWVtcHR5LWpzJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLnByaWNlLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LWZpZWxkLWVtcHR5LWpzJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIENhckl0ZW1Gb3JtRWwuZWxlbWVudHMuZGF0ZS5vbmZvY3VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKENhckl0ZW1Gb3JtRWwuZWxlbWVudHMuZGF0ZS5jbGFzc0xpc3QuY29udGFpbnMoJ2lucHV0LWZpZWxkLWVtcHR5LWpzJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLmRhdGUuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtZmllbGQtZW1wdHktanMnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgQ2FySXRlbUZvcm1FbC5lbGVtZW50cy50b3RhbFJhY2Uub25mb2N1cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLnRvdGFsUmFjZS5jbGFzc0xpc3QuY29udGFpbnMoJ2lucHV0LWZpZWxkLWVtcHR5LWpzJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLnRvdGFsUmFjZS5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC1maWVsZC1lbXB0eS1qcycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLnJlY29tZW5kYXRpb24ub25mb2N1cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChDYXJJdGVtRm9ybUVsLmVsZW1lbnRzLnJlY29tZW5kYXRpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdpbnB1dC1maWVsZC1lbXB0eS1qcycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ2FySXRlbUZvcm1FbC5lbGVtZW50cy5yZWNvbWVuZGF0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LWZpZWxkLWVtcHR5LWpzJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChmb3JtRGF0YVNlbmQuTmFtZSAmJlxyXG4gICAgICAgICAgICAgICAgZm9ybURhdGFTZW5kLlByaWNlT2ZEZXRhaWwgJiZcclxuICAgICAgICAgICAgICAgIGZvcm1EYXRhU2VuZC5EYXRlT2ZSZXBsYWNlICYmXHJcbiAgICAgICAgICAgICAgICB0b3RhbFJpZGVPYmouVG90YWxSaWRlICYmXHJcbiAgICAgICAgICAgICAgICBmb3JtRGF0YVNlbmQuUmVjb21lbmRlZFJlcGxhY2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfS8vIG1ha2VzIHJlcXVlc3QgYm9keSBhbmQgY2hlY2tzIGVtcHR5IGZpZWxkKHMpXHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZW5kRGF0YSh1cmwsIGRhdGEpIHtcclxuICAgICAgICAgICAgaGVscGVyLmh0dHBSZXF1ZXN0KHVybCwgZGF0YSwgJ1BPU1QnLCBmdW5jdGlvbiAocmVxdWVzdCkge1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSwgdXNlci5hY2Nlc3NfdG9rZW4pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlRGF0YSh1cmwsIGRhdGEpIHtcclxuICAgICAgICAgICAgaGVscGVyLmh0dHBSZXF1ZXN0KHVybCwgZGF0YSwgJ1BVVCcsIGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcblxyXG4gICAgICAgICAgICB9LCB1c2VyLmFjY2Vzc190b2tlbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkZWxldGVEYXRhKHVybCkge1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEZWxldGUgdG9cIiwgdXJsKTtcclxuICAgICAgICAgICAgaGVscGVyLmRlbGV0ZVJlcXVlc3QodXJsLCB1c2VyLmFjY2Vzc190b2tlbik7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2hvd1BhZ2UocGFnZSwgbGltaXQpO1xyXG4gICAgICAgIHNldE51bWJlclBhZ2UoMCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhckRldGFpbHM7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./ClientVanilaJs/modules/pages/car-detail.js\n");

/***/ }),

/***/ "./ClientVanilaJs/modules/pages/dashboard.js":
/*!***************************************************!*\
  !*** ./ClientVanilaJs/modules/pages/dashboard.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\r\nclass Dashboard {\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    pageHandler() {\r\n\r\n    }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Dashboard);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9DbGllbnRWYW5pbGFKcy9tb2R1bGVzL3BhZ2VzL2Rhc2hib2FyZC5qcz8xYzQ2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFZSx3RUFBUyIsImZpbGUiOiIuL0NsaWVudFZhbmlsYUpzL21vZHVsZXMvcGFnZXMvZGFzaGJvYXJkLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmNsYXNzIERhc2hib2FyZCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHBhZ2VIYW5kbGVyKCkge1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGFzaGJvYXJkOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./ClientVanilaJs/modules/pages/dashboard.js\n");

/***/ }),

/***/ "./ClientVanilaJs/modules/pages/global-scopes.js":
/*!*******************************************************!*\
  !*** ./ClientVanilaJs/modules/pages/global-scopes.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\r\nclass GlobalScopes {\r\n    constructor() {\r\n        this.eventListenerState = {\r\n            menuLinks: { state: false },\r\n            logout: { state: false },\r\n            AdminsOnly: { state: false },\r\n            logoutButton: { state: false },\r\n           \r\n            itemListFirstButton: { state: false },\r\n            itemListPrevButton: { state: false },\r\n            itemListNextButton: { state: false },\r\n            itemListLastButton: { state: false },\r\n            itemListButtonFromListToCard: { state: false },\r\n            itemListPutButton: { state: false },\r\n            itemListDeleteButton: { state: false },\r\n            itemListAddButton: { state: false },\r\n            formPutButton: { state: false },\r\n            formAddButton: { state: false },\r\n            findCarItemInput: { state: false },\r\n\r\n            carManager:{ state: false },\r\n            carManagerMenuItem: { state: false },\r\n            carManagerAddbutton: { state: false },\r\n            carManagerPutbutton: { state: false },\r\n            carManagerDeletebutton: { state: false },\r\n            carManagmendFormPushNewCarButtonEl:  { state: false }\r\n\r\n        }// used in addBubleEventListener() for add once event listener caller\r\n\r\n    }; \r\n\r\n    getEventListenerState() {\r\n        return this.eventListenerState;\r\n    }\r\n\r\n  \r\n\r\n}\r\n\r\nvar globalScopes = new GlobalScopes();\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (globalScopes);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9DbGllbnRWYW5pbGFKcy9tb2R1bGVzL3BhZ2VzL2dsb2JhbC1zY29wZXMuanM/ODc4YiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixlQUFlO0FBQ3ZDLHFCQUFxQixlQUFlO0FBQ3BDLHlCQUF5QixlQUFlO0FBQ3hDLDJCQUEyQixlQUFlOztBQUUxQyxrQ0FBa0MsZUFBZTtBQUNqRCxpQ0FBaUMsZUFBZTtBQUNoRCxpQ0FBaUMsZUFBZTtBQUNoRCxpQ0FBaUMsZUFBZTtBQUNoRCwyQ0FBMkMsZUFBZTtBQUMxRCxnQ0FBZ0MsZUFBZTtBQUMvQyxtQ0FBbUMsZUFBZTtBQUNsRCxnQ0FBZ0MsZUFBZTtBQUMvQyw0QkFBNEIsZUFBZTtBQUMzQyw0QkFBNEIsZUFBZTtBQUMzQywrQkFBK0IsZUFBZTs7QUFFOUMsd0JBQXdCLGVBQWU7QUFDdkMsaUNBQWlDLGVBQWU7QUFDaEQsa0NBQWtDLGVBQWU7QUFDakQsa0NBQWtDLGVBQWU7QUFDakQscUNBQXFDLGVBQWU7QUFDcEQsa0RBQWtEOztBQUVsRCxTQUFTOztBQUVULE07O0FBRUE7QUFDQTtBQUNBOzs7O0FBSUE7O0FBRUE7O0FBRWUsMkVBQVkiLCJmaWxlIjoiLi9DbGllbnRWYW5pbGFKcy9tb2R1bGVzL3BhZ2VzL2dsb2JhbC1zY29wZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY2xhc3MgR2xvYmFsU2NvcGVzIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lclN0YXRlID0ge1xyXG4gICAgICAgICAgICBtZW51TGlua3M6IHsgc3RhdGU6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIGxvZ291dDogeyBzdGF0ZTogZmFsc2UgfSxcclxuICAgICAgICAgICAgQWRtaW5zT25seTogeyBzdGF0ZTogZmFsc2UgfSxcclxuICAgICAgICAgICAgbG9nb3V0QnV0dG9uOiB7IHN0YXRlOiBmYWxzZSB9LFxyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgICBpdGVtTGlzdEZpcnN0QnV0dG9uOiB7IHN0YXRlOiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBpdGVtTGlzdFByZXZCdXR0b246IHsgc3RhdGU6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIGl0ZW1MaXN0TmV4dEJ1dHRvbjogeyBzdGF0ZTogZmFsc2UgfSxcclxuICAgICAgICAgICAgaXRlbUxpc3RMYXN0QnV0dG9uOiB7IHN0YXRlOiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBpdGVtTGlzdEJ1dHRvbkZyb21MaXN0VG9DYXJkOiB7IHN0YXRlOiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBpdGVtTGlzdFB1dEJ1dHRvbjogeyBzdGF0ZTogZmFsc2UgfSxcclxuICAgICAgICAgICAgaXRlbUxpc3REZWxldGVCdXR0b246IHsgc3RhdGU6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIGl0ZW1MaXN0QWRkQnV0dG9uOiB7IHN0YXRlOiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBmb3JtUHV0QnV0dG9uOiB7IHN0YXRlOiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBmb3JtQWRkQnV0dG9uOiB7IHN0YXRlOiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBmaW5kQ2FySXRlbUlucHV0OiB7IHN0YXRlOiBmYWxzZSB9LFxyXG5cclxuICAgICAgICAgICAgY2FyTWFuYWdlcjp7IHN0YXRlOiBmYWxzZSB9LFxyXG4gICAgICAgICAgICBjYXJNYW5hZ2VyTWVudUl0ZW06IHsgc3RhdGU6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIGNhck1hbmFnZXJBZGRidXR0b246IHsgc3RhdGU6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIGNhck1hbmFnZXJQdXRidXR0b246IHsgc3RhdGU6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIGNhck1hbmFnZXJEZWxldGVidXR0b246IHsgc3RhdGU6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIGNhck1hbmFnbWVuZEZvcm1QdXNoTmV3Q2FyQnV0dG9uRWw6ICB7IHN0YXRlOiBmYWxzZSB9XHJcblxyXG4gICAgICAgIH0vLyB1c2VkIGluIGFkZEJ1YmxlRXZlbnRMaXN0ZW5lcigpIGZvciBhZGQgb25jZSBldmVudCBsaXN0ZW5lciBjYWxsZXJcclxuXHJcbiAgICB9OyBcclxuXHJcbiAgICBnZXRFdmVudExpc3RlbmVyU3RhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRMaXN0ZW5lclN0YXRlO1xyXG4gICAgfVxyXG5cclxuICBcclxuXHJcbn1cclxuXHJcbnZhciBnbG9iYWxTY29wZXMgPSBuZXcgR2xvYmFsU2NvcGVzKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBnbG9iYWxTY29wZXM7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./ClientVanilaJs/modules/pages/global-scopes.js\n");

/***/ }),

/***/ "./ClientVanilaJs/modules/pages/manage-car.js":
/*!****************************************************!*\
  !*** ./ClientVanilaJs/modules/pages/manage-car.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _DomUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../DomUtil */ \"./ClientVanilaJs/modules/DomUtil.js\");\n/* harmony import */ var _global_scopes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./global-scopes.js */ \"./ClientVanilaJs/modules/pages/global-scopes.js\");\n/* harmony import */ var _HttpUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../HttpUtil.js */ \"./ClientVanilaJs/modules/HttpUtil.js\");\n\r\n\r\nlet domUtil = new _DomUtil__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\r\n\r\n\r\n\r\n\r\nlet helper = new _HttpUtil_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](\"\");\r\n\r\n\r\nclass CarManager {\r\n\r\n    constructor(user, config) {\r\n        this.user = user;\r\n        this.config = config;\r\n    }\r\n\r\n    handler(targetEl) {\r\n\r\n        var user = this.user;\r\n        var config = this.config;\r\n\r\n        var modalWindowEl = document.querySelector('.car-managmend-form-dialog');\r\n        var carManagmendMenuEl = modalWindowEl.querySelector('.car-managmend-menu');\r\n        var carManagmendMenuItemEl = modalWindowEl.querySelector('.car-managmend-menu-item-template');\r\n        var carManagerMenuContainerEl = modalWindowEl.querySelector('.car-managmend-menu-container');\r\n\r\n        var carManagmendFormContainerEl = modalWindowEl.querySelector('.car-managmend-form-container');\r\n\r\n        var carManagmendFormPushNewCarButtonEl = modalWindowEl.querySelector('.js-car-managmend-push-new-car-button');\r\n        var carManagmendMenuAddButtonEl = modalWindowEl.querySelector('.car-managmend-add-button');\r\n        var carManagmendCloseFormAddButtonEl = modalWindowEl.querySelector('.js-car-managmend-close-add-form-button');\r\n        var carManagmendFormPutButtonEl = modalWindowEl.querySelector('.js-car-managmend-put-button');\r\n        var carManagmendFormDeleteButtonEl = modalWindowEl.querySelector('.js-car-managmend-delete-button');\r\n\r\n        var carManagmendFormEl = document.forms.carManagmendForm;\r\n\r\n\r\n        var pageData = {};\r\n\r\n\r\n        GetUserCars(InitModalWindowMenu);\r\n\r\n        modalWindowEl.showModal();\r\n\r\n        domUtil.addBubleEventListener('.car-managmend-menu', '.car-managmend-menu-item-template', 'click', _global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().carManagerMenuItem, function (e, actualEl, desiredEl) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            carManagmendMenuEl.childNodes.forEach(function (item) {\r\n\r\n                item.classList.remove('active');\r\n            });\r\n\r\n            desiredEl.classList.add('active');\r\n\r\n\r\n            InitModalWindowForm(desiredEl.getAttribute('car-id'))\r\n\r\n        });\r\n\r\n\r\n        modalWindowEl.querySelector('.car-managmend-modal-window-close-button').onclick = function () {\r\n            carManagmendFormContainerEl.classList.add('hidden');\r\n            modalWindowEl.close();\r\n        };\r\n\r\n        function InitModalWindowForm(itemId) {\r\n\r\n            carManagmendFormPushNewCarButtonEl.classList.add('hidden');\r\n            carManagmendCloseFormAddButtonEl.classList.add('hidden');\r\n\r\n            carManagmendFormContainerEl.classList.remove('hidden');\r\n\r\n            // console.log('----sada',pageData);\r\n            var car = pageData.find(x => x.id === itemId);\r\n            carManagmendFormPutButtonEl.setAttribute('car-id', itemId);\r\n            carManagmendFormDeleteButtonEl.setAttribute('car-id', itemId);\r\n\r\n            console.log(car);\r\n\r\n            carManagmendFormEl.elements.name.value = car.carEntityName;\r\n            carManagmendFormEl.elements.totalRide.value = car.totalRide;\r\n            carManagmendFormEl.elements.isCurrent.checked = car.isDefault;\r\n        }\r\n\r\n        function InitModalWindowMenu(data) {\r\n\r\n            // remove all childs\r\n            while (carManagmendMenuEl.firstChild) {\r\n                carManagmendMenuEl.removeChild(carManagmendMenuEl.firstChild);\r\n            }\r\n            data.forEach(function (item) {\r\n                AddMenuItem(item);\r\n            });\r\n\r\n\r\n        }\r\n\r\n        function AddMenuItem(item) {\r\n\r\n            var clone = carManagmendMenuItemEl.cloneNode(true);\r\n            var carName = clone.querySelector('.car-managmend-menu-item-text');\r\n\r\n            carName.innerText = item.carEntityName;\r\n\r\n            clone.setAttribute('car-id', item.id);\r\n            clone.classList.remove('hidden');\r\n\r\n            if (item.isDefault === true) {\r\n                clone.classList.add('active');\r\n            }\r\n\r\n            carManagmendMenuEl.appendChild(clone);\r\n        }\r\n\r\n\r\n        domUtil.addBubleEventListener('.car-managmend-add-button-container', '.car-managmend-add-button', 'click', _global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().carManagerAddbutton, function (e, actualEl, desiredEl) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            carManagerMenuContainerEl.classList.add('hidden');\r\n\r\n\r\n\r\n            carManagmendFormContainerEl.classList.remove('hidden');\r\n            carManagmendFormPushNewCarButtonEl.classList.remove('hidden');\r\n            carManagmendCloseFormAddButtonEl.classList.remove('hidden');\r\n\r\n            carManagmendFormPutButtonEl.classList.add('hidden');\r\n            carManagmendFormDeleteButtonEl.classList.add('hidden');\r\n\r\n            carManagmendFormPutButtonEl.classList.add('hidden');\r\n\r\n            carManagmendCloseFormAddButtonEl.onclick = function () {\r\n\r\n\r\n                carManagmendFormContainerEl.classList.add('hidden');\r\n                carManagmendFormPushNewCarButtonEl.classList.add('hidden');\r\n                carManagmendCloseFormAddButtonEl.classList.add('hidden');\r\n                carManagerMenuContainerEl.classList.remove('hidden');\r\n\r\n                carManagmendFormPutButtonEl.classList.remove('hidden');\r\n                carManagmendFormDeleteButtonEl.classList.remove('hidden');\r\n                carManagmendFormContainerEl.classList.add('hidden');\r\n                modalWindowEl.close();\r\n            };\r\n\r\n            domUtil.addBubleEventListener('.js-car-managmend-push-new-car-button', '.js-car-managmend-push-new-car-button', 'click', _global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().carManagmendFormPushNewCarButtonEl, function (e, actualEl, desiredEl) {\r\n                e.stopPropagation();\r\n\r\n                var data = {};\r\n\r\n\r\n                if (makeRequestBody(data)) {\r\n                    var postUrl = `${config.urls.api}/add/car`;// used for add car\r\n\r\n\r\n                    // console.log('-----', data);\r\n                    SendData(postUrl, data);\r\n\r\n                    alert(\"Car has been added\");\r\n                    GetUserCars(function (e) { });\r\n\r\n                    carManagmendCloseFormAddButtonEl.onclick();\r\n\r\n                } else {\r\n                    // alert(\"Wrong input data\");\r\n                }\r\n\r\n\r\n            });\r\n\r\n        });\r\n\r\n        domUtil.addBubleEventListener('.js-car-managmend-put-button', '.js-car-managmend-put-button ', 'click', _global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().carManagerPutbutton, function (e, actualEl, desiredEl) {\r\n\r\n            var sendData = {};\r\n            // var totalRideDataSend = {};\r\n\r\n            sendData.CarEntityName = carManagmendFormEl.elements.name.value ? carManagmendFormEl.elements.name.value :\r\n                carManagmendFormEl.elements.name.classList.add('input-field-empty-js');\r\n\r\n            sendData.CarsTotalRide = /^\\d+$/.test(carManagmendFormEl.elements.totalRide.value) ?\r\n                Number(carManagmendFormEl.elements.totalRide.value) :\r\n                carManagmendFormEl.elements.totalRide.classList.add('input-field-empty-js');\r\n\r\n\r\n            carManagmendFormEl.elements.name.onfocus = function () {\r\n                if (carManagmendFormEl.elements.name.classList.contains('input-field-empty-js')) {\r\n                    carManagmendFormEl.elements.name.classList.remove('input-field-empty-js');\r\n                }\r\n            }\r\n\r\n            carManagmendFormEl.elements.totalRide.onfocus = function () {\r\n                if (carManagmendFormEl.elements.totalRide.classList.contains('input-field-empty-js')) {\r\n                    carManagmendFormEl.elements.totalRide.classList.remove('input-field-empty-js');\r\n                }\r\n            }\r\n\r\n            sendData.Id = carManagmendFormPutButtonEl.getAttribute('car-id');\r\n\r\n            sendData.IsCurrent = carManagmendFormEl.elements.isCurrent.checked;\r\n\r\n            if (sendData.CarEntityName &&\r\n                sendData.CarsTotalRide) {\r\n\r\n                //totalRideDataSend.Id = sendData.Id;\r\n                 console.log('------',sendData);\r\n\r\n                var putUrl = `${config.urls.api}/put/car`;// used for update car\r\n\r\n                UpdateData(putUrl, sendData);\r\n\r\n                alert(\"Car has been updated\");\r\n\r\n                GetUserCars(function (data) {\r\n                    modalWindowEl.querySelector('.car-managmend-form-reset-button').onclick();\r\n                    carManagmendFormContainerEl.classList.add('hidden');\r\n\r\n                    InitModalWindowMenu(data);\r\n\r\n                });\r\n            }\r\n        });\r\n\r\n        domUtil.addBubleEventListener('.js-car-managmend-delete-button', '.js-car-managmend-delete-button', 'click', _global_scopes_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEventListenerState().carManagerDeletebutton, function (e, actualEl, desiredEl) {\r\n\r\n            var deleteUrl = `${config.urls.api}/delete/car?carEntityId=${carManagmendFormDeleteButtonEl.getAttribute('car-id')}`;// used for delete car\r\n            DeleteData(deleteUrl)\r\n            GetUserCars(function (data) {\r\n\r\n                carManagmendFormContainerEl.classList.add('hidden');\r\n                alert(\"Car has been deleted\");\r\n\r\n                InitModalWindowMenu(data)\r\n            });\r\n        });\r\n\r\n        function DeleteData(deleteUrl) {\r\n            helper.httpRequest(deleteUrl, null, \"DELETE\", function (response) {\r\n\r\n            }, user.access_token);\r\n        }\r\n\r\n        function UpdateData(putUrl, data) {\r\n            helper.httpRequest(putUrl, data, \"PUT\", function (response) {\r\n\r\n            }, user.access_token);\r\n        }\r\n\r\n        function SendData(postUrl, data) {\r\n            helper.httpRequest(postUrl, data, \"POST\", function (response) {\r\n\r\n            }, user.access_token);\r\n        }\r\n\r\n        function SendTotalRide(url, value) {\r\n            helper.httpRequest(url, value, \"POST\", function (request) {\r\n            }, user.access_token);\r\n        }\r\n\r\n        function makeRequestBody(sendData) {\r\n\r\n            sendData.CarEntityName = carManagmendFormEl.elements.name.value ? carManagmendFormEl.elements.name.value :\r\n                carManagmendFormEl.elements.name.classList.add('input-field-empty-js');\r\n\r\n            sendData.CarsTotalRide = /^\\d+$/.test(carManagmendFormEl.elements.totalRide.value) ?\r\n                carManagmendFormEl.elements.totalRide.value :\r\n                carManagmendFormEl.elements.totalRide.classList.add('input-field-empty-js');\r\n\r\n            carManagmendFormEl.elements.name.onfocus = function () {\r\n                if (carManagmendFormEl.elements.name.classList.contains('input-field-empty-js')) {\r\n                    carManagmendFormEl.elements.name.classList.remove('input-field-empty-js');\r\n                }\r\n            }\r\n\r\n            carManagmendFormEl.elements.totalRide.onfocus = function () {\r\n                if (carManagmendFormEl.elements.totalRide.classList.contains('input-field-empty-js')) {\r\n                    carManagmendFormEl.elements.totalRide.classList.remove('input-field-empty-js');\r\n                }\r\n            }\r\n\r\n            sendData.IsCurrent = carManagmendFormEl.elements.isCurrent.checked;\r\n\r\n            if (sendData.CarEntityName &&\r\n                sendData.CarsTotalRide) {\r\n                return true;\r\n            }\r\n\r\n        }\r\n\r\n        modalWindowEl.querySelector('.car-managmend-form-reset-button').onclick = function (e) {\r\n\r\n            var carManagmendFormEl = document.forms.carManagmendForm;\r\n\r\n            if (carManagmendFormEl.elements.name.classList.contains('input-field-empty-js')) {\r\n                carManagmendFormEl.elements.name.classList.remove('input-field-empty-js');\r\n            }\r\n\r\n            if (carManagmendFormEl.elements.totalRide.classList.contains('input-field-empty-js')) {\r\n                carManagmendFormEl.elements.totalRide.classList.remove('input-field-empty-js');\r\n            }\r\n\r\n        };// removes all input fields with red border when click on \"reset\"\r\n\r\n        function GetUserCars(callback) {\r\n            helper.httpGet(config.urls.api + '/allUsersCars', function (data) {\r\n                pageData = data;\r\n                console.log(\"Cars: \", data);\r\n                callback(data);\r\n            }, user.access_token);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (CarManager);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9DbGllbnRWYW5pbGFKcy9tb2R1bGVzL3BhZ2VzL21hbmFnZS1jYXIuanM/MTJlNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUNpQztBQUNqQyxrQkFBa0IsZ0RBQU87O0FBRXFCOztBQUVSO0FBQ3RDLGlCQUFpQixvREFBUTs7O0FBR3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7OztBQUdBOztBQUVBOztBQUVBLDJHQUEyRyx5REFBWTtBQUN2SDtBQUNBOztBQUVBOztBQUVBO0FBQ0EsYUFBYTs7QUFFYjs7O0FBR0E7O0FBRUEsU0FBUzs7O0FBR1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOzs7QUFHYjs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBLG1IQUFtSCx5REFBWTtBQUMvSDtBQUNBOztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUlBQXFJLHlEQUFZO0FBQ2pKOztBQUVBOzs7QUFHQTtBQUNBLHFDQUFxQyxnQkFBZ0IsVUFBVTs7O0FBRy9EO0FBQ0E7O0FBRUE7QUFDQSw4Q0FBOEMsRUFBRTs7QUFFaEQ7O0FBRUEsaUJBQWlCO0FBQ2pCO0FBQ0E7OztBQUdBLGFBQWE7O0FBRWIsU0FBUzs7QUFFVCxnSEFBZ0gseURBQVk7O0FBRTVIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsZ0NBQWdDLGdCQUFnQixVQUFVOztBQUUxRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUzs7QUFFVCxxSEFBcUgseURBQVk7O0FBRWpJLCtCQUErQixnQkFBZ0IsMEJBQTBCLHNEQUFzRCxFQUFFO0FBQ2pJO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGFBQWE7QUFDYixTQUFTOztBQUVUO0FBQ0E7O0FBRUEsYUFBYTtBQUNiOztBQUVBO0FBQ0E7O0FBRUEsYUFBYTtBQUNiOztBQUVBO0FBQ0E7O0FBRUEsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVTs7QUFFVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7O0FBRWUseUVBQVUsRUFBQyIsImZpbGUiOiIuL0NsaWVudFZhbmlsYUpzL21vZHVsZXMvcGFnZXMvbWFuYWdlLWNhci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgRG9tVXRpbCBmcm9tICcuLi9Eb21VdGlsJztcclxubGV0IGRvbVV0aWwgPSBuZXcgRG9tVXRpbCgpO1xyXG5cclxuaW1wb3J0IGdsb2JhbFNjb3BlcyBmcm9tICcuL2dsb2JhbC1zY29wZXMuanMnO1xyXG5cclxuaW1wb3J0IEh0dHBVdGlsIGZyb20gJy4uL0h0dHBVdGlsLmpzJztcclxubGV0IGhlbHBlciA9IG5ldyBIdHRwVXRpbChcIlwiKTtcclxuXHJcblxyXG5jbGFzcyBDYXJNYW5hZ2VyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih1c2VyLCBjb25maWcpIHtcclxuICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZXIodGFyZ2V0RWwpIHtcclxuXHJcbiAgICAgICAgdmFyIHVzZXIgPSB0aGlzLnVzZXI7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xyXG5cclxuICAgICAgICB2YXIgbW9kYWxXaW5kb3dFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXItbWFuYWdtZW5kLWZvcm0tZGlhbG9nJyk7XHJcbiAgICAgICAgdmFyIGNhck1hbmFnbWVuZE1lbnVFbCA9IG1vZGFsV2luZG93RWwucXVlcnlTZWxlY3RvcignLmNhci1tYW5hZ21lbmQtbWVudScpO1xyXG4gICAgICAgIHZhciBjYXJNYW5hZ21lbmRNZW51SXRlbUVsID0gbW9kYWxXaW5kb3dFbC5xdWVyeVNlbGVjdG9yKCcuY2FyLW1hbmFnbWVuZC1tZW51LWl0ZW0tdGVtcGxhdGUnKTtcclxuICAgICAgICB2YXIgY2FyTWFuYWdlck1lbnVDb250YWluZXJFbCA9IG1vZGFsV2luZG93RWwucXVlcnlTZWxlY3RvcignLmNhci1tYW5hZ21lbmQtbWVudS1jb250YWluZXInKTtcclxuXHJcbiAgICAgICAgdmFyIGNhck1hbmFnbWVuZEZvcm1Db250YWluZXJFbCA9IG1vZGFsV2luZG93RWwucXVlcnlTZWxlY3RvcignLmNhci1tYW5hZ21lbmQtZm9ybS1jb250YWluZXInKTtcclxuXHJcbiAgICAgICAgdmFyIGNhck1hbmFnbWVuZEZvcm1QdXNoTmV3Q2FyQnV0dG9uRWwgPSBtb2RhbFdpbmRvd0VsLnF1ZXJ5U2VsZWN0b3IoJy5qcy1jYXItbWFuYWdtZW5kLXB1c2gtbmV3LWNhci1idXR0b24nKTtcclxuICAgICAgICB2YXIgY2FyTWFuYWdtZW5kTWVudUFkZEJ1dHRvbkVsID0gbW9kYWxXaW5kb3dFbC5xdWVyeVNlbGVjdG9yKCcuY2FyLW1hbmFnbWVuZC1hZGQtYnV0dG9uJyk7XHJcbiAgICAgICAgdmFyIGNhck1hbmFnbWVuZENsb3NlRm9ybUFkZEJ1dHRvbkVsID0gbW9kYWxXaW5kb3dFbC5xdWVyeVNlbGVjdG9yKCcuanMtY2FyLW1hbmFnbWVuZC1jbG9zZS1hZGQtZm9ybS1idXR0b24nKTtcclxuICAgICAgICB2YXIgY2FyTWFuYWdtZW5kRm9ybVB1dEJ1dHRvbkVsID0gbW9kYWxXaW5kb3dFbC5xdWVyeVNlbGVjdG9yKCcuanMtY2FyLW1hbmFnbWVuZC1wdXQtYnV0dG9uJyk7XHJcbiAgICAgICAgdmFyIGNhck1hbmFnbWVuZEZvcm1EZWxldGVCdXR0b25FbCA9IG1vZGFsV2luZG93RWwucXVlcnlTZWxlY3RvcignLmpzLWNhci1tYW5hZ21lbmQtZGVsZXRlLWJ1dHRvbicpO1xyXG5cclxuICAgICAgICB2YXIgY2FyTWFuYWdtZW5kRm9ybUVsID0gZG9jdW1lbnQuZm9ybXMuY2FyTWFuYWdtZW5kRm9ybTtcclxuXHJcblxyXG4gICAgICAgIHZhciBwYWdlRGF0YSA9IHt9O1xyXG5cclxuXHJcbiAgICAgICAgR2V0VXNlckNhcnMoSW5pdE1vZGFsV2luZG93TWVudSk7XHJcblxyXG4gICAgICAgIG1vZGFsV2luZG93RWwuc2hvd01vZGFsKCk7XHJcblxyXG4gICAgICAgIGRvbVV0aWwuYWRkQnVibGVFdmVudExpc3RlbmVyKCcuY2FyLW1hbmFnbWVuZC1tZW51JywgJy5jYXItbWFuYWdtZW5kLW1lbnUtaXRlbS10ZW1wbGF0ZScsICdjbGljaycsIGdsb2JhbFNjb3Blcy5nZXRFdmVudExpc3RlbmVyU3RhdGUoKS5jYXJNYW5hZ2VyTWVudUl0ZW0sIGZ1bmN0aW9uIChlLCBhY3R1YWxFbCwgZGVzaXJlZEVsKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgIGNhck1hbmFnbWVuZE1lbnVFbC5jaGlsZE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGRlc2lyZWRFbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuXHJcblxyXG4gICAgICAgICAgICBJbml0TW9kYWxXaW5kb3dGb3JtKGRlc2lyZWRFbC5nZXRBdHRyaWJ1dGUoJ2Nhci1pZCcpKVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIG1vZGFsV2luZG93RWwucXVlcnlTZWxlY3RvcignLmNhci1tYW5hZ21lbmQtbW9kYWwtd2luZG93LWNsb3NlLWJ1dHRvbicpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNhck1hbmFnbWVuZEZvcm1Db250YWluZXJFbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgbW9kYWxXaW5kb3dFbC5jbG9zZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIEluaXRNb2RhbFdpbmRvd0Zvcm0oaXRlbUlkKSB7XHJcblxyXG4gICAgICAgICAgICBjYXJNYW5hZ21lbmRGb3JtUHVzaE5ld0NhckJ1dHRvbkVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICBjYXJNYW5hZ21lbmRDbG9zZUZvcm1BZGRCdXR0b25FbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuXHJcbiAgICAgICAgICAgIGNhck1hbmFnbWVuZEZvcm1Db250YWluZXJFbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCctLS0tc2FkYScscGFnZURhdGEpO1xyXG4gICAgICAgICAgICB2YXIgY2FyID0gcGFnZURhdGEuZmluZCh4ID0+IHguaWQgPT09IGl0ZW1JZCk7XHJcbiAgICAgICAgICAgIGNhck1hbmFnbWVuZEZvcm1QdXRCdXR0b25FbC5zZXRBdHRyaWJ1dGUoJ2Nhci1pZCcsIGl0ZW1JZCk7XHJcbiAgICAgICAgICAgIGNhck1hbmFnbWVuZEZvcm1EZWxldGVCdXR0b25FbC5zZXRBdHRyaWJ1dGUoJ2Nhci1pZCcsIGl0ZW1JZCk7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYXIpO1xyXG5cclxuICAgICAgICAgICAgY2FyTWFuYWdtZW5kRm9ybUVsLmVsZW1lbnRzLm5hbWUudmFsdWUgPSBjYXIuY2FyRW50aXR5TmFtZTtcclxuICAgICAgICAgICAgY2FyTWFuYWdtZW5kRm9ybUVsLmVsZW1lbnRzLnRvdGFsUmlkZS52YWx1ZSA9IGNhci50b3RhbFJpZGU7XHJcbiAgICAgICAgICAgIGNhck1hbmFnbWVuZEZvcm1FbC5lbGVtZW50cy5pc0N1cnJlbnQuY2hlY2tlZCA9IGNhci5pc0RlZmF1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBJbml0TW9kYWxXaW5kb3dNZW51KGRhdGEpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBhbGwgY2hpbGRzXHJcbiAgICAgICAgICAgIHdoaWxlIChjYXJNYW5hZ21lbmRNZW51RWwuZmlyc3RDaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgY2FyTWFuYWdtZW5kTWVudUVsLnJlbW92ZUNoaWxkKGNhck1hbmFnbWVuZE1lbnVFbC5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIEFkZE1lbnVJdGVtKGl0ZW0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gQWRkTWVudUl0ZW0oaXRlbSkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGNsb25lID0gY2FyTWFuYWdtZW5kTWVudUl0ZW1FbC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIHZhciBjYXJOYW1lID0gY2xvbmUucXVlcnlTZWxlY3RvcignLmNhci1tYW5hZ21lbmQtbWVudS1pdGVtLXRleHQnKTtcclxuXHJcbiAgICAgICAgICAgIGNhck5hbWUuaW5uZXJUZXh0ID0gaXRlbS5jYXJFbnRpdHlOYW1lO1xyXG5cclxuICAgICAgICAgICAgY2xvbmUuc2V0QXR0cmlidXRlKCdjYXItaWQnLCBpdGVtLmlkKTtcclxuICAgICAgICAgICAgY2xvbmUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXRlbS5pc0RlZmF1bHQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGNsb25lLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjYXJNYW5hZ21lbmRNZW51RWwuYXBwZW5kQ2hpbGQoY2xvbmUpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGRvbVV0aWwuYWRkQnVibGVFdmVudExpc3RlbmVyKCcuY2FyLW1hbmFnbWVuZC1hZGQtYnV0dG9uLWNvbnRhaW5lcicsICcuY2FyLW1hbmFnbWVuZC1hZGQtYnV0dG9uJywgJ2NsaWNrJywgZ2xvYmFsU2NvcGVzLmdldEV2ZW50TGlzdGVuZXJTdGF0ZSgpLmNhck1hbmFnZXJBZGRidXR0b24sIGZ1bmN0aW9uIChlLCBhY3R1YWxFbCwgZGVzaXJlZEVsKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgIGNhck1hbmFnZXJNZW51Q29udGFpbmVyRWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIGNhck1hbmFnbWVuZEZvcm1Db250YWluZXJFbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgY2FyTWFuYWdtZW5kRm9ybVB1c2hOZXdDYXJCdXR0b25FbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgY2FyTWFuYWdtZW5kQ2xvc2VGb3JtQWRkQnV0dG9uRWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcblxyXG4gICAgICAgICAgICBjYXJNYW5hZ21lbmRGb3JtUHV0QnV0dG9uRWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIGNhck1hbmFnbWVuZEZvcm1EZWxldGVCdXR0b25FbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuXHJcbiAgICAgICAgICAgIGNhck1hbmFnbWVuZEZvcm1QdXRCdXR0b25FbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuXHJcbiAgICAgICAgICAgIGNhck1hbmFnbWVuZENsb3NlRm9ybUFkZEJ1dHRvbkVsLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGNhck1hbmFnbWVuZEZvcm1Db250YWluZXJFbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgICAgIGNhck1hbmFnbWVuZEZvcm1QdXNoTmV3Q2FyQnV0dG9uRWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICBjYXJNYW5hZ21lbmRDbG9zZUZvcm1BZGRCdXR0b25FbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgICAgIGNhck1hbmFnZXJNZW51Q29udGFpbmVyRWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FyTWFuYWdtZW5kRm9ybVB1dEJ1dHRvbkVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgY2FyTWFuYWdtZW5kRm9ybURlbGV0ZUJ1dHRvbkVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgY2FyTWFuYWdtZW5kRm9ybUNvbnRhaW5lckVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgICAgICAgICAgbW9kYWxXaW5kb3dFbC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZG9tVXRpbC5hZGRCdWJsZUV2ZW50TGlzdGVuZXIoJy5qcy1jYXItbWFuYWdtZW5kLXB1c2gtbmV3LWNhci1idXR0b24nLCAnLmpzLWNhci1tYW5hZ21lbmQtcHVzaC1uZXctY2FyLWJ1dHRvbicsICdjbGljaycsIGdsb2JhbFNjb3Blcy5nZXRFdmVudExpc3RlbmVyU3RhdGUoKS5jYXJNYW5hZ21lbmRGb3JtUHVzaE5ld0NhckJ1dHRvbkVsLCBmdW5jdGlvbiAoZSwgYWN0dWFsRWwsIGRlc2lyZWRFbCkge1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWFrZVJlcXVlc3RCb2R5KGRhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvc3RVcmwgPSBgJHtjb25maWcudXJscy5hcGl9L2FkZC9jYXJgOy8vIHVzZWQgZm9yIGFkZCBjYXJcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCctLS0tLScsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIFNlbmREYXRhKHBvc3RVcmwsIGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIkNhciBoYXMgYmVlbiBhZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBHZXRVc2VyQ2FycyhmdW5jdGlvbiAoZSkgeyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyTWFuYWdtZW5kQ2xvc2VGb3JtQWRkQnV0dG9uRWwub25jbGljaygpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxlcnQoXCJXcm9uZyBpbnB1dCBkYXRhXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9tVXRpbC5hZGRCdWJsZUV2ZW50TGlzdGVuZXIoJy5qcy1jYXItbWFuYWdtZW5kLXB1dC1idXR0b24nLCAnLmpzLWNhci1tYW5hZ21lbmQtcHV0LWJ1dHRvbiAnLCAnY2xpY2snLCBnbG9iYWxTY29wZXMuZ2V0RXZlbnRMaXN0ZW5lclN0YXRlKCkuY2FyTWFuYWdlclB1dGJ1dHRvbiwgZnVuY3Rpb24gKGUsIGFjdHVhbEVsLCBkZXNpcmVkRWwpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzZW5kRGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAvLyB2YXIgdG90YWxSaWRlRGF0YVNlbmQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHNlbmREYXRhLkNhckVudGl0eU5hbWUgPSBjYXJNYW5hZ21lbmRGb3JtRWwuZWxlbWVudHMubmFtZS52YWx1ZSA/IGNhck1hbmFnbWVuZEZvcm1FbC5lbGVtZW50cy5uYW1lLnZhbHVlIDpcclxuICAgICAgICAgICAgICAgIGNhck1hbmFnbWVuZEZvcm1FbC5lbGVtZW50cy5uYW1lLmNsYXNzTGlzdC5hZGQoJ2lucHV0LWZpZWxkLWVtcHR5LWpzJyk7XHJcblxyXG4gICAgICAgICAgICBzZW5kRGF0YS5DYXJzVG90YWxSaWRlID0gL15cXGQrJC8udGVzdChjYXJNYW5hZ21lbmRGb3JtRWwuZWxlbWVudHMudG90YWxSaWRlLnZhbHVlKSA/XHJcbiAgICAgICAgICAgICAgICBOdW1iZXIoY2FyTWFuYWdtZW5kRm9ybUVsLmVsZW1lbnRzLnRvdGFsUmlkZS52YWx1ZSkgOlxyXG4gICAgICAgICAgICAgICAgY2FyTWFuYWdtZW5kRm9ybUVsLmVsZW1lbnRzLnRvdGFsUmlkZS5jbGFzc0xpc3QuYWRkKCdpbnB1dC1maWVsZC1lbXB0eS1qcycpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGNhck1hbmFnbWVuZEZvcm1FbC5lbGVtZW50cy5uYW1lLm9uZm9jdXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FyTWFuYWdtZW5kRm9ybUVsLmVsZW1lbnRzLm5hbWUuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbnB1dC1maWVsZC1lbXB0eS1qcycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FyTWFuYWdtZW5kRm9ybUVsLmVsZW1lbnRzLm5hbWUuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtZmllbGQtZW1wdHktanMnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY2FyTWFuYWdtZW5kRm9ybUVsLmVsZW1lbnRzLnRvdGFsUmlkZS5vbmZvY3VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhck1hbmFnbWVuZEZvcm1FbC5lbGVtZW50cy50b3RhbFJpZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbnB1dC1maWVsZC1lbXB0eS1qcycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FyTWFuYWdtZW5kRm9ybUVsLmVsZW1lbnRzLnRvdGFsUmlkZS5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC1maWVsZC1lbXB0eS1qcycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZW5kRGF0YS5JZCA9IGNhck1hbmFnbWVuZEZvcm1QdXRCdXR0b25FbC5nZXRBdHRyaWJ1dGUoJ2Nhci1pZCcpO1xyXG5cclxuICAgICAgICAgICAgc2VuZERhdGEuSXNDdXJyZW50ID0gY2FyTWFuYWdtZW5kRm9ybUVsLmVsZW1lbnRzLmlzQ3VycmVudC5jaGVja2VkO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNlbmREYXRhLkNhckVudGl0eU5hbWUgJiZcclxuICAgICAgICAgICAgICAgIHNlbmREYXRhLkNhcnNUb3RhbFJpZGUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3RvdGFsUmlkZURhdGFTZW5kLklkID0gc2VuZERhdGEuSWQ7XHJcbiAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS0tLScsc2VuZERhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBwdXRVcmwgPSBgJHtjb25maWcudXJscy5hcGl9L3B1dC9jYXJgOy8vIHVzZWQgZm9yIHVwZGF0ZSBjYXJcclxuXHJcbiAgICAgICAgICAgICAgICBVcGRhdGVEYXRhKHB1dFVybCwgc2VuZERhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwiQ2FyIGhhcyBiZWVuIHVwZGF0ZWRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgR2V0VXNlckNhcnMoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbFdpbmRvd0VsLnF1ZXJ5U2VsZWN0b3IoJy5jYXItbWFuYWdtZW5kLWZvcm0tcmVzZXQtYnV0dG9uJykub25jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhck1hbmFnbWVuZEZvcm1Db250YWluZXJFbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgSW5pdE1vZGFsV2luZG93TWVudShkYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb21VdGlsLmFkZEJ1YmxlRXZlbnRMaXN0ZW5lcignLmpzLWNhci1tYW5hZ21lbmQtZGVsZXRlLWJ1dHRvbicsICcuanMtY2FyLW1hbmFnbWVuZC1kZWxldGUtYnV0dG9uJywgJ2NsaWNrJywgZ2xvYmFsU2NvcGVzLmdldEV2ZW50TGlzdGVuZXJTdGF0ZSgpLmNhck1hbmFnZXJEZWxldGVidXR0b24sIGZ1bmN0aW9uIChlLCBhY3R1YWxFbCwgZGVzaXJlZEVsKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgZGVsZXRlVXJsID0gYCR7Y29uZmlnLnVybHMuYXBpfS9kZWxldGUvY2FyP2NhckVudGl0eUlkPSR7Y2FyTWFuYWdtZW5kRm9ybURlbGV0ZUJ1dHRvbkVsLmdldEF0dHJpYnV0ZSgnY2FyLWlkJyl9YDsvLyB1c2VkIGZvciBkZWxldGUgY2FyXHJcbiAgICAgICAgICAgIERlbGV0ZURhdGEoZGVsZXRlVXJsKVxyXG4gICAgICAgICAgICBHZXRVc2VyQ2FycyhmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGNhck1hbmFnbWVuZEZvcm1Db250YWluZXJFbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwiQ2FyIGhhcyBiZWVuIGRlbGV0ZWRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgSW5pdE1vZGFsV2luZG93TWVudShkYXRhKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gRGVsZXRlRGF0YShkZWxldGVVcmwpIHtcclxuICAgICAgICAgICAgaGVscGVyLmh0dHBSZXF1ZXN0KGRlbGV0ZVVybCwgbnVsbCwgXCJERUxFVEVcIiwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblxyXG4gICAgICAgICAgICB9LCB1c2VyLmFjY2Vzc190b2tlbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBVcGRhdGVEYXRhKHB1dFVybCwgZGF0YSkge1xyXG4gICAgICAgICAgICBoZWxwZXIuaHR0cFJlcXVlc3QocHV0VXJsLCBkYXRhLCBcIlBVVFwiLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgICAgIH0sIHVzZXIuYWNjZXNzX3Rva2VuKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIFNlbmREYXRhKHBvc3RVcmwsIGRhdGEpIHtcclxuICAgICAgICAgICAgaGVscGVyLmh0dHBSZXF1ZXN0KHBvc3RVcmwsIGRhdGEsIFwiUE9TVFwiLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgICAgIH0sIHVzZXIuYWNjZXNzX3Rva2VuKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIFNlbmRUb3RhbFJpZGUodXJsLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBoZWxwZXIuaHR0cFJlcXVlc3QodXJsLCB2YWx1ZSwgXCJQT1NUXCIsIGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgIH0sIHVzZXIuYWNjZXNzX3Rva2VuKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0Qm9keShzZW5kRGF0YSkge1xyXG5cclxuICAgICAgICAgICAgc2VuZERhdGEuQ2FyRW50aXR5TmFtZSA9IGNhck1hbmFnbWVuZEZvcm1FbC5lbGVtZW50cy5uYW1lLnZhbHVlID8gY2FyTWFuYWdtZW5kRm9ybUVsLmVsZW1lbnRzLm5hbWUudmFsdWUgOlxyXG4gICAgICAgICAgICAgICAgY2FyTWFuYWdtZW5kRm9ybUVsLmVsZW1lbnRzLm5hbWUuY2xhc3NMaXN0LmFkZCgnaW5wdXQtZmllbGQtZW1wdHktanMnKTtcclxuXHJcbiAgICAgICAgICAgIHNlbmREYXRhLkNhcnNUb3RhbFJpZGUgPSAvXlxcZCskLy50ZXN0KGNhck1hbmFnbWVuZEZvcm1FbC5lbGVtZW50cy50b3RhbFJpZGUudmFsdWUpID9cclxuICAgICAgICAgICAgICAgIGNhck1hbmFnbWVuZEZvcm1FbC5lbGVtZW50cy50b3RhbFJpZGUudmFsdWUgOlxyXG4gICAgICAgICAgICAgICAgY2FyTWFuYWdtZW5kRm9ybUVsLmVsZW1lbnRzLnRvdGFsUmlkZS5jbGFzc0xpc3QuYWRkKCdpbnB1dC1maWVsZC1lbXB0eS1qcycpO1xyXG5cclxuICAgICAgICAgICAgY2FyTWFuYWdtZW5kRm9ybUVsLmVsZW1lbnRzLm5hbWUub25mb2N1cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjYXJNYW5hZ21lbmRGb3JtRWwuZWxlbWVudHMubmFtZS5jbGFzc0xpc3QuY29udGFpbnMoJ2lucHV0LWZpZWxkLWVtcHR5LWpzJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXJNYW5hZ21lbmRGb3JtRWwuZWxlbWVudHMubmFtZS5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC1maWVsZC1lbXB0eS1qcycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjYXJNYW5hZ21lbmRGb3JtRWwuZWxlbWVudHMudG90YWxSaWRlLm9uZm9jdXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FyTWFuYWdtZW5kRm9ybUVsLmVsZW1lbnRzLnRvdGFsUmlkZS5jbGFzc0xpc3QuY29udGFpbnMoJ2lucHV0LWZpZWxkLWVtcHR5LWpzJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXJNYW5hZ21lbmRGb3JtRWwuZWxlbWVudHMudG90YWxSaWRlLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LWZpZWxkLWVtcHR5LWpzJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNlbmREYXRhLklzQ3VycmVudCA9IGNhck1hbmFnbWVuZEZvcm1FbC5lbGVtZW50cy5pc0N1cnJlbnQuY2hlY2tlZDtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZW5kRGF0YS5DYXJFbnRpdHlOYW1lICYmXHJcbiAgICAgICAgICAgICAgICBzZW5kRGF0YS5DYXJzVG90YWxSaWRlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1vZGFsV2luZG93RWwucXVlcnlTZWxlY3RvcignLmNhci1tYW5hZ21lbmQtZm9ybS1yZXNldC1idXR0b24nKS5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBjYXJNYW5hZ21lbmRGb3JtRWwgPSBkb2N1bWVudC5mb3Jtcy5jYXJNYW5hZ21lbmRGb3JtO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNhck1hbmFnbWVuZEZvcm1FbC5lbGVtZW50cy5uYW1lLmNsYXNzTGlzdC5jb250YWlucygnaW5wdXQtZmllbGQtZW1wdHktanMnKSkge1xyXG4gICAgICAgICAgICAgICAgY2FyTWFuYWdtZW5kRm9ybUVsLmVsZW1lbnRzLm5hbWUuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXQtZmllbGQtZW1wdHktanMnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGNhck1hbmFnbWVuZEZvcm1FbC5lbGVtZW50cy50b3RhbFJpZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbnB1dC1maWVsZC1lbXB0eS1qcycpKSB7XHJcbiAgICAgICAgICAgICAgICBjYXJNYW5hZ21lbmRGb3JtRWwuZWxlbWVudHMudG90YWxSaWRlLmNsYXNzTGlzdC5yZW1vdmUoJ2lucHV0LWZpZWxkLWVtcHR5LWpzJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfTsvLyByZW1vdmVzIGFsbCBpbnB1dCBmaWVsZHMgd2l0aCByZWQgYm9yZGVyIHdoZW4gY2xpY2sgb24gXCJyZXNldFwiXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIEdldFVzZXJDYXJzKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGhlbHBlci5odHRwR2V0KGNvbmZpZy51cmxzLmFwaSArICcvYWxsVXNlcnNDYXJzJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHBhZ2VEYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2FyczogXCIsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YSk7XHJcbiAgICAgICAgICAgIH0sIHVzZXIuYWNjZXNzX3Rva2VuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYXJNYW5hZ2VyO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./ClientVanilaJs/modules/pages/manage-car.js\n");

/***/ }),

/***/ "./node_modules/oidc-client/lib/oidc-client.min.js":
/*!*********************************************************!*\
  !*** ./node_modules/oidc-client/lib/oidc-client.min.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function t(e,r){if(true)module.exports=r();else { var i, n; }}(this,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function e(){return t.default}:function e(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=22)}([function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i={debug:function t(){},info:function t(){},warn:function t(){},error:function t(){}},o=void 0,s=void 0;(e.Log=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t.reset=function t(){s=3,o=i},t.debug=function t(){if(s>=4){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];o.debug.apply(o,Array.from(r))}},t.info=function t(){if(s>=3){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];o.info.apply(o,Array.from(r))}},t.warn=function t(){if(s>=2){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];o.warn.apply(o,Array.from(r))}},t.error=function t(){if(s>=1){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];o.error.apply(o,Array.from(r))}},n(t,null,[{key:\"NONE\",get:function t(){return 0}},{key:\"ERROR\",get:function t(){return 1}},{key:\"WARN\",get:function t(){return 2}},{key:\"INFO\",get:function t(){return 3}},{key:\"DEBUG\",get:function t(){return 4}},{key:\"level\",get:function t(){return s},set:function t(e){if(!(0<=e&&e<=4))throw new Error(\"Invalid log level\");s=e}},{key:\"logger\",get:function t(){return o},set:function t(e){if(!e.debug&&e.info&&(e.debug=e.info),!(e.debug&&e.info&&e.warn&&e.error))throw new Error(\"Invalid logger\");o=e}}]),t}()).reset()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i={setInterval:function(t){function e(e,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){return setInterval(t,e)}),clearInterval:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return clearInterval(t)})},o=!1,s=null;e.Global=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t._testing=function t(){o=!0},t.setXMLHttpRequest=function t(e){s=e},n(t,null,[{key:\"location\",get:function t(){if(!o)return location}},{key:\"localStorage\",get:function t(){if(!o&&\"undefined\"!=typeof window)return localStorage}},{key:\"sessionStorage\",get:function t(){if(!o&&\"undefined\"!=typeof window)return sessionStorage}},{key:\"XMLHttpRequest\",get:function t(){if(!o&&\"undefined\"!=typeof window)return s||XMLHttpRequest}},{key:\"timer\",get:function t(){if(!o)return i}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.MetadataService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(7);e.MetadataService=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.JsonService;if(function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),!e)throw i.Log.error(\"MetadataService: No settings passed to MetadataService\"),new Error(\"settings\");this._settings=e,this._jsonService=new r([\"application/jwk-set+json\"])}return t.prototype.getMetadata=function t(){var e=this;return this._settings.metadata?(i.Log.debug(\"MetadataService.getMetadata: Returning metadata from settings\"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(i.Log.debug(\"MetadataService.getMetadata: getting metadata from\",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(t){return i.Log.debug(\"MetadataService.getMetadata: json received\"),e._settings.metadata=t,t})):(i.Log.error(\"MetadataService.getMetadata: No authority or metadataUrl configured on settings\"),Promise.reject(new Error(\"No authority or metadataUrl configured on settings\")))},t.prototype.getIssuer=function t(){return this._getMetadataProperty(\"issuer\")},t.prototype.getAuthorizationEndpoint=function t(){return this._getMetadataProperty(\"authorization_endpoint\")},t.prototype.getUserInfoEndpoint=function t(){return this._getMetadataProperty(\"userinfo_endpoint\")},t.prototype.getTokenEndpoint=function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty(\"token_endpoint\",e)},t.prototype.getCheckSessionIframe=function t(){return this._getMetadataProperty(\"check_session_iframe\",!0)},t.prototype.getEndSessionEndpoint=function t(){return this._getMetadataProperty(\"end_session_endpoint\",!0)},t.prototype.getRevocationEndpoint=function t(){return this._getMetadataProperty(\"revocation_endpoint\",!0)},t.prototype.getKeysEndpoint=function t(){return this._getMetadataProperty(\"jwks_uri\",!0)},t.prototype._getMetadataProperty=function t(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.Log.debug(\"MetadataService.getMetadataProperty for: \"+e),this.getMetadata().then(function(t){if(i.Log.debug(\"MetadataService.getMetadataProperty: metadata recieved\"),void 0===t[e]){if(!0===r)return void i.Log.warn(\"MetadataService.getMetadataProperty: Metadata does not contain optional property \"+e);throw i.Log.error(\"MetadataService.getMetadataProperty: Metadata does not contain property \"+e),new Error(\"Metadata does not contain property \"+e)}return t[e]})},t.prototype.getSigningKeys=function t(){var e=this;return this._settings.signingKeys?(i.Log.debug(\"MetadataService.getSigningKeys: Returning signingKeys from settings\"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty(\"jwks_uri\").then(function(t){return i.Log.debug(\"MetadataService.getSigningKeys: jwks_uri received\",t),e._jsonService.getJson(t).then(function(t){if(i.Log.debug(\"MetadataService.getSigningKeys: key set received\",t),!t.keys)throw i.Log.error(\"MetadataService.getSigningKeys: Missing keys on keyset\"),new Error(\"Missing keys on keyset\");return e._settings.signingKeys=t.keys,e._settings.signingKeys})})},n(t,[{key:\"metadataUrl\",get:function t(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(\".well-known/openid-configuration\")<0&&(\"/\"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+=\"/\"),this._metadataUrl+=\".well-known/openid-configuration\"))),this._metadataUrl}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.UrlUtility=void 0;var n=r(0),i=r(1);e.UrlUtility=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t.addQueryParam=function t(e,r,n){return e.indexOf(\"?\")<0&&(e+=\"?\"),\"?\"!==e[e.length-1]&&(e+=\"&\"),e+=encodeURIComponent(r),e+=\"=\",e+=encodeURIComponent(n)},t.parseUrlFragment=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"#\",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Global;\"string\"!=typeof e&&(e=o.location.href);var s=e.lastIndexOf(r);s>=0&&(e=e.substr(s+1)),\"?\"===r&&(s=e.indexOf(\"#\"))>=0&&(e=e.substr(0,s));for(var a,u={},c=/([^&=]+)=([^&]*)/g,h=0;a=c.exec(e);)if(u[decodeURIComponent(a[1])]=decodeURIComponent(a[2]),h++>50)return n.Log.error(\"UrlUtility.parseUrlFragment: response exceeded expected number of parameters\",e),{error:\"Response exceeded expected number of parameters\"};for(var l in u)return u;return{}},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.JoseUtil=void 0;var n=r(25),i=function o(t){return t&&t.__esModule?t:{default:t}}(r(32));e.JoseUtil=(0,i.default)({jws:n.jws,KeyUtil:n.KeyUtil,X509:n.X509,crypto:n.crypto,hextob64u:n.hextob64u,b64tohex:n.b64tohex,AllowedSigningAlgs:n.AllowedSigningAlgs})},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.OidcClientSettings=void 0;var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(0),s=r(6),a=r(23),u=r(2);var c=\"id_token\",h=\"openid\",l=900,f=300;e.OidcClientSettings=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.authority,i=e.metadataUrl,o=e.metadata,d=e.signingKeys,g=e.client_id,p=e.client_secret,v=e.response_type,y=void 0===v?c:v,m=e.scope,_=void 0===m?h:m,S=e.redirect_uri,F=e.post_logout_redirect_uri,b=e.prompt,w=e.display,E=e.max_age,x=e.ui_locales,k=e.acr_values,A=e.resource,P=e.response_mode,C=e.filterProtocolClaims,T=void 0===C||C,R=e.loadUserInfo,I=void 0===R||R,D=e.staleStateAge,U=void 0===D?l:D,L=e.clockSkew,B=void 0===L?f:L,N=e.userInfoJwtIssuer,O=void 0===N?\"OP\":N,j=e.stateStore,H=void 0===j?new s.WebStorageStateStore:j,M=e.ResponseValidatorCtor,K=void 0===M?a.ResponseValidator:M,V=e.MetadataServiceCtor,q=void 0===V?u.MetadataService:V,J=e.extraQueryParams,W=void 0===J?{}:J,z=e.extraTokenParams,Y=void 0===z?{}:z;!function G(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._authority=r,this._metadataUrl=i,this._metadata=o,this._signingKeys=d,this._client_id=g,this._client_secret=p,this._response_type=y,this._scope=_,this._redirect_uri=S,this._post_logout_redirect_uri=F,this._prompt=b,this._display=w,this._max_age=E,this._ui_locales=x,this._acr_values=k,this._resource=A,this._response_mode=P,this._filterProtocolClaims=!!T,this._loadUserInfo=!!I,this._staleStateAge=U,this._clockSkew=B,this._userInfoJwtIssuer=O,this._stateStore=H,this._validator=new K(this),this._metadataService=new q(this),this._extraQueryParams=\"object\"===(void 0===W?\"undefined\":n(W))?W:{},this._extraTokenParams=\"object\"===(void 0===Y?\"undefined\":n(Y))?Y:{}}return i(t,[{key:\"client_id\",get:function t(){return this._client_id},set:function t(e){if(this._client_id)throw o.Log.error(\"OidcClientSettings.set_client_id: client_id has already been assigned.\"),new Error(\"client_id has already been assigned.\");this._client_id=e}},{key:\"client_secret\",get:function t(){return this._client_secret}},{key:\"response_type\",get:function t(){return this._response_type}},{key:\"scope\",get:function t(){return this._scope}},{key:\"redirect_uri\",get:function t(){return this._redirect_uri}},{key:\"post_logout_redirect_uri\",get:function t(){return this._post_logout_redirect_uri}},{key:\"prompt\",get:function t(){return this._prompt}},{key:\"display\",get:function t(){return this._display}},{key:\"max_age\",get:function t(){return this._max_age}},{key:\"ui_locales\",get:function t(){return this._ui_locales}},{key:\"acr_values\",get:function t(){return this._acr_values}},{key:\"resource\",get:function t(){return this._resource}},{key:\"response_mode\",get:function t(){return this._response_mode}},{key:\"authority\",get:function t(){return this._authority},set:function t(e){if(this._authority)throw o.Log.error(\"OidcClientSettings.set_authority: authority has already been assigned.\"),new Error(\"authority has already been assigned.\");this._authority=e}},{key:\"metadataUrl\",get:function t(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(\".well-known/openid-configuration\")<0&&(\"/\"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+=\"/\"),this._metadataUrl+=\".well-known/openid-configuration\")),this._metadataUrl}},{key:\"metadata\",get:function t(){return this._metadata},set:function t(e){this._metadata=e}},{key:\"signingKeys\",get:function t(){return this._signingKeys},set:function t(e){this._signingKeys=e}},{key:\"filterProtocolClaims\",get:function t(){return this._filterProtocolClaims}},{key:\"loadUserInfo\",get:function t(){return this._loadUserInfo}},{key:\"staleStateAge\",get:function t(){return this._staleStateAge}},{key:\"clockSkew\",get:function t(){return this._clockSkew}},{key:\"userInfoJwtIssuer\",get:function t(){return this._userInfoJwtIssuer}},{key:\"stateStore\",get:function t(){return this._stateStore}},{key:\"validator\",get:function t(){return this._validator}},{key:\"metadataService\",get:function t(){return this._metadataService}},{key:\"extraQueryParams\",get:function t(){return this._extraQueryParams},set:function t(e){\"object\"===(void 0===e?\"undefined\":n(e))?this._extraQueryParams=e:this._extraQueryParams={}}},{key:\"extraTokenParams\",get:function t(){return this._extraTokenParams},set:function t(e){\"object\"===(void 0===e?\"undefined\":n(e))?this._extraTokenParams=e:this._extraTokenParams={}}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.WebStorageStateStore=void 0;var n=r(0),i=r(1);e.WebStorageStateStore=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.prefix,n=void 0===r?\"oidc.\":r,o=e.store,s=void 0===o?i.Global.localStorage:o;!function a(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._store=s,this._prefix=n}return t.prototype.set=function t(e,r){return n.Log.debug(\"WebStorageStateStore.set\",e),e=this._prefix+e,this._store.setItem(e,r),Promise.resolve()},t.prototype.get=function t(e){n.Log.debug(\"WebStorageStateStore.get\",e),e=this._prefix+e;var r=this._store.getItem(e);return Promise.resolve(r)},t.prototype.remove=function t(e){n.Log.debug(\"WebStorageStateStore.remove\",e),e=this._prefix+e;var r=this._store.getItem(e);return this._store.removeItem(e),Promise.resolve(r)},t.prototype.getAllKeys=function t(){n.Log.debug(\"WebStorageStateStore.getAllKeys\");for(var e=[],r=0;r<this._store.length;r++){var i=this._store.key(r);0===i.indexOf(this._prefix)&&e.push(i.substr(this._prefix.length))}return Promise.resolve(e)},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.JsonService=void 0;var n=r(0),i=r(1);e.JsonService=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Global.XMLHttpRequest,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e&&Array.isArray(e)?this._contentTypes=e.slice():this._contentTypes=[],this._contentTypes.push(\"application/json\"),n&&this._contentTypes.push(\"application/jwt\"),this._XMLHttpRequest=r,this._jwtHandler=n}return t.prototype.getJson=function t(e,r){var i=this;if(!e)throw n.Log.error(\"JsonService.getJson: No url passed\"),new Error(\"url\");return n.Log.debug(\"JsonService.getJson, url: \",e),new Promise(function(t,o){var s=new i._XMLHttpRequest;s.open(\"GET\",e);var a=i._contentTypes,u=i._jwtHandler;s.onload=function(){if(n.Log.debug(\"JsonService.getJson: HTTP response received, status\",s.status),200===s.status){var r=s.getResponseHeader(\"Content-Type\");if(r){var i=a.find(function(t){if(r.startsWith(t))return!0});if(\"application/jwt\"==i)return void u(s).then(t,o);if(i)try{return void t(JSON.parse(s.responseText))}catch(t){return n.Log.error(\"JsonService.getJson: Error parsing JSON response\",t.message),void o(t)}}o(Error(\"Invalid response Content-Type: \"+r+\", from URL: \"+e))}else o(Error(s.statusText+\" (\"+s.status+\")\"))},s.onerror=function(){n.Log.error(\"JsonService.getJson: network error\"),o(Error(\"Network Error\"))},r&&(n.Log.debug(\"JsonService.getJson: token passed, setting Authorization header\"),s.setRequestHeader(\"Authorization\",\"Bearer \"+r)),s.send()})},t.prototype.postForm=function t(e,r){var i=this;if(!e)throw n.Log.error(\"JsonService.postForm: No url passed\"),new Error(\"url\");return n.Log.debug(\"JsonService.postForm, url: \",e),new Promise(function(t,o){var s=new i._XMLHttpRequest;s.open(\"POST\",e);var a=i._contentTypes;s.onload=function(){if(n.Log.debug(\"JsonService.postForm: HTTP response received, status\",s.status),200!==s.status){if(400===s.status)if(i=s.getResponseHeader(\"Content-Type\"))if(a.find(function(t){if(i.startsWith(t))return!0}))try{var r=JSON.parse(s.responseText);if(r&&r.error)return n.Log.error(\"JsonService.postForm: Error from server: \",r.error),void o(new Error(r.error))}catch(t){return n.Log.error(\"JsonService.postForm: Error parsing JSON response\",t.message),void o(t)}o(Error(s.statusText+\" (\"+s.status+\")\"))}else{var i;if((i=s.getResponseHeader(\"Content-Type\"))&&a.find(function(t){if(i.startsWith(t))return!0}))try{return void t(JSON.parse(s.responseText))}catch(t){return n.Log.error(\"JsonService.postForm: Error parsing JSON response\",t.message),void o(t)}o(Error(\"Invalid response Content-Type: \"+i+\", from URL: \"+e))}},s.onerror=function(){n.Log.error(\"JsonService.postForm: network error\"),o(Error(\"Network Error\"))};var u=\"\";for(var c in r){var h=r[c];h&&(u.length>0&&(u+=\"&\"),u+=encodeURIComponent(c),u+=\"=\",u+=encodeURIComponent(h))}s.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\"),s.send(u)})},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.State=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=function s(t){return t&&t.__esModule?t:{default:t}}(r(14));e.State=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,n=e.data,i=e.created,s=e.request_type;!function a(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._id=r||(0,o.default)(),this._data=n,this._created=\"number\"==typeof i&&i>0?i:parseInt(Date.now()/1e3),this._request_type=s}return t.prototype.toStorageString=function t(){return i.Log.debug(\"State.toStorageString\"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},t.fromStorageString=function e(r){return i.Log.debug(\"State.fromStorageString\"),new t(JSON.parse(r))},t.clearStaleState=function e(r,n){var o=Date.now()/1e3-n;return r.getAllKeys().then(function(e){i.Log.debug(\"State.clearStaleState: got keys\",e);for(var n=[],s=function s(a){var c=e[a];u=r.get(c).then(function(e){var n=!1;if(e)try{var s=t.fromStorageString(e);i.Log.debug(\"State.clearStaleState: got item from key: \",c,s.created),s.created<=o&&(n=!0)}catch(t){i.Log.error(\"State.clearStaleState: Error parsing state for key\",c,t.message),n=!0}else i.Log.debug(\"State.clearStaleState: no item in storage for key: \",c),n=!0;if(n)return i.Log.debug(\"State.clearStaleState: removed item for key: \",c),r.remove(c)}),n.push(u)},a=0;a<e.length;a++){var u;s(a)}return i.Log.debug(\"State.clearStaleState: waiting on promise count:\",n.length),Promise.all(n)})},n(t,[{key:\"id\",get:function t(){return this._id}},{key:\"data\",get:function t(){return this._data}},{key:\"created\",get:function t(){return this._created}},{key:\"request_type\",get:function t(){return this._request_type}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.OidcClient=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(5),s=r(11),a=r(12),u=r(36),c=r(37),h=r(38),l=r(13),f=r(8);e.OidcClient=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),e instanceof o.OidcClientSettings?this._settings=e:this._settings=new o.OidcClientSettings(e)}return t.prototype.createSigninRequest=function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.response_type,o=r.scope,s=r.redirect_uri,u=r.data,c=r.state,h=r.prompt,l=r.display,f=r.max_age,d=r.ui_locales,g=r.id_token_hint,p=r.login_hint,v=r.acr_values,y=r.resource,m=r.request,_=r.request_uri,S=r.response_mode,F=r.extraQueryParams,b=r.extraTokenParams,w=r.request_type,E=r.skipUserInfo,x=arguments[1];i.Log.debug(\"OidcClient.createSigninRequest\");var k=this._settings.client_id;n=n||this._settings.response_type,o=o||this._settings.scope,s=s||this._settings.redirect_uri,h=h||this._settings.prompt,l=l||this._settings.display,f=f||this._settings.max_age,d=d||this._settings.ui_locales,v=v||this._settings.acr_values,y=y||this._settings.resource,S=S||this._settings.response_mode,F=F||this._settings.extraQueryParams,b=b||this._settings.extraTokenParams;var A=this._settings.authority;return a.SigninRequest.isCode(n)&&\"code\"!==n?Promise.reject(new Error(\"OpenID Connect hybrid flow is not supported\")):this._metadataService.getAuthorizationEndpoint().then(function(t){i.Log.debug(\"OidcClient.createSigninRequest: Received authorization endpoint\",t);var r=new a.SigninRequest({url:t,client_id:k,redirect_uri:s,response_type:n,scope:o,data:u||c,authority:A,prompt:h,display:l,max_age:f,ui_locales:d,id_token_hint:g,login_hint:p,acr_values:v,resource:y,request:m,request_uri:_,extraQueryParams:F,extraTokenParams:b,request_type:w,response_mode:S,client_secret:e._settings.client_secret,skipUserInfo:E}),P=r.state;return(x=x||e._stateStore).set(P.id,P.toStorageString()).then(function(){return r})})},t.prototype.readSigninResponseState=function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug(\"OidcClient.readSigninResponseState\");var o=\"query\"===this._settings.response_mode||!this._settings.response_mode&&a.SigninRequest.isCode(this._settings.response_type)?\"?\":\"#\",s=new u.SigninResponse(e,o);return s.state?(r=r||this._stateStore,(n?r.remove.bind(r):r.get.bind(r))(s.state).then(function(t){if(!t)throw i.Log.error(\"OidcClient.readSigninResponseState: No matching state found in storage\"),new Error(\"No matching state found in storage\");return{state:l.SigninState.fromStorageString(t),response:s}})):(i.Log.error(\"OidcClient.readSigninResponseState: No state in response\"),Promise.reject(new Error(\"No state in response\")))},t.prototype.processSigninResponse=function t(e,r){var n=this;return i.Log.debug(\"OidcClient.processSigninResponse\"),this.readSigninResponseState(e,r,!0).then(function(t){var e=t.state,r=t.response;return i.Log.debug(\"OidcClient.processSigninResponse: Received state from storage; validating response\"),n._validator.validateSigninResponse(e,r)})},t.prototype.createSignoutRequest=function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.id_token_hint,o=r.data,s=r.state,a=r.post_logout_redirect_uri,u=r.extraQueryParams,h=r.request_type,l=arguments[1];return i.Log.debug(\"OidcClient.createSignoutRequest\"),a=a||this._settings.post_logout_redirect_uri,u=u||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(t){if(!t)throw i.Log.error(\"OidcClient.createSignoutRequest: No end session endpoint url returned\"),new Error(\"no end session endpoint\");i.Log.debug(\"OidcClient.createSignoutRequest: Received end session endpoint\",t);var r=new c.SignoutRequest({url:t,id_token_hint:n,post_logout_redirect_uri:a,data:o||s,extraQueryParams:u,request_type:h}),f=r.state;return f&&(i.Log.debug(\"OidcClient.createSignoutRequest: Signout request has state to persist\"),(l=l||e._stateStore).set(f.id,f.toStorageString())),r})},t.prototype.readSignoutResponseState=function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug(\"OidcClient.readSignoutResponseState\");var o=new h.SignoutResponse(e);if(!o.state)return i.Log.debug(\"OidcClient.readSignoutResponseState: No state in response\"),o.error?(i.Log.warn(\"OidcClient.readSignoutResponseState: Response was error: \",o.error),Promise.reject(new s.ErrorResponse(o))):Promise.resolve({undefined:void 0,response:o});var a=o.state;return r=r||this._stateStore,(n?r.remove.bind(r):r.get.bind(r))(a).then(function(t){if(!t)throw i.Log.error(\"OidcClient.readSignoutResponseState: No matching state found in storage\"),new Error(\"No matching state found in storage\");return{state:f.State.fromStorageString(t),response:o}})},t.prototype.processSignoutResponse=function t(e,r){var n=this;return i.Log.debug(\"OidcClient.processSignoutResponse\"),this.readSignoutResponseState(e,r,!0).then(function(t){var e=t.state,r=t.response;return e?(i.Log.debug(\"OidcClient.processSignoutResponse: Received state from storage; validating response\"),n._validator.validateSignoutResponse(e,r)):(i.Log.debug(\"OidcClient.processSignoutResponse: No state from storage; skipping validating response\"),r)})},t.prototype.clearStaleState=function t(e){return i.Log.debug(\"OidcClient.clearStaleState\"),e=e||this._stateStore,f.State.clearStaleState(e,this.settings.staleStateAge)},n(t,[{key:\"_stateStore\",get:function t(){return this.settings.stateStore}},{key:\"_validator\",get:function t(){return this.settings.validator}},{key:\"_metadataService\",get:function t(){return this.settings.metadataService}},{key:\"settings\",get:function t(){return this._settings}},{key:\"metadataService\",get:function t(){return this._metadataService}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.TokenClient=void 0;var n=r(7),i=r(2),o=r(0);e.TokenClient=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.JsonService,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(function a(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),!e)throw o.Log.error(\"TokenClient.ctor: No settings passed\"),new Error(\"settings\");this._settings=e,this._jsonService=new r,this._metadataService=new s(this._settings)}return t.prototype.exchangeCode=function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(r=Object.assign({},r)).grant_type=r.grant_type||\"authorization_code\",r.client_id=r.client_id||this._settings.client_id,r.redirect_uri=r.redirect_uri||this._settings.redirect_uri,r.code?r.redirect_uri?r.code_verifier?r.client_id?this._metadataService.getTokenEndpoint(!1).then(function(t){return o.Log.debug(\"TokenClient.exchangeCode: Received token endpoint\"),e._jsonService.postForm(t,r).then(function(t){return o.Log.debug(\"TokenClient.exchangeCode: response received\"),t})}):(o.Log.error(\"TokenClient.exchangeCode: No client_id passed\"),Promise.reject(new Error(\"A client_id is required\"))):(o.Log.error(\"TokenClient.exchangeCode: No code_verifier passed\"),Promise.reject(new Error(\"A code_verifier is required\"))):(o.Log.error(\"TokenClient.exchangeCode: No redirect_uri passed\"),Promise.reject(new Error(\"A redirect_uri is required\"))):(o.Log.error(\"TokenClient.exchangeCode: No code passed\"),Promise.reject(new Error(\"A code is required\")))},t.prototype.exchangeRefreshToken=function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(r=Object.assign({},r)).grant_type=r.grant_type||\"refresh_token\",r.client_id=r.client_id||this._settings.client_id,r.client_secret=r.client_secret||this._settings.client_secret,r.refresh_token?r.client_id?this._metadataService.getTokenEndpoint(!1).then(function(t){return o.Log.debug(\"TokenClient.exchangeRefreshToken: Received token endpoint\"),e._jsonService.postForm(t,r).then(function(t){return o.Log.debug(\"TokenClient.exchangeRefreshToken: response received\"),t})}):(o.Log.error(\"TokenClient.exchangeRefreshToken: No client_id passed\"),Promise.reject(new Error(\"A client_id is required\"))):(o.Log.error(\"TokenClient.exchangeRefreshToken: No refresh_token passed\"),Promise.reject(new Error(\"A refresh_token is required\")))},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.ErrorResponse=void 0;var n=r(0);e.ErrorResponse=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.error,o=r.error_description,s=r.error_uri,a=r.state,u=r.session_state;if(function c(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),!i)throw n.Log.error(\"No error passed to ErrorResponse\"),new Error(\"error\");var h=function l(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,o||i));return h.name=\"ErrorResponse\",h.error=i,h.error_description=o,h.error_uri=s,h.state=a,h.session_state=u,h}return function r(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(Error)},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.SigninRequest=void 0;var n=r(0),i=r(3),o=r(13);e.SigninRequest=function(){function t(e){var r=e.url,s=e.client_id,a=e.redirect_uri,u=e.response_type,c=e.scope,h=e.authority,l=e.data,f=e.prompt,d=e.display,g=e.max_age,p=e.ui_locales,v=e.id_token_hint,y=e.login_hint,m=e.acr_values,_=e.resource,S=e.response_mode,F=e.request,b=e.request_uri,w=e.extraQueryParams,E=e.request_type,x=e.client_secret,k=e.extraTokenParams,A=e.skipUserInfo;if(function P(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),!r)throw n.Log.error(\"SigninRequest.ctor: No url passed\"),new Error(\"url\");if(!s)throw n.Log.error(\"SigninRequest.ctor: No client_id passed\"),new Error(\"client_id\");if(!a)throw n.Log.error(\"SigninRequest.ctor: No redirect_uri passed\"),new Error(\"redirect_uri\");if(!u)throw n.Log.error(\"SigninRequest.ctor: No response_type passed\"),new Error(\"response_type\");if(!c)throw n.Log.error(\"SigninRequest.ctor: No scope passed\"),new Error(\"scope\");if(!h)throw n.Log.error(\"SigninRequest.ctor: No authority passed\"),new Error(\"authority\");var C=t.isOidc(u),T=t.isCode(u);S||(S=t.isCode(u)?\"query\":null),this.state=new o.SigninState({nonce:C,data:l,client_id:s,authority:h,redirect_uri:a,code_verifier:T,request_type:E,response_mode:S,client_secret:x,scope:c,extraTokenParams:k,skipUserInfo:A}),r=i.UrlUtility.addQueryParam(r,\"client_id\",s),r=i.UrlUtility.addQueryParam(r,\"redirect_uri\",a),r=i.UrlUtility.addQueryParam(r,\"response_type\",u),r=i.UrlUtility.addQueryParam(r,\"scope\",c),r=i.UrlUtility.addQueryParam(r,\"state\",this.state.id),C&&(r=i.UrlUtility.addQueryParam(r,\"nonce\",this.state.nonce)),T&&(r=i.UrlUtility.addQueryParam(r,\"code_challenge\",this.state.code_challenge),r=i.UrlUtility.addQueryParam(r,\"code_challenge_method\",\"S256\"));var R={prompt:f,display:d,max_age:g,ui_locales:p,id_token_hint:v,login_hint:y,acr_values:m,resource:_,request:F,request_uri:b,response_mode:S};for(var I in R)R[I]&&(r=i.UrlUtility.addQueryParam(r,I,R[I]));for(var D in w)r=i.UrlUtility.addQueryParam(r,D,w[D]);this.url=r}return t.isOidc=function t(e){return!!e.split(/\\s+/g).filter(function(t){return\"id_token\"===t})[0]},t.isOAuth=function t(e){return!!e.split(/\\s+/g).filter(function(t){return\"token\"===t})[0]},t.isCode=function t(e){return!!e.split(/\\s+/g).filter(function(t){return\"code\"===t})[0]},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.SigninState=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(8),s=r(4),a=function u(t){return t&&t.__esModule?t:{default:t}}(r(14));e.SigninState=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.nonce,i=r.authority,o=r.client_id,u=r.redirect_uri,c=r.code_verifier,h=r.response_mode,l=r.client_secret,f=r.scope,d=r.extraTokenParams,g=r.skipUserInfo;!function p(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var v=function y(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,arguments[0]));if(!0===n?v._nonce=(0,a.default)():n&&(v._nonce=n),!0===c?v._code_verifier=(0,a.default)()+(0,a.default)()+(0,a.default)():c&&(v._code_verifier=c),v.code_verifier){var m=s.JoseUtil.hashString(v.code_verifier,\"SHA256\");v._code_challenge=s.JoseUtil.hexToBase64Url(m)}return v._redirect_uri=u,v._authority=i,v._client_id=o,v._response_mode=h,v._client_secret=l,v._scope=f,v._extraTokenParams=d,v._skipUserInfo=g,v}return function r(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.toStorageString=function t(){return i.Log.debug(\"SigninState.toStorageString\"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},e.fromStorageString=function t(r){return i.Log.debug(\"SigninState.fromStorageString\"),new e(JSON.parse(r))},n(e,[{key:\"nonce\",get:function t(){return this._nonce}},{key:\"authority\",get:function t(){return this._authority}},{key:\"client_id\",get:function t(){return this._client_id}},{key:\"redirect_uri\",get:function t(){return this._redirect_uri}},{key:\"code_verifier\",get:function t(){return this._code_verifier}},{key:\"code_challenge\",get:function t(){return this._code_challenge}},{key:\"response_mode\",get:function t(){return this._response_mode}},{key:\"client_secret\",get:function t(){return this._client_secret}},{key:\"scope\",get:function t(){return this._scope}},{key:\"extraTokenParams\",get:function t(){return this._extraTokenParams}},{key:\"skipUserInfo\",get:function t(){return this._skipUserInfo}}]),e}(o.State)},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function n(){return(0,i.default)().replace(/-/g,\"\")};var i=function o(t){return t&&t.__esModule?t:{default:t}}(r(33));t.exports=e.default},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.User=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);e.User=function(){function t(e){var r=e.id_token,n=e.session_state,i=e.access_token,o=e.refresh_token,s=e.token_type,a=e.scope,u=e.profile,c=e.expires_at,h=e.state;!function l(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.id_token=r,this.session_state=n,this.access_token=i,this.refresh_token=o,this.token_type=s,this.scope=a,this.profile=u,this.expires_at=c,this.state=h}return t.prototype.toStorageString=function t(){return i.Log.debug(\"User.toStorageString\"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},t.fromStorageString=function e(r){return i.Log.debug(\"User.fromStorageString\"),new t(JSON.parse(r))},n(t,[{key:\"expires_in\",get:function t(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function t(e){var r=parseInt(e);if(\"number\"==typeof r&&r>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+r}}},{key:\"expired\",get:function t(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:\"scopes\",get:function t(){return(this.scope||\"\").split(\" \")}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.AccessTokenEvents=void 0;var n=r(0),i=r(48);var o=60;e.AccessTokenEvents=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.accessTokenExpiringNotificationTime,n=void 0===r?o:r,s=e.accessTokenExpiringTimer,a=void 0===s?new i.Timer(\"Access token expiring\"):s,u=e.accessTokenExpiredTimer,c=void 0===u?new i.Timer(\"Access token expired\"):u;!function h(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._accessTokenExpiringNotificationTime=n,this._accessTokenExpiring=a,this._accessTokenExpired=c}return t.prototype.load=function t(e){if(e.access_token&&void 0!==e.expires_in){var r=e.expires_in;if(n.Log.debug(\"AccessTokenEvents.load: access token present, remaining duration:\",r),r>0){var i=r-this._accessTokenExpiringNotificationTime;i<=0&&(i=1),n.Log.debug(\"AccessTokenEvents.load: registering expiring timer in:\",i),this._accessTokenExpiring.init(i)}else n.Log.debug(\"AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration.\"),this._accessTokenExpiring.cancel();var o=r+1;n.Log.debug(\"AccessTokenEvents.load: registering expired timer in:\",o),this._accessTokenExpired.init(o)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},t.prototype.unload=function t(){n.Log.debug(\"AccessTokenEvents.unload: canceling existing access token timers\"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},t.prototype.addAccessTokenExpiring=function t(e){this._accessTokenExpiring.addHandler(e)},t.prototype.removeAccessTokenExpiring=function t(e){this._accessTokenExpiring.removeHandler(e)},t.prototype.addAccessTokenExpired=function t(e){this._accessTokenExpired.addHandler(e)},t.prototype.removeAccessTokenExpired=function t(e){this._accessTokenExpired.removeHandler(e)},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Event=void 0;var n=r(0);e.Event=function(){function t(e){!function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._name=e,this._callbacks=[]}return t.prototype.addHandler=function t(e){this._callbacks.push(e)},t.prototype.removeHandler=function t(e){var r=this._callbacks.findIndex(function(t){return t===e});r>=0&&this._callbacks.splice(r,1)},t.prototype.raise=function t(){n.Log.debug(\"Event: Raising event: \"+this._name);for(var e=0;e<this._callbacks.length;e++){var r;(r=this._callbacks)[e].apply(r,arguments)}},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.SessionMonitor=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(19),s=r(1);e.SessionMonitor=function(){function t(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.CheckSessionIFrame,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.Global.timer;if(function u(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),!e)throw i.Log.error(\"SessionMonitor.ctor: No user manager passed to SessionMonitor\"),new Error(\"userManager\");this._userManager=e,this._CheckSessionIFrameCtor=n,this._timer=a,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),this._userManager.getUser().then(function(t){t?r._start(t):r._settings.monitorAnonymousSession&&r._userManager.querySessionStatus().then(function(t){var e={session_state:t.session_state};t.sub&&t.sid&&(e.profile={sub:t.sub,sid:t.sid}),r._start(e)}).catch(function(t){i.Log.error(\"SessionMonitor ctor: error from querySessionStatus:\",t.message)})}).catch(function(t){i.Log.error(\"SessionMonitor ctor: error from getUser:\",t.message)})}return t.prototype._start=function t(e){var r=this,n=e.session_state;n&&(e.profile?(this._sub=e.profile.sub,this._sid=e.profile.sid,i.Log.debug(\"SessionMonitor._start: session_state:\",n,\", sub:\",this._sub)):(this._sub=void 0,this._sid=void 0,i.Log.debug(\"SessionMonitor._start: session_state:\",n,\", anonymous user\")),this._checkSessionIFrame?this._checkSessionIFrame.start(n):this._metadataService.getCheckSessionIframe().then(function(t){if(t){i.Log.debug(\"SessionMonitor._start: Initializing check session iframe\");var e=r._client_id,o=r._checkSessionInterval,s=r._stopCheckSessionOnError;r._checkSessionIFrame=new r._CheckSessionIFrameCtor(r._callback.bind(r),e,t,o,s),r._checkSessionIFrame.load().then(function(){r._checkSessionIFrame.start(n)})}else i.Log.warn(\"SessionMonitor._start: No check session iframe found in the metadata\")}).catch(function(t){i.Log.error(\"SessionMonitor._start: Error from getCheckSessionIframe:\",t.message)}))},t.prototype._stop=function t(){var e=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(i.Log.debug(\"SessionMonitor._stop\"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var r=this._timer.setInterval(function(){e._timer.clearInterval(r),e._userManager.querySessionStatus().then(function(t){var r={session_state:t.session_state};t.sub&&t.sid&&(r.profile={sub:t.sub,sid:t.sid}),e._start(r)}).catch(function(t){i.Log.error(\"SessionMonitor: error from querySessionStatus:\",t.message)})},1e3)},t.prototype._callback=function t(){var e=this;this._userManager.querySessionStatus().then(function(t){var r=!0;t?t.sub===e._sub?(r=!1,e._checkSessionIFrame.start(t.session_state),t.sid===e._sid?i.Log.debug(\"SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:\",t.session_state):(i.Log.debug(\"SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:\",t.session_state),e._userManager.events._raiseUserSessionChanged())):i.Log.debug(\"SessionMonitor._callback: Different subject signed into OP:\",t.sub):i.Log.debug(\"SessionMonitor._callback: Subject no longer signed into OP\"),r&&(e._sub?(i.Log.debug(\"SessionMonitor._callback: SessionMonitor._callback; raising signed out event\"),e._userManager.events._raiseUserSignedOut()):(i.Log.debug(\"SessionMonitor._callback: SessionMonitor._callback; raising signed in event\"),e._userManager.events._raiseUserSignedIn()))}).catch(function(t){e._sub&&(i.Log.debug(\"SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event\",t.message),e._userManager.events._raiseUserSignedOut())})},n(t,[{key:\"_settings\",get:function t(){return this._userManager.settings}},{key:\"_metadataService\",get:function t(){return this._userManager.metadataService}},{key:\"_client_id\",get:function t(){return this._settings.client_id}},{key:\"_checkSessionInterval\",get:function t(){return this._settings.checkSessionInterval}},{key:\"_stopCheckSessionOnError\",get:function t(){return this._settings.stopCheckSessionOnError}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.CheckSessionIFrame=void 0;var n=r(0);var i=2e3;e.CheckSessionIFrame=function(){function t(e,r,n,o){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];!function a(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._callback=e,this._client_id=r,this._url=n,this._interval=o||i,this._stopOnError=s;var u=n.indexOf(\"/\",n.indexOf(\"//\")+2);this._frame_origin=n.substr(0,u),this._frame=window.document.createElement(\"iframe\"),this._frame.style.visibility=\"hidden\",this._frame.style.position=\"absolute\",this._frame.style.display=\"none\",this._frame.style.width=0,this._frame.style.height=0,this._frame.src=n}return t.prototype.load=function t(){var e=this;return new Promise(function(t){e._frame.onload=function(){t()},window.document.body.appendChild(e._frame),e._boundMessageEvent=e._message.bind(e),window.addEventListener(\"message\",e._boundMessageEvent,!1)})},t.prototype._message=function t(e){e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&(\"error\"===e.data?(n.Log.error(\"CheckSessionIFrame: error message from check session op iframe\"),this._stopOnError&&this.stop()):\"changed\"===e.data?(n.Log.debug(\"CheckSessionIFrame: changed message from check session op iframe\"),this.stop(),this._callback()):n.Log.debug(\"CheckSessionIFrame: \"+e.data+\" message from check session op iframe\"))},t.prototype.start=function t(e){var r=this;if(this._session_state!==e){n.Log.debug(\"CheckSessionIFrame.start\"),this.stop(),this._session_state=e;var i=function t(){r._frame.contentWindow.postMessage(r._client_id+\" \"+r._session_state,r._frame_origin)};i(),this._timer=window.setInterval(i,this._interval)}},t.prototype.stop=function t(){this._session_state=null,this._timer&&(n.Log.debug(\"CheckSessionIFrame.stop\"),window.clearInterval(this._timer),this._timer=null)},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.TokenRevocationClient=void 0;var n=r(0),i=r(2),o=r(1);e.TokenRevocationClient=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.XMLHttpRequest,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(function a(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),!e)throw n.Log.error(\"TokenRevocationClient.ctor: No settings provided\"),new Error(\"No settings provided.\");this._settings=e,this._XMLHttpRequestCtor=r,this._metadataService=new s(this._settings)}return t.prototype.revoke=function t(e,r){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"access_token\";if(!e)throw n.Log.error(\"TokenRevocationClient.revoke: No token provided\"),new Error(\"No token provided.\");if(\"access_token\"!==o&&\"refresh_token\"!=o)throw n.Log.error(\"TokenRevocationClient.revoke: Invalid token type\"),new Error(\"Invalid token type.\");return this._metadataService.getRevocationEndpoint().then(function(t){if(t){n.Log.debug(\"TokenRevocationClient.revoke: Revoking \"+o);var s=i._settings.client_id,a=i._settings.client_secret;return i._revoke(t,s,a,e,o)}if(r)throw n.Log.error(\"TokenRevocationClient.revoke: Revocation not supported\"),new Error(\"Revocation not supported\")})},t.prototype._revoke=function t(e,r,i,o,s){var a=this;return new Promise(function(t,u){var c=new a._XMLHttpRequestCtor;c.open(\"POST\",e),c.onload=function(){n.Log.debug(\"TokenRevocationClient.revoke: HTTP response received, status\",c.status),200===c.status?t():u(Error(c.statusText+\" (\"+c.status+\")\"))},c.onerror=function(){n.Log.debug(\"TokenRevocationClient.revoke: Network Error.\"),u(\"Network Error\")};var h=\"client_id=\"+encodeURIComponent(r);i&&(h+=\"&client_secret=\"+encodeURIComponent(i)),h+=\"&token_type_hint=\"+encodeURIComponent(s),h+=\"&token=\"+encodeURIComponent(o),c.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\"),c.send(h)})},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.CordovaPopupWindow=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);var o=\"location=no,toolbar=no,zoom=no\",s=\"_blank\";e.CordovaPopupWindow=function(){function t(e){var r=this;!function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e}),this.features=e.popupWindowFeatures||o,this.target=e.popupWindowTarget||s,this.redirect_uri=e.startUrl,i.Log.debug(\"CordovaPopupWindow.ctor: redirect_uri: \"+this.redirect_uri)}return t.prototype._isInAppBrowserInstalled=function t(e){return[\"cordova-plugin-inappbrowser\",\"cordova-plugin-inappbrowser.inappbrowser\",\"org.apache.cordova.inappbrowser\"].some(function(t){return e.hasOwnProperty(t)})},t.prototype.navigate=function t(e){if(e&&e.url){if(!window.cordova)return this._error(\"cordova is undefined\");var r=window.cordova.require(\"cordova/plugin_list\").metadata;if(!1===this._isInAppBrowserInstalled(r))return this._error(\"InAppBrowser plugin not found\");this._popup=cordova.InAppBrowser.open(e.url,this.target,this.features),this._popup?(i.Log.debug(\"CordovaPopupWindow.navigate: popup successfully created\"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener(\"exit\",this._exitCallbackEvent,!1),this._popup.addEventListener(\"loadstart\",this._loadStartCallbackEvent,!1)):this._error(\"Error opening popup window\")}else this._error(\"No url provided\");return this.promise},t.prototype._loadStartCallback=function t(e){0===e.url.indexOf(this.redirect_uri)&&this._success({url:e.url})},t.prototype._exitCallback=function t(e){this._error(e)},t.prototype._success=function t(e){this._cleanup(),i.Log.debug(\"CordovaPopupWindow: Successful response from cordova popup window\"),this._resolve(e)},t.prototype._error=function t(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},t.prototype.close=function t(){this._cleanup()},t.prototype._cleanup=function t(){this._popup&&(i.Log.debug(\"CordovaPopupWindow: cleaning up popup\"),this._popup.removeEventListener(\"exit\",this._exitCallbackEvent,!1),this._popup.removeEventListener(\"loadstart\",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},n(t,[{key:\"promise\",get:function t(){return this._promise}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=r(0),i=r(9),o=r(5),s=r(6),a=r(39),u=r(40),c=r(16),h=r(2),l=r(50),f=r(51),d=r(19),g=r(20),p=r(18),v=r(1),y=r(15),m=r(52);e.default={Version:m.Version,Log:n.Log,OidcClient:i.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:s.WebStorageStateStore,InMemoryWebStorage:a.InMemoryWebStorage,UserManager:u.UserManager,AccessTokenEvents:c.AccessTokenEvents,MetadataService:h.MetadataService,CordovaPopupNavigator:l.CordovaPopupNavigator,CordovaIFrameNavigator:f.CordovaIFrameNavigator,CheckSessionIFrame:d.CheckSessionIFrame,TokenRevocationClient:g.TokenRevocationClient,SessionMonitor:p.SessionMonitor,Global:v.Global,User:y.User},t.exports=e.default},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.ResponseValidator=void 0;var n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=r(0),o=r(2),s=r(24),a=r(10),u=r(11),c=r(4);var h=[\"nonce\",\"at_hash\",\"iat\",\"nbf\",\"exp\",\"aud\",\"iss\",\"c_hash\"];e.ResponseValidator=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.MetadataService,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UserInfoService,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.JoseUtil,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.TokenClient;if(function l(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),!e)throw i.Log.error(\"ResponseValidator.ctor: No settings passed to ResponseValidator\"),new Error(\"settings\");this._settings=e,this._metadataService=new r(this._settings),this._userInfoService=new n(this._settings),this._joseUtil=u,this._tokenClient=new h(this._settings)}return t.prototype.validateSigninResponse=function t(e,r){var n=this;return i.Log.debug(\"ResponseValidator.validateSigninResponse\"),this._processSigninParams(e,r).then(function(t){return i.Log.debug(\"ResponseValidator.validateSigninResponse: state processed\"),n._validateTokens(e,t).then(function(t){return i.Log.debug(\"ResponseValidator.validateSigninResponse: tokens validated\"),n._processClaims(e,t).then(function(t){return i.Log.debug(\"ResponseValidator.validateSigninResponse: claims processed\"),t})})})},t.prototype.validateSignoutResponse=function t(e,r){return e.id!==r.state?(i.Log.error(\"ResponseValidator.validateSignoutResponse: State does not match\"),Promise.reject(new Error(\"State does not match\"))):(i.Log.debug(\"ResponseValidator.validateSignoutResponse: state validated\"),r.state=e.data,r.error?(i.Log.warn(\"ResponseValidator.validateSignoutResponse: Response was error\",r.error),Promise.reject(new u.ErrorResponse(r))):Promise.resolve(r))},t.prototype._processSigninParams=function t(e,r){if(e.id!==r.state)return i.Log.error(\"ResponseValidator._processSigninParams: State does not match\"),Promise.reject(new Error(\"State does not match\"));if(!e.client_id)return i.Log.error(\"ResponseValidator._processSigninParams: No client_id on state\"),Promise.reject(new Error(\"No client_id on state\"));if(!e.authority)return i.Log.error(\"ResponseValidator._processSigninParams: No authority on state\"),Promise.reject(new Error(\"No authority on state\"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==e.authority)return i.Log.error(\"ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state\"),Promise.reject(new Error(\"authority mismatch on settings vs. signin state\"))}else this._settings.authority=e.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==e.client_id)return i.Log.error(\"ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state\"),Promise.reject(new Error(\"client_id mismatch on settings vs. signin state\"))}else this._settings.client_id=e.client_id;return i.Log.debug(\"ResponseValidator._processSigninParams: state validated\"),r.state=e.data,r.error?(i.Log.warn(\"ResponseValidator._processSigninParams: Response was error\",r.error),Promise.reject(new u.ErrorResponse(r))):e.nonce&&!r.id_token?(i.Log.error(\"ResponseValidator._processSigninParams: Expecting id_token in response\"),Promise.reject(new Error(\"No id_token in response\"))):!e.nonce&&r.id_token?(i.Log.error(\"ResponseValidator._processSigninParams: Not expecting id_token in response\"),Promise.reject(new Error(\"Unexpected id_token in response\"))):e.code_verifier&&!r.code?(i.Log.error(\"ResponseValidator._processSigninParams: Expecting code in response\"),Promise.reject(new Error(\"No code in response\"))):!e.code_verifier&&r.code?(i.Log.error(\"ResponseValidator._processSigninParams: Not expecting code in response\"),Promise.reject(new Error(\"Unexpected code in response\"))):(r.scope||(r.scope=e.scope),Promise.resolve(r))},t.prototype._processClaims=function t(e,r){var n=this;if(r.isOpenIdConnect){if(i.Log.debug(\"ResponseValidator._processClaims: response is OIDC, processing claims\"),r.profile=this._filterProtocolClaims(r.profile),!0!==e.skipUserInfo&&this._settings.loadUserInfo&&r.access_token)return i.Log.debug(\"ResponseValidator._processClaims: loading user info\"),this._userInfoService.getClaims(r.access_token).then(function(t){return i.Log.debug(\"ResponseValidator._processClaims: user info claims received from user info endpoint\"),t.sub!==r.profile.sub?(i.Log.error(\"ResponseValidator._processClaims: sub from user info endpoint does not match sub in access_token\"),Promise.reject(new Error(\"sub from user info endpoint does not match sub in access_token\"))):(r.profile=n._mergeClaims(r.profile,t),i.Log.debug(\"ResponseValidator._processClaims: user info claims received, updated profile:\",r.profile),r)});i.Log.debug(\"ResponseValidator._processClaims: not loading user info\")}else i.Log.debug(\"ResponseValidator._processClaims: response is not OIDC, not processing claims\");return Promise.resolve(r)},t.prototype._mergeClaims=function t(e,r){var i=Object.assign({},e);for(var o in r){var s=r[o];Array.isArray(s)||(s=[s]);for(var a=0;a<s.length;a++){var u=s[a];i[o]?Array.isArray(i[o])?i[o].indexOf(u)<0&&i[o].push(u):i[o]!==u&&(\"object\"===(void 0===u?\"undefined\":n(u))?i[o]=this._mergeClaims(i[o],u):i[o]=[i[o],u]):i[o]=u}}return i},t.prototype._filterProtocolClaims=function t(e){i.Log.debug(\"ResponseValidator._filterProtocolClaims, incoming claims:\",e);var r=Object.assign({},e);return this._settings._filterProtocolClaims?(h.forEach(function(t){delete r[t]}),i.Log.debug(\"ResponseValidator._filterProtocolClaims: protocol claims filtered\",r)):i.Log.debug(\"ResponseValidator._filterProtocolClaims: protocol claims not filtered\"),r},t.prototype._validateTokens=function t(e,r){return r.code?(i.Log.debug(\"ResponseValidator._validateTokens: Validating code\"),this._processCode(e,r)):r.id_token?r.access_token?(i.Log.debug(\"ResponseValidator._validateTokens: Validating id_token and access_token\"),this._validateIdTokenAndAccessToken(e,r)):(i.Log.debug(\"ResponseValidator._validateTokens: Validating id_token\"),this._validateIdToken(e,r)):(i.Log.debug(\"ResponseValidator._validateTokens: No code to process or id_token to validate\"),Promise.resolve(r))},t.prototype._processCode=function t(e,r){var o=this,s={client_id:e.client_id,client_secret:e.client_secret,code:r.code,redirect_uri:e.redirect_uri,code_verifier:e.code_verifier};return e.extraTokenParams&&\"object\"===n(e.extraTokenParams)&&Object.assign(s,e.extraTokenParams),this._tokenClient.exchangeCode(s).then(function(t){for(var n in t)r[n]=t[n];return r.id_token?(i.Log.debug(\"ResponseValidator._processCode: token response successful, processing id_token\"),o._validateIdTokenAttributes(e,r)):(i.Log.debug(\"ResponseValidator._processCode: token response successful, returning response\"),r)})},t.prototype._validateIdTokenAttributes=function t(e,r){var n=this;return this._metadataService.getIssuer().then(function(t){var o=e.client_id,s=n._settings.clockSkew;return i.Log.debug(\"ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: \",s),n._joseUtil.validateJwtAttributes(r.id_token,t,o,s).then(function(t){return e.nonce&&e.nonce!==t.nonce?(i.Log.error(\"ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token\"),Promise.reject(new Error(\"Invalid nonce in id_token\"))):t.sub?(r.profile=t,r):(i.Log.error(\"ResponseValidator._validateIdTokenAttributes: No sub present in id_token\"),Promise.reject(new Error(\"No sub present in id_token\")))})})},t.prototype._validateIdTokenAndAccessToken=function t(e,r){var n=this;return this._validateIdToken(e,r).then(function(t){return n._validateAccessToken(t)})},t.prototype._validateIdToken=function t(e,r){var n=this;if(!e.nonce)return i.Log.error(\"ResponseValidator._validateIdToken: No nonce on state\"),Promise.reject(new Error(\"No nonce on state\"));var o=this._joseUtil.parseJwt(r.id_token);if(!o||!o.header||!o.payload)return i.Log.error(\"ResponseValidator._validateIdToken: Failed to parse id_token\",o),Promise.reject(new Error(\"Failed to parse id_token\"));if(e.nonce!==o.payload.nonce)return i.Log.error(\"ResponseValidator._validateIdToken: Invalid nonce in id_token\"),Promise.reject(new Error(\"Invalid nonce in id_token\"));var s=o.header.kid;return this._metadataService.getIssuer().then(function(t){return i.Log.debug(\"ResponseValidator._validateIdToken: Received issuer\"),n._metadataService.getSigningKeys().then(function(a){if(!a)return i.Log.error(\"ResponseValidator._validateIdToken: No signing keys from metadata\"),Promise.reject(new Error(\"No signing keys from metadata\"));i.Log.debug(\"ResponseValidator._validateIdToken: Received signing keys\");var u=void 0;if(s)u=a.filter(function(t){return t.kid===s})[0];else{if((a=n._filterByAlg(a,o.header.alg)).length>1)return i.Log.error(\"ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata\"),Promise.reject(new Error(\"No kid found in id_token and more than one key found in metadata\"));u=a[0]}if(!u)return i.Log.error(\"ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys\"),Promise.reject(new Error(\"No key matching kid or alg found in signing keys\"));var c=e.client_id,h=n._settings.clockSkew;return i.Log.debug(\"ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: \",h),n._joseUtil.validateJwt(r.id_token,u,t,c,h).then(function(){return i.Log.debug(\"ResponseValidator._validateIdToken: JWT validation successful\"),o.payload.sub?(r.profile=o.payload,r):(i.Log.error(\"ResponseValidator._validateIdToken: No sub present in id_token\"),Promise.reject(new Error(\"No sub present in id_token\")))})})})},t.prototype._filterByAlg=function t(e,r){var n=null;if(r.startsWith(\"RS\"))n=\"RSA\";else if(r.startsWith(\"PS\"))n=\"PS\";else{if(!r.startsWith(\"ES\"))return i.Log.debug(\"ResponseValidator._filterByAlg: alg not supported: \",r),[];n=\"EC\"}return i.Log.debug(\"ResponseValidator._filterByAlg: Looking for keys that match kty: \",n),e=e.filter(function(t){return t.kty===n}),i.Log.debug(\"ResponseValidator._filterByAlg: Number of keys that match kty: \",n,e.length),e},t.prototype._validateAccessToken=function t(e){if(!e.profile)return i.Log.error(\"ResponseValidator._validateAccessToken: No profile loaded from id_token\"),Promise.reject(new Error(\"No profile loaded from id_token\"));if(!e.profile.at_hash)return i.Log.error(\"ResponseValidator._validateAccessToken: No at_hash in id_token\"),Promise.reject(new Error(\"No at_hash in id_token\"));if(!e.id_token)return i.Log.error(\"ResponseValidator._validateAccessToken: No id_token\"),Promise.reject(new Error(\"No id_token\"));var r=this._joseUtil.parseJwt(e.id_token);if(!r||!r.header)return i.Log.error(\"ResponseValidator._validateAccessToken: Failed to parse id_token\",r),Promise.reject(new Error(\"Failed to parse id_token\"));var n=r.header.alg;if(!n||5!==n.length)return i.Log.error(\"ResponseValidator._validateAccessToken: Unsupported alg:\",n),Promise.reject(new Error(\"Unsupported alg: \"+n));var o=n.substr(2,3);if(!o)return i.Log.error(\"ResponseValidator._validateAccessToken: Unsupported alg:\",n,o),Promise.reject(new Error(\"Unsupported alg: \"+n));if(256!==(o=parseInt(o))&&384!==o&&512!==o)return i.Log.error(\"ResponseValidator._validateAccessToken: Unsupported alg:\",n,o),Promise.reject(new Error(\"Unsupported alg: \"+n));var s=\"sha\"+o,a=this._joseUtil.hashString(e.access_token,s);if(!a)return i.Log.error(\"ResponseValidator._validateAccessToken: access_token hash failed:\",s),Promise.reject(new Error(\"Failed to validate at_hash\"));var u=a.substr(0,a.length/2),c=this._joseUtil.hexToBase64Url(u);return c!==e.profile.at_hash?(i.Log.error(\"ResponseValidator._validateAccessToken: Failed to validate at_hash\",c,e.profile.at_hash),Promise.reject(new Error(\"Failed to validate at_hash\"))):(i.Log.debug(\"ResponseValidator._validateAccessToken: success\"),Promise.resolve(e))},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.UserInfoService=void 0;var n=r(7),i=r(2),o=r(0),s=r(4);e.UserInfoService=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.JsonService,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.JoseUtil;if(function c(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),!e)throw o.Log.error(\"UserInfoService.ctor: No settings passed\"),new Error(\"settings\");this._settings=e,this._jsonService=new r(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new a(this._settings),this._joseUtil=u}return t.prototype.getClaims=function t(e){var r=this;return e?this._metadataService.getUserInfoEndpoint().then(function(t){return o.Log.debug(\"UserInfoService.getClaims: received userinfo url\",t),r._jsonService.getJson(t,e).then(function(t){return o.Log.debug(\"UserInfoService.getClaims: claims received\",t),t})}):(o.Log.error(\"UserInfoService.getClaims: No token passed\"),Promise.reject(new Error(\"A token is required\")))},t.prototype._getClaimsFromJwt=function t(e){var r=this;try{var n=this._joseUtil.parseJwt(e.responseText);if(!n||!n.header||!n.payload)return o.Log.error(\"UserInfoService._getClaimsFromJwt: Failed to parse JWT\",n),Promise.reject(new Error(\"Failed to parse id_token\"));var i=n.header.kid,s=void 0;switch(this._settings.userInfoJwtIssuer){case\"OP\":s=this._metadataService.getIssuer();break;case\"ANY\":s=Promise.resolve(n.payload.iss);break;default:s=Promise.resolve(this._settings.userInfoJwtIssuer)}return s.then(function(t){return o.Log.debug(\"UserInfoService._getClaimsFromJwt: Received issuer:\"+t),r._metadataService.getSigningKeys().then(function(s){if(!s)return o.Log.error(\"UserInfoService._getClaimsFromJwt: No signing keys from metadata\"),Promise.reject(new Error(\"No signing keys from metadata\"));o.Log.debug(\"UserInfoService._getClaimsFromJwt: Received signing keys\");var a=void 0;if(i)a=s.filter(function(t){return t.kid===i})[0];else{if((s=r._filterByAlg(s,n.header.alg)).length>1)return o.Log.error(\"UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata\"),Promise.reject(new Error(\"No kid found in id_token and more than one key found in metadata\"));a=s[0]}if(!a)return o.Log.error(\"UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys\"),Promise.reject(new Error(\"No key matching kid or alg found in signing keys\"));var u=r._settings.client_id,c=r._settings.clockSkew;return o.Log.debug(\"UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: \",c),r._joseUtil.validateJwt(e.responseText,a,t,u,c,void 0,!0).then(function(){return o.Log.debug(\"UserInfoService._getClaimsFromJwt: JWT validation successful\"),n.payload})})})}catch(t){return o.Log.error(\"UserInfoService._getClaimsFromJwt: Error parsing JWT response\",t.message),void reject(t)}},t.prototype._filterByAlg=function t(e,r){var n=null;if(r.startsWith(\"RS\"))n=\"RSA\";else if(r.startsWith(\"PS\"))n=\"PS\";else{if(!r.startsWith(\"ES\"))return o.Log.debug(\"UserInfoService._filterByAlg: alg not supported: \",r),[];n=\"EC\"}return o.Log.debug(\"UserInfoService._filterByAlg: Looking for keys that match kty: \",n),e=e.filter(function(t){return t.kty===n}),o.Log.debug(\"UserInfoService._filterByAlg: Number of keys that match kty: \",n,e.length),e},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.AllowedSigningAlgs=e.b64tohex=e.hextob64u=e.crypto=e.X509=e.KeyUtil=e.jws=void 0;var n=r(26);e.jws=n.jws,e.KeyUtil=n.KEYUTIL,e.X509=n.X509,e.crypto=n.crypto,e.hextob64u=n.hextob64u,e.b64tohex=n.b64tohex,e.AllowedSigningAlgs=[\"RS256\",\"RS384\",\"RS512\",\"PS256\",\"PS384\",\"PS512\",\"ES256\",\"ES384\",\"ES512\"]},function(t,e,r){\"use strict\";(function(t){Object.defineProperty(e,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},n={userAgent:!1},i={};\n/*!\nCopyright (c) 2011, Yahoo! Inc. All rights reserved.\nCode licensed under the BSD License:\nhttp://developer.yahoo.com/yui/license.html\nversion: 2.9.0\n*/\nif(void 0===o)var o={};o.lang={extend:function t(e,r,i){if(!r||!e)throw new Error(\"YAHOO.lang.extend failed, please check that all dependencies are included.\");var o=function t(){};if(o.prototype=r.prototype,e.prototype=new o,e.prototype.constructor=e,e.superclass=r.prototype,r.prototype.constructor==Object.prototype.constructor&&(r.prototype.constructor=r),i){var s;for(s in i)e.prototype[s]=i[s];var a=function t(){},u=[\"toString\",\"valueOf\"];try{/MSIE/.test(n.userAgent)&&(a=function t(e,r){for(s=0;s<u.length;s+=1){var n=u[s],i=r[n];\"function\"==typeof i&&i!=Object.prototype[n]&&(e[n]=i)}})}catch(t){}a(e.prototype,i)}}};\n/*! CryptoJS v3.1.2 core-fix.js\n * code.google.com/p/crypto-js\n * (c) 2009-2013 by Jeff Mott. All rights reserved.\n * code.google.com/p/crypto-js/wiki/License\n * THIS IS FIX of 'core.js' to fix Hmac issue.\n * https://code.google.com/p/crypto-js/issues/detail?id=84\n * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js\n */\nvar s,a,u,c,h,l,f,d,g,p,v,y=y||(s=Math,u=(a={}).lib={},c=u.Base=function(){function t(){}return{extend:function e(r){t.prototype=this;var n=new t;return r&&n.mixIn(r),n.hasOwnProperty(\"init\")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function t(){var e=this.extend();return e.init.apply(e,arguments),e},init:function t(){},mixIn:function t(e){for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r]);e.hasOwnProperty(\"toString\")&&(this.toString=e.toString)},clone:function t(){return this.init.prototype.extend(this)}}}(),h=u.WordArray=c.extend({init:function t(e,r){e=this.words=e||[],this.sigBytes=void 0!=r?r:4*e.length},toString:function t(e){return(e||f).stringify(this)},concat:function t(e){var r=this.words,n=e.words,i=this.sigBytes,o=e.sigBytes;if(this.clamp(),i%4)for(var s=0;s<o;s++){var a=n[s>>>2]>>>24-s%4*8&255;r[i+s>>>2]|=a<<24-(i+s)%4*8}else for(s=0;s<o;s+=4)r[i+s>>>2]=n[s>>>2];return this.sigBytes+=o,this},clamp:function t(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=s.ceil(r/4)},clone:function t(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function t(e){for(var r=[],n=0;n<e;n+=4)r.push(4294967296*s.random()|0);return new h.init(r,e)}}),l=a.enc={},f=l.Hex={stringify:function t(e){for(var r=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var s=r[o>>>2]>>>24-o%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join(\"\")},parse:function t(e){for(var r=e.length,n=[],i=0;i<r;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new h.init(n,r/2)}},d=l.Latin1={stringify:function t(e){for(var r=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var s=r[o>>>2]>>>24-o%4*8&255;i.push(String.fromCharCode(s))}return i.join(\"\")},parse:function t(e){for(var r=e.length,n=[],i=0;i<r;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new h.init(n,r)}},g=l.Utf8={stringify:function t(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw new Error(\"Malformed UTF-8 data\")}},parse:function t(e){return d.parse(unescape(encodeURIComponent(e)))}},p=u.BufferedBlockAlgorithm=c.extend({reset:function t(){this._data=new h.init,this._nDataBytes=0},_append:function t(e){\"string\"==typeof e&&(e=g.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function t(e){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,a=i/(4*o),u=(a=e?s.ceil(a):s.max((0|a)-this._minBufferSize,0))*o,c=s.min(4*u,i);if(u){for(var l=0;l<u;l+=o)this._doProcessBlock(n,l);var f=n.splice(0,u);r.sigBytes-=c}return new h.init(f,c)},clone:function t(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),u.Hasher=p.extend({cfg:c.extend(),init:function t(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function t(){p.reset.call(this),this._doReset()},update:function t(e){return this._append(e),this._process(),this},finalize:function t(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function t(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function t(e){return function(t,r){return new v.HMAC.init(e,r).finalize(t)}}}),v=a.algo={},a);!function(t){var e,r=(e=y).lib,n=r.Base,i=r.WordArray;(e=e.x64={}).Word=n.extend({init:function t(e,r){this.high=e,this.low=r}}),e.WordArray=n.extend({init:function t(e,r){e=this.words=e||[],this.sigBytes=void 0!=r?r:8*e.length},toX32:function t(){for(var e=this.words,r=e.length,n=[],o=0;o<r;o++){var s=e[o];n.push(s.high),n.push(s.low)}return i.create(n,this.sigBytes)},clone:function t(){for(var e=n.clone.call(this),r=e.words=this.words.slice(0),i=r.length,o=0;o<i;o++)r[o]=r[o].clone();return e}})}(),function(){var t=y,e=t.lib.WordArray;t.enc.Base64={stringify:function t(e){var r=e.words,n=e.sigBytes,i=this._map;e.clamp(),e=[];for(var o=0;o<n;o+=3)for(var s=(r[o>>>2]>>>24-o%4*8&255)<<16|(r[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|r[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;4>a&&o+.75*a<n;a++)e.push(i.charAt(s>>>6*(3-a)&63));if(r=i.charAt(64))for(;e.length%4;)e.push(r);return e.join(\"\")},parse:function t(r){var n=r.length,i=this._map;(o=i.charAt(64))&&(-1!=(o=r.indexOf(o))&&(n=o));for(var o=[],s=0,a=0;a<n;a++)if(a%4){var u=i.indexOf(r.charAt(a-1))<<a%4*2,c=i.indexOf(r.charAt(a))>>>6-a%4*2;o[s>>>2]|=(u|c)<<24-s%4*8,s++}return e.create(o,s)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}}(),function(t){for(var e=y,r=(i=e.lib).WordArray,n=i.Hasher,i=e.algo,o=[],s=[],a=function t(e){return 4294967296*(e-(0|e))|0},u=2,c=0;64>c;){var h;t:{h=u;for(var l=t.sqrt(h),f=2;f<=l;f++)if(!(h%f)){h=!1;break t}h=!0}h&&(8>c&&(o[c]=a(t.pow(u,.5))),s[c]=a(t.pow(u,1/3)),c++),u++}var d=[];i=i.SHA256=n.extend({_doReset:function t(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function t(e,r){for(var n=this._hash.words,i=n[0],o=n[1],a=n[2],u=n[3],c=n[4],h=n[5],l=n[6],f=n[7],g=0;64>g;g++){if(16>g)d[g]=0|e[r+g];else{var p=d[g-15],v=d[g-2];d[g]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+d[g-7]+((v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10)+d[g-16]}p=f+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&h^~c&l)+s[g]+d[g],v=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&o^i&a^o&a),f=l,l=h,h=c,c=u+p|0,u=a,a=o,o=i,i=p+v|0}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+a|0,n[3]=n[3]+u|0,n[4]=n[4]+c|0,n[5]=n[5]+h|0,n[6]=n[6]+l|0,n[7]=n[7]+f|0},_doFinalize:function e(){var r=this._data,n=r.words,i=8*this._nDataBytes,o=8*r.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=t.floor(i/4294967296),n[15+(o+64>>>9<<4)]=i,r.sigBytes=4*n.length,this._process(),this._hash},clone:function t(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA256=n._createHelper(i),e.HmacSHA256=n._createHmacHelper(i)}(Math),function(){function t(){return n.create.apply(n,arguments)}for(var e=y,r=e.lib.Hasher,n=(o=e.x64).Word,i=o.WordArray,o=e.algo,s=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],a=[],u=0;80>u;u++)a[u]=t();o=o.SHA512=r.extend({_doReset:function t(){this._hash=new i.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function t(e,r){for(var n=(f=this._hash.words)[0],i=f[1],o=f[2],u=f[3],c=f[4],h=f[5],l=f[6],f=f[7],d=n.high,g=n.low,p=i.high,v=i.low,y=o.high,m=o.low,_=u.high,S=u.low,F=c.high,b=c.low,w=h.high,E=h.low,x=l.high,k=l.low,A=f.high,P=f.low,C=d,T=g,R=p,I=v,D=y,U=m,L=_,B=S,N=F,O=b,j=w,H=E,M=x,K=k,V=A,q=P,J=0;80>J;J++){var W=a[J];if(16>J)var z=W.high=0|e[r+2*J],Y=W.low=0|e[r+2*J+1];else{z=((Y=(z=a[J-15]).high)>>>1|(G=z.low)<<31)^(Y>>>8|G<<24)^Y>>>7;var G=(G>>>1|Y<<31)^(G>>>8|Y<<24)^(G>>>7|Y<<25),X=((Y=(X=a[J-2]).high)>>>19|(Q=X.low)<<13)^(Y<<3|Q>>>29)^Y>>>6,Q=(Q>>>19|Y<<13)^(Q<<3|Y>>>29)^(Q>>>6|Y<<26),$=(Y=a[J-7]).high,Z=(tt=a[J-16]).high,tt=tt.low;z=(z=(z=z+$+((Y=G+Y.low)>>>0<G>>>0?1:0))+X+((Y=Y+Q)>>>0<Q>>>0?1:0))+Z+((Y=Y+tt)>>>0<tt>>>0?1:0);W.high=z,W.low=Y}$=N&j^~N&M,tt=O&H^~O&K,W=C&R^C&D^R&D;var et=T&I^T&U^I&U,rt=(G=(C>>>28|T<<4)^(C<<30|T>>>2)^(C<<25|T>>>7),X=(T>>>28|C<<4)^(T<<30|C>>>2)^(T<<25|C>>>7),(Q=s[J]).high),nt=Q.low;Z=(Z=(Z=(Z=V+((N>>>14|O<<18)^(N>>>18|O<<14)^(N<<23|O>>>9))+((Q=q+((O>>>14|N<<18)^(O>>>18|N<<14)^(O<<23|N>>>9)))>>>0<q>>>0?1:0))+$+((Q=Q+tt)>>>0<tt>>>0?1:0))+rt+((Q=Q+nt)>>>0<nt>>>0?1:0))+z+((Q=Q+Y)>>>0<Y>>>0?1:0),W=G+W+((Y=X+et)>>>0<X>>>0?1:0),V=M,q=K,M=j,K=H,j=N,H=O,N=L+Z+((O=B+Q|0)>>>0<B>>>0?1:0)|0,L=D,B=U,D=R,U=I,R=C,I=T,C=Z+W+((T=Q+Y|0)>>>0<Q>>>0?1:0)|0}g=n.low=g+T,n.high=d+C+(g>>>0<T>>>0?1:0),v=i.low=v+I,i.high=p+R+(v>>>0<I>>>0?1:0),m=o.low=m+U,o.high=y+D+(m>>>0<U>>>0?1:0),S=u.low=S+B,u.high=_+L+(S>>>0<B>>>0?1:0),b=c.low=b+O,c.high=F+N+(b>>>0<O>>>0?1:0),E=h.low=E+H,h.high=w+j+(E>>>0<H>>>0?1:0),k=l.low=k+K,l.high=x+M+(k>>>0<K>>>0?1:0),P=f.low=P+q,f.high=A+V+(P>>>0<q>>>0?1:0)},_doFinalize:function t(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[30+(i+128>>>10<<5)]=Math.floor(n/4294967296),r[31+(i+128>>>10<<5)]=n,e.sigBytes=4*r.length,this._process(),this._hash.toX32()},clone:function t(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),e.SHA512=r._createHelper(o),e.HmacSHA512=r._createHmacHelper(o)}(),function(){var t=y,e=(i=t.x64).Word,r=i.WordArray,n=(i=t.algo).SHA512,i=i.SHA384=n.extend({_doReset:function t(){this._hash=new r.init([new e.init(3418070365,3238371032),new e.init(1654270250,914150663),new e.init(2438529370,812702999),new e.init(355462360,4144912697),new e.init(1731405415,4290775857),new e.init(2394180231,1750603025),new e.init(3675008525,1694076839),new e.init(1203062813,3204075428)])},_doFinalize:function t(){var e=n._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=n._createHelper(i),t.HmacSHA384=n._createHmacHelper(i)}();\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nvar m,_=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",S=\"=\";function F(t){var e,r,n=\"\";for(e=0;e+3<=t.length;e+=3)r=parseInt(t.substring(e,e+3),16),n+=_.charAt(r>>6)+_.charAt(63&r);if(e+1==t.length?(r=parseInt(t.substring(e,e+1),16),n+=_.charAt(r<<2)):e+2==t.length&&(r=parseInt(t.substring(e,e+2),16),n+=_.charAt(r>>2)+_.charAt((3&r)<<4)),S)for(;(3&n.length)>0;)n+=S;return n}function b(t){var e,r,n,i=\"\",o=0;for(e=0;e<t.length&&t.charAt(e)!=S;++e)(n=_.indexOf(t.charAt(e)))<0||(0==o?(i+=D(n>>2),r=3&n,o=1):1==o?(i+=D(r<<2|n>>4),r=15&n,o=2):2==o?(i+=D(r),i+=D(n>>2),r=3&n,o=3):(i+=D(r<<2|n>>4),i+=D(15&n),o=0));return 1==o&&(i+=D(r<<2)),i}function w(t){var e,r=b(t),n=new Array;for(e=0;2*e<r.length;++e)n[e]=parseInt(r.substring(2*e,2*e+2),16);return n}function E(t,e,r){null!=t&&(\"number\"==typeof t?this.fromNumber(t,e,r):null==e&&\"string\"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function x(){return new E(null)}\"Microsoft Internet Explorer\"==n.appName?(E.prototype.am=function k(t,e,r,n,i,o){for(var s=32767&e,a=e>>15;--o>=0;){var u=32767&this[t],c=this[t++]>>15,h=a*u+c*s;i=((u=s*u+((32767&h)<<15)+r[n]+(1073741823&i))>>>30)+(h>>>15)+a*c+(i>>>30),r[n++]=1073741823&u}return i},m=30):\"Netscape\"!=n.appName?(E.prototype.am=function A(t,e,r,n,i,o){for(;--o>=0;){var s=e*this[t++]+r[n]+i;i=Math.floor(s/67108864),r[n++]=67108863&s}return i},m=26):(E.prototype.am=function P(t,e,r,n,i,o){for(var s=16383&e,a=e>>14;--o>=0;){var u=16383&this[t],c=this[t++]>>14,h=a*u+c*s;i=((u=s*u+((16383&h)<<14)+r[n]+i)>>28)+(h>>14)+a*c,r[n++]=268435455&u}return i},m=28),E.prototype.DB=m,E.prototype.DM=(1<<m)-1,E.prototype.DV=1<<m;E.prototype.FV=Math.pow(2,52),E.prototype.F1=52-m,E.prototype.F2=2*m-52;var C,T,R=\"0123456789abcdefghijklmnopqrstuvwxyz\",I=new Array;for(C=\"0\".charCodeAt(0),T=0;T<=9;++T)I[C++]=T;for(C=\"a\".charCodeAt(0),T=10;T<36;++T)I[C++]=T;for(C=\"A\".charCodeAt(0),T=10;T<36;++T)I[C++]=T;function D(t){return R.charAt(t)}function U(t,e){var r=I[t.charCodeAt(e)];return null==r?-1:r}function L(t){var e=x();return e.fromInt(t),e}function B(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function N(t){this.m=t}function O(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function j(t,e){return t&e}function H(t,e){return t|e}function M(t,e){return t^e}function K(t,e){return t&~e}function V(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function q(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function J(){}function W(t){return t}function z(t){this.r2=x(),this.q3=x(),E.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}N.prototype.convert=function Y(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},N.prototype.revert=function G(t){return t},N.prototype.reduce=function X(t){t.divRemTo(this.m,null,t)},N.prototype.mulTo=function Q(t,e,r){t.multiplyTo(e,r),this.reduce(r)},N.prototype.sqrTo=function $(t,e){t.squareTo(e),this.reduce(e)},O.prototype.convert=function Z(t){var e=x();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(E.ZERO)>0&&this.m.subTo(e,e),e},O.prototype.revert=function tt(t){var e=x();return t.copyTo(e),this.reduce(e),e},O.prototype.reduce=function et(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},O.prototype.mulTo=function rt(t,e,r){t.multiplyTo(e,r),this.reduce(r)},O.prototype.sqrTo=function nt(t,e){t.squareTo(e),this.reduce(e)},E.prototype.copyTo=function it(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},E.prototype.fromInt=function ot(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},E.prototype.fromString=function st(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,i=!1,o=0;--n>=0;){var s=8==r?255&t[n]:U(t,n);s<0?\"-\"==t.charAt(n)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=r)>=this.DB&&(o-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&E.ZERO.subTo(this,this)},E.prototype.clamp=function at(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},E.prototype.dlShiftTo=function ut(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},E.prototype.drShiftTo=function ct(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},E.prototype.lShiftTo=function ht(t,e){var r,n=t%this.DB,i=this.DB-n,o=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e[r+s+1]=this[r]>>i|a,a=(this[r]&o)<<n;for(r=s-1;r>=0;--r)e[r]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},E.prototype.rShiftTo=function lt(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)e[s-r-1]|=(this[s]&o)<<i,e[s-r]=this[s]>>n;n>0&&(e[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}},E.prototype.subTo=function ft(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()},E.prototype.multiplyTo=function dt(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e[i]=0;for(i=0;i<n.t;++i)e[i+r.t]=r.am(0,n[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&E.ZERO.subTo(e,e)},E.prototype.squareTo=function gt(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},E.prototype.divRemTo=function pt(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=x());var o=x(),s=this.s,a=t.s,u=this.DB-B(n[n.t-1]);u>0?(n.lShiftTo(u,o),i.lShiftTo(u,r)):(n.copyTo(o),i.copyTo(r));var c=o.t,h=o[c-1];if(0!=h){var l=h*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),f=this.FV/l,d=(1<<this.F1)/l,g=1<<this.F2,p=r.t,v=p-c,y=null==e?x():e;for(o.dlShiftTo(v,y),r.compareTo(y)>=0&&(r[r.t++]=1,r.subTo(y,r)),E.ONE.dlShiftTo(c,y),y.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--v>=0;){var m=r[--p]==h?this.DM:Math.floor(r[p]*f+(r[p-1]+g)*d);if((r[p]+=o.am(0,m,r,v,0,c))<m)for(o.dlShiftTo(v,y),r.subTo(y,r);r[p]<--m;)r.subTo(y,r)}null!=e&&(r.drShiftTo(c,e),s!=a&&E.ZERO.subTo(e,e)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),s<0&&E.ZERO.subTo(r,r)}}},E.prototype.invDigit=function vt(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},E.prototype.isEven=function yt(){return 0==(this.t>0?1&this[0]:this.s)},E.prototype.exp=function mt(t,e){if(t>4294967295||t<1)return E.ONE;var r=x(),n=x(),i=e.convert(this),o=B(t)-1;for(i.copyTo(r);--o>=0;)if(e.sqrTo(r,n),(t&1<<o)>0)e.mulTo(n,i,r);else{var s=r;r=n,n=s}return e.revert(r)},E.prototype.toString=function _t(t){if(this.s<0)return\"-\"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,o=\"\",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(r=this[s]>>a)>0&&(i=!0,o=D(r));s>=0;)a<e?(r=(this[s]&(1<<a)-1)<<e-a,r|=this[--s]>>(a+=this.DB-e)):(r=this[s]>>(a-=e)&n,a<=0&&(a+=this.DB,--s)),r>0&&(i=!0),i&&(o+=D(r));return i?o:\"0\"},E.prototype.negate=function St(){var t=x();return E.ZERO.subTo(this,t),t},E.prototype.abs=function Ft(){return this.s<0?this.negate():this},E.prototype.compareTo=function bt(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0},E.prototype.bitLength=function wt(){return this.t<=0?0:this.DB*(this.t-1)+B(this[this.t-1]^this.s&this.DM)},E.prototype.mod=function Et(t){var e=x();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(E.ZERO)>0&&t.subTo(e,e),e},E.prototype.modPowInt=function xt(t,e){var r;return r=t<256||e.isEven()?new N(e):new O(e),this.exp(t,r)},E.ZERO=L(0),E.ONE=L(1),J.prototype.convert=W,J.prototype.revert=W,J.prototype.mulTo=function kt(t,e,r){t.multiplyTo(e,r)},J.prototype.sqrTo=function At(t,e){t.squareTo(e)},z.prototype.convert=function Pt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=x();return t.copyTo(e),this.reduce(e),e},z.prototype.revert=function Ct(t){return t},z.prototype.reduce=function Tt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},z.prototype.mulTo=function Rt(t,e,r){t.multiplyTo(e,r),this.reduce(r)},z.prototype.sqrTo=function It(t,e){t.squareTo(e),this.reduce(e)};var Dt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Ut=(1<<26)/Dt[Dt.length-1];\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction Lt(){this.i=0,this.j=0,this.S=new Array}E.prototype.chunkSize=function Bt(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},E.prototype.toRadix=function Nt(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return\"0\";var e=this.chunkSize(t),r=Math.pow(t,e),n=L(r),i=x(),o=x(),s=\"\";for(this.divRemTo(n,i,o);i.signum()>0;)s=(r+o.intValue()).toString(t).substr(1)+s,i.divRemTo(n,i,o);return o.intValue().toString(t)+s},E.prototype.fromRadix=function Ot(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,o=0,s=0,a=0;a<t.length;++a){var u=U(t,a);u<0?\"-\"==t.charAt(a)&&0==this.signum()&&(i=!0):(s=e*s+u,++o>=r&&(this.dMultiply(n),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(s,0)),i&&E.ZERO.subTo(this,this)},E.prototype.fromNumber=function jt(t,e,r){if(\"number\"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(E.ONE.shiftLeft(t-1),H,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(E.ONE.shiftLeft(t-1),this);else{var n=new Array,i=7&t;n.length=1+(t>>3),e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},E.prototype.bitwiseTo=function Ht(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r[n]=e(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r[n]=e(i,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},E.prototype.changeBit=function Mt(t,e){var r=E.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},E.prototype.addTo=function Kt(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()},E.prototype.dMultiply=function Vt(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},E.prototype.dAddOffset=function qt(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},E.prototype.multiplyLowerTo=function Jt(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,t[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t[i],r,i,0,e-i);r.clamp()},E.prototype.multiplyUpperTo=function Wt(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},E.prototype.modInt=function zt(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r},E.prototype.millerRabin=function Yt(t){var e=this.subtract(E.ONE),r=e.getLowestSetBit();if(r<=0)return!1;var n=e.shiftRight(r);(t=t+1>>1)>Dt.length&&(t=Dt.length);for(var i=x(),o=0;o<t;++o){i.fromInt(Dt[Math.floor(Math.random()*Dt.length)]);var s=i.modPow(n,this);if(0!=s.compareTo(E.ONE)&&0!=s.compareTo(e)){for(var a=1;a++<r&&0!=s.compareTo(e);)if(0==(s=s.modPowInt(2,this)).compareTo(E.ONE))return!1;if(0!=s.compareTo(e))return!1}}return!0},E.prototype.clone=\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction Gt(){var t=x();return this.copyTo(t),t},E.prototype.intValue=function Xt(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},E.prototype.byteValue=function Qt(){return 0==this.t?this.s:this[0]<<24>>24},E.prototype.shortValue=function $t(){return 0==this.t?this.s:this[0]<<16>>16},E.prototype.signum=function Zt(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},E.prototype.toByteArray=function te(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e},E.prototype.equals=function ee(t){return 0==this.compareTo(t)},E.prototype.min=function re(t){return this.compareTo(t)<0?this:t},E.prototype.max=function ne(t){return this.compareTo(t)>0?this:t},E.prototype.and=function ie(t){var e=x();return this.bitwiseTo(t,j,e),e},E.prototype.or=function oe(t){var e=x();return this.bitwiseTo(t,H,e),e},E.prototype.xor=function se(t){var e=x();return this.bitwiseTo(t,M,e),e},E.prototype.andNot=function ae(t){var e=x();return this.bitwiseTo(t,K,e),e},E.prototype.not=function ue(){for(var t=x(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},E.prototype.shiftLeft=function ce(t){var e=x();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},E.prototype.shiftRight=function he(t){var e=x();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},E.prototype.getLowestSetBit=function le(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+V(this[t]);return this.s<0?this.t*this.DB:-1},E.prototype.bitCount=function fe(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=q(this[r]^e);return t},E.prototype.testBit=function de(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},E.prototype.setBit=function ge(t){return this.changeBit(t,H)},E.prototype.clearBit=function pe(t){return this.changeBit(t,K)},E.prototype.flipBit=function ve(t){return this.changeBit(t,M)},E.prototype.add=function ye(t){var e=x();return this.addTo(t,e),e},E.prototype.subtract=function me(t){var e=x();return this.subTo(t,e),e},E.prototype.multiply=function _e(t){var e=x();return this.multiplyTo(t,e),e},E.prototype.divide=function Se(t){var e=x();return this.divRemTo(t,e,null),e},E.prototype.remainder=function Fe(t){var e=x();return this.divRemTo(t,null,e),e},E.prototype.divideAndRemainder=function be(t){var e=x(),r=x();return this.divRemTo(t,e,r),new Array(e,r)},E.prototype.modPow=function we(t,e){var r,n,i=t.bitLength(),o=L(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new N(e):e.isEven()?new z(e):new O(e);var s=new Array,a=3,u=r-1,c=(1<<r)-1;if(s[1]=n.convert(this),r>1){var h=x();for(n.sqrTo(s[1],h);a<=c;)s[a]=x(),n.mulTo(h,s[a-2],s[a]),a+=2}var l,f,d=t.t-1,g=!0,p=x();for(i=B(t[d])-1;d>=0;){for(i>=u?l=t[d]>>i-u&c:(l=(t[d]&(1<<i+1)-1)<<u-i,d>0&&(l|=t[d-1]>>this.DB+i-u)),a=r;0==(1&l);)l>>=1,--a;if((i-=a)<0&&(i+=this.DB,--d),g)s[l].copyTo(o),g=!1;else{for(;a>1;)n.sqrTo(o,p),n.sqrTo(p,o),a-=2;a>0?n.sqrTo(o,p):(f=o,o=p,p=f),n.mulTo(p,s[l],o)}for(;d>=0&&0==(t[d]&1<<i);)n.sqrTo(o,p),f=o,o=p,p=f,--i<0&&(i=this.DB-1,--d)}return n.revert(o)},E.prototype.modInverse=function Ee(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return E.ZERO;for(var r=t.clone(),n=this.clone(),i=L(1),o=L(0),s=L(0),a=L(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(t,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(s,i),o.subTo(a,o)):(n.subTo(r,n),e&&s.subTo(i,s),a.subTo(o,a))}return 0!=n.compareTo(E.ONE)?E.ZERO:a.compareTo(t)>=0?a.subtract(t):a.signum()<0?(a.addTo(t,a),a.signum()<0?a.add(t):a):a},E.prototype.pow=function xe(t){return this.exp(t,new J)},E.prototype.gcd=function ke(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},E.prototype.isProbablePrime=function Ae(t){var e,r=this.abs();if(1==r.t&&r[0]<=Dt[Dt.length-1]){for(e=0;e<Dt.length;++e)if(r[0]==Dt[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<Dt.length;){for(var n=Dt[e],i=e+1;i<Dt.length&&n<Ut;)n*=Dt[i++];for(n=r.modInt(n);e<i;)if(n%Dt[e++]==0)return!1}return r.millerRabin(t)},E.prototype.square=function Pe(){var t=x();return this.squareTo(t),t},Lt.prototype.init=function Ce(t){var e,r,n;for(e=0;e<256;++e)this.S[e]=e;for(r=0,e=0;e<256;++e)r=r+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[r],this.S[r]=n;this.i=0,this.j=0},Lt.prototype.next=function Te(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var Re,Ie,De,Ue=256;\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */function Le(){!function t(e){Ie[De++]^=255&e,Ie[De++]^=e>>8&255,Ie[De++]^=e>>16&255,Ie[De++]^=e>>24&255,De>=Ue&&(De-=Ue)}((new Date).getTime())}if(null==Ie){var Be;if(Ie=new Array,De=0,void 0!==i&&(void 0!==i.crypto||void 0!==i.msCrypto)){var Ne=i.crypto||i.msCrypto;if(Ne.getRandomValues){var Oe=new Uint8Array(32);for(Ne.getRandomValues(Oe),Be=0;Be<32;++Be)Ie[De++]=Oe[Be]}else if(\"Netscape\"==n.appName&&n.appVersion<\"5\"){var je=i.crypto.random(32);for(Be=0;Be<je.length;++Be)Ie[De++]=255&je.charCodeAt(Be)}}for(;De<Ue;)Be=Math.floor(65536*Math.random()),Ie[De++]=Be>>>8,Ie[De++]=255&Be;De=0,Le()}function He(){if(null==Re){for(Le(),(Re=function t(){return new Lt}()).init(Ie),De=0;De<Ie.length;++De)Ie[De]=0;De=0}return Re.next()}function Me(){}\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction Ke(t,e){return new E(t,e)}function Ve(t,e,r){for(var n=\"\",i=0;n.length<e;)n+=r(String.fromCharCode.apply(String,t.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return n}function qe(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}\n/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/\n */\nfunction Je(t,e){this.x=e,this.q=t}function We(t,e,r,n){this.curve=t,this.x=e,this.y=r,this.z=null==n?E.ONE:n,this.zinv=null}function ze(t,e,r){this.q=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(r),this.infinity=new We(this,null,null)}Me.prototype.nextBytes=function Ye(t){var e;for(e=0;e<t.length;++e)t[e]=He()},qe.prototype.doPublic=function Ge(t){return t.modPowInt(this.e,this.n)},qe.prototype.setPublic=function Xe(t,e){if(this.isPublic=!0,this.isPrivate=!1,\"string\"!=typeof t)this.n=t,this.e=e;else{if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw\"Invalid RSA public key\";this.n=Ke(t,16),this.e=parseInt(e,16)}},qe.prototype.encrypt=function Qe(t){var e=function r(t,e){if(e<t.length+11)throw\"Message too long for RSA\";for(var r=new Array,n=t.length-1;n>=0&&e>0;){var i=t.charCodeAt(n--);i<128?r[--e]=i:i>127&&i<2048?(r[--e]=63&i|128,r[--e]=i>>6|192):(r[--e]=63&i|128,r[--e]=i>>6&63|128,r[--e]=i>>12|224)}r[--e]=0;for(var o=new Me,s=new Array;e>2;){for(s[0]=0;0==s[0];)o.nextBytes(s);r[--e]=s[0]}return r[--e]=2,r[--e]=0,new E(r)}(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:\"0\"+i},qe.prototype.encryptOAEP=function $e(t,e,r){var n=function i(t,e,r,n){var i=Er.crypto.MessageDigest,o=Er.crypto.Util,s=null;if(r||(r=\"sha1\"),\"string\"==typeof r&&(s=i.getCanonicalAlgName(r),n=i.getHashLength(s),r=function t(e){return Or(o.hashHex(jr(e),s))}),t.length+2*n+2>e)throw\"Message too long for RSA\";var a,u=\"\";for(a=0;a<e-t.length-2*n-2;a+=1)u+=\"\\0\";var c=r(\"\")+u+\"\u0001\"+t,h=new Array(n);(new Me).nextBytes(h);var l=Ve(h,c.length,r),f=[];for(a=0;a<c.length;a+=1)f[a]=c.charCodeAt(a)^l.charCodeAt(a);var d=Ve(f,h.length,r),g=[0];for(a=0;a<h.length;a+=1)g[a+1]=h[a]^d.charCodeAt(a);return new E(g.concat(f))}(t,this.n.bitLength()+7>>3,e,r);if(null==n)return null;var o=this.doPublic(n);if(null==o)return null;var s=o.toString(16);return 0==(1&s.length)?s:\"0\"+s},qe.prototype.type=\"RSA\",Je.prototype.equals=function Ze(t){return t==this||this.q.equals(t.q)&&this.x.equals(t.x)},Je.prototype.toBigInteger=function tr(){return this.x},Je.prototype.negate=function er(){return new Je(this.q,this.x.negate().mod(this.q))},Je.prototype.add=function rr(t){return new Je(this.q,this.x.add(t.toBigInteger()).mod(this.q))},Je.prototype.subtract=function nr(t){return new Je(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))},Je.prototype.multiply=function ir(t){return new Je(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))},Je.prototype.square=function or(){return new Je(this.q,this.x.square().mod(this.q))},Je.prototype.divide=function sr(t){return new Je(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))},We.prototype.getX=function ar(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},We.prototype.getY=function ur(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},We.prototype.equals=function cr(t){return t==this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(E.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(E.ZERO))},We.prototype.isInfinity=function hr(){return null==this.x&&null==this.y||this.z.equals(E.ZERO)&&!this.y.toBigInteger().equals(E.ZERO)},We.prototype.negate=function lr(){return new We(this.curve,this.x,this.y.negate(),this.z)},We.prototype.add=function fr(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),r=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(E.ZERO.equals(r))return E.ZERO.equals(e)?this.twice():this.curve.getInfinity();var n=new E(\"3\"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),s=(t.x.toBigInteger(),t.y.toBigInteger(),r.square()),a=s.multiply(r),u=i.multiply(s),c=e.square().multiply(this.z),h=c.subtract(u.shiftLeft(1)).multiply(t.z).subtract(a).multiply(r).mod(this.curve.q),l=u.multiply(n).multiply(e).subtract(o.multiply(a)).subtract(c.multiply(e)).multiply(t.z).add(e.multiply(a)).mod(this.curve.q),f=a.multiply(this.z).multiply(t.z).mod(this.curve.q);return new We(this.curve,this.curve.fromBigInteger(h),this.curve.fromBigInteger(l),f)},We.prototype.twice=function dr(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new E(\"3\"),e=this.x.toBigInteger(),r=this.y.toBigInteger(),n=r.multiply(this.z),i=n.multiply(r).mod(this.curve.q),o=this.curve.a.toBigInteger(),s=e.square().multiply(t);E.ZERO.equals(o)||(s=s.add(this.z.square().multiply(o)));var a=(s=s.mod(this.curve.q)).square().subtract(e.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(n).mod(this.curve.q),u=s.multiply(t).multiply(e).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(s.square().multiply(s)).mod(this.curve.q),c=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new We(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(u),c)},We.prototype.multiply=function gr(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,r=t,n=r.multiply(new E(\"3\")),i=this.negate(),o=this;for(e=n.bitLength()-2;e>0;--e){o=o.twice();var s=n.testBit(e);s!=r.testBit(e)&&(o=o.add(s?this:i))}return o},We.prototype.multiplyTwo=function pr(t,e,r){var n;n=t.bitLength()>r.bitLength()?t.bitLength()-1:r.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(e);n>=0;)i=i.twice(),t.testBit(n)?i=r.testBit(n)?i.add(o):i.add(this):r.testBit(n)&&(i=i.add(e)),--n;return i},ze.prototype.getQ=function vr(){return this.q},ze.prototype.getA=function yr(){return this.a},ze.prototype.getB=function mr(){return this.b},ze.prototype.equals=function _r(t){return t==this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)},ze.prototype.getInfinity=function Sr(){return this.infinity},ze.prototype.fromBigInteger=function Fr(t){return new Je(this.q,t)},ze.prototype.decodePointHex=function br(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var e=(t.length-2)/2,r=t.substr(2,e),n=t.substr(e+2,e);return new We(this,this.fromBigInteger(new E(r,16)),this.fromBigInteger(new E(n,16)));default:return null}},\n/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib\n */\nJe.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},We.prototype.getEncoded=function(t){var e=function t(e,r){var n=e.toByteArrayUnsigned();if(r<n.length)n=n.slice(n.length-r);else for(;r>n.length;)n.unshift(0);return n},r=this.getX().toBigInteger(),n=this.getY().toBigInteger(),i=e(r,32);return t?n.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(e(n,32))),i},We.decodeFrom=function(t,e){e[0];var r=e.length-1,n=e.slice(1,1+r/2),i=e.slice(1+r/2,1+r);n.unshift(0),i.unshift(0);var o=new E(n),s=new E(i);return new We(t,t.fromBigInteger(o),t.fromBigInteger(s))},We.decodeFromHex=function(t,e){e.substr(0,2);var r=e.length-2,n=e.substr(2,r/2),i=e.substr(2+r/2,r/2),o=new E(n,16),s=new E(i,16);return new We(t,t.fromBigInteger(o),t.fromBigInteger(s))},We.prototype.add2D=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;if(this.x.equals(t.x))return this.y.equals(t.y)?this.twice():this.curve.getInfinity();var e=t.x.subtract(this.x),r=t.y.subtract(this.y).divide(e),n=r.square().subtract(this.x).subtract(t.x),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new We(this.curve,n,i)},We.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=this.curve.fromBigInteger(E.valueOf(2)),e=this.curve.fromBigInteger(E.valueOf(3)),r=this.x.square().multiply(e).add(this.curve.a).divide(this.y.multiply(t)),n=r.square().subtract(this.x.multiply(t)),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new We(this.curve,n,i)},We.prototype.multiply2D=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,r=t,n=r.multiply(new E(\"3\")),i=this.negate(),o=this;for(e=n.bitLength()-2;e>0;--e){o=o.twice();var s=n.testBit(e);s!=r.testBit(e)&&(o=o.add2D(s?this:i))}return o},We.prototype.isOnCurve=function(){var t=this.getX().toBigInteger(),e=this.getY().toBigInteger(),r=this.curve.getA().toBigInteger(),n=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=e.multiply(e).mod(i),s=t.multiply(t).multiply(t).add(r.multiply(t)).add(n).mod(i);return o.equals(s)},We.prototype.toString=function(){return\"(\"+this.getX().toBigInteger().toString()+\",\"+this.getY().toBigInteger().toString()+\")\"},We.prototype.validate=function(){var t=this.curve.getQ();if(this.isInfinity())throw new Error(\"Point is at infinity.\");var e=this.getX().toBigInteger(),r=this.getY().toBigInteger();if(e.compareTo(E.ONE)<0||e.compareTo(t.subtract(E.ONE))>0)throw new Error(\"x coordinate out of bounds\");if(r.compareTo(E.ONE)<0||r.compareTo(t.subtract(E.ONE))>0)throw new Error(\"y coordinate out of bounds\");if(!this.isOnCurve())throw new Error(\"Point is not on the curve.\");if(this.multiply(t).isInfinity())throw new Error(\"Point is not a scalar multiple of G.\");return!0};\n/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval\n */\nvar wr=function(){var t=new RegExp('(?:false|true|null|[\\\\{\\\\}\\\\[\\\\]]|(?:-?\\\\b(?:0|[1-9][0-9]*)(?:\\\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\\\b)|(?:\"(?:[^\\\\0-\\\\x08\\\\x0a-\\\\x1f\"\\\\\\\\]|\\\\\\\\(?:[\"/\\\\\\\\bfnrt]|u[0-9A-Fa-f]{4}))*\"))',\"g\"),e=new RegExp(\"\\\\\\\\(?:([^u])|u(.{4}))\",\"g\"),n={'\"':'\"',\"/\":\"/\",\"\\\\\":\"\\\\\",b:\"\\b\",f:\"\\f\",n:\"\\n\",r:\"\\r\",t:\"\\t\"};function i(t,e,r){return e?n[e]:String.fromCharCode(parseInt(r,16))}var o=new String(\"\"),s=(Object,Array,Object.hasOwnProperty);return function(n,a){var u,c,h=n.match(t),l=h[0],f=!1;\"{\"===l?u={}:\"[\"===l?u=[]:(u=[],f=!0);for(var d=[u],g=1-f,p=h.length;g<p;++g){var v;switch((l=h[g]).charCodeAt(0)){default:(v=d[0])[c||v.length]=+l,c=void 0;break;case 34:if(-1!==(l=l.substring(1,l.length-1)).indexOf(\"\\\\\")&&(l=l.replace(e,i)),v=d[0],!c){if(!(v instanceof Array)){c=l||o;break}c=v.length}v[c]=l,c=void 0;break;case 91:v=d[0],d.unshift(v[c||v.length]=[]),c=void 0;break;case 93:d.shift();break;case 102:(v=d[0])[c||v.length]=!1,c=void 0;break;case 110:(v=d[0])[c||v.length]=null,c=void 0;break;case 116:(v=d[0])[c||v.length]=!0,c=void 0;break;case 123:v=d[0],d.unshift(v[c||v.length]={}),c=void 0;break;case 125:d.shift()}}if(f){if(1!==d.length)throw new Error;u=u[0]}else if(d.length)throw new Error;if(a){u=function t(e,n){var i=e[n];if(i&&\"object\"===(void 0===i?\"undefined\":r(i))){var o=null;for(var u in i)if(s.call(i,u)&&i!==e){var c=t(i,u);void 0!==c?i[u]=c:(o||(o=[]),o.push(u))}if(o)for(var h=o.length;--h>=0;)delete i[o[h]]}return a.call(e,n,i)}({\"\":u},\"\")}return u}}();void 0!==Er&&Er||(e.KJUR=Er={}),void 0!==Er.asn1&&Er.asn1||(Er.asn1={}),Er.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e=\"0\"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if(\"-\"!=e.substr(0,1))e.length%2==1?e=\"0\"+e:e.match(/^[0-7]/)||(e=\"00\"+e);else{var r=e.substr(1).length;r%2==1?r+=1:e.match(/^[0-7]/)||(r+=2);for(var n=\"\",i=0;i<r;i++)n+=\"f\";e=new E(n,16).xor(t).add(E.ONE).toString(16).replace(/^-/,\"\")}return e},this.getPEMStringFromHex=function(t,e){return Vr(t,e)},this.newObject=function(t){var e=Er.asn1,r=e.DERBoolean,n=e.DERInteger,i=e.DERBitString,o=e.DEROctetString,s=e.DERNull,a=e.DERObjectIdentifier,u=e.DEREnumerated,c=e.DERUTF8String,h=e.DERNumericString,l=e.DERPrintableString,f=e.DERTeletexString,d=e.DERIA5String,g=e.DERUTCTime,p=e.DERGeneralizedTime,v=e.DERSequence,y=e.DERSet,m=e.DERTaggedObject,_=e.ASN1Util.newObject,S=Object.keys(t);if(1!=S.length)throw\"key of param shall be only one.\";var F=S[0];if(-1==\":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:\".indexOf(\":\"+F+\":\"))throw\"undefined key: \"+F;if(\"bool\"==F)return new r(t[F]);if(\"int\"==F)return new n(t[F]);if(\"bitstr\"==F)return new i(t[F]);if(\"octstr\"==F)return new o(t[F]);if(\"null\"==F)return new s(t[F]);if(\"oid\"==F)return new a(t[F]);if(\"enum\"==F)return new u(t[F]);if(\"utf8str\"==F)return new c(t[F]);if(\"numstr\"==F)return new h(t[F]);if(\"prnstr\"==F)return new l(t[F]);if(\"telstr\"==F)return new f(t[F]);if(\"ia5str\"==F)return new d(t[F]);if(\"utctime\"==F)return new g(t[F]);if(\"gentime\"==F)return new p(t[F]);if(\"seq\"==F){for(var b=t[F],w=[],E=0;E<b.length;E++){var x=_(b[E]);w.push(x)}return new v({array:w})}if(\"set\"==F){for(b=t[F],w=[],E=0;E<b.length;E++){x=_(b[E]);w.push(x)}return new y({array:w})}if(\"tag\"==F){var k=t[F];if(\"[object Array]\"===Object.prototype.toString.call(k)&&3==k.length){var A=_(k[2]);return new m({tag:k[0],explicit:k[1],obj:A})}var P={};if(void 0!==k.explicit&&(P.explicit=k.explicit),void 0!==k.tag&&(P.tag=k.tag),void 0===k.obj)throw\"obj shall be specified for 'tag'.\";return P.obj=_(k.obj),new m(P)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},Er.asn1.ASN1Util.oidHexToInt=function(t){for(var e=\"\",r=parseInt(t.substr(0,2),16),n=(e=Math.floor(r/40)+\".\"+r%40,\"\"),i=2;i<t.length;i+=2){var o=(\"00000000\"+parseInt(t.substr(i,2),16).toString(2)).slice(-8);if(n+=o.substr(1,7),\"0\"==o.substr(0,1))e=e+\".\"+new E(n,2).toString(10),n=\"\"}return e},Er.asn1.ASN1Util.oidIntToHex=function(t){var e=function t(e){var r=e.toString(16);return 1==r.length&&(r=\"0\"+r),r},r=function t(r){var n=\"\",i=new E(r,10).toString(2),o=7-i.length%7;7==o&&(o=0);for(var s=\"\",a=0;a<o;a++)s+=\"0\";i=s+i;for(a=0;a<i.length-1;a+=7){var u=i.substr(a,7);a!=i.length-7&&(u=\"1\"+u),n+=e(parseInt(u,2))}return n};if(!t.match(/^[0-9.]+$/))throw\"malformed oid string: \"+t;var n=\"\",i=t.split(\".\"),o=40*parseInt(i[0])+parseInt(i[1]);n+=e(o),i.splice(0,2);for(var s=0;s<i.length;s++)n+=r(i[s]);return n},Er.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw\"this.hV is null or undefined.\";if(this.hV.length%2==1)throw\"value hex must be even length: n=\"+\"\".length+\",v=\"+this.hV;var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e=\"0\"+e),t<128)return e;var r=e.length/2;if(r>15)throw\"ASN.1 length too long to represent by 8x: n = \"+t.toString(16);return(128+r).toString(16)+e},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return\"\"}},Er.asn1.DERAbstractString=function(t){Er.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=Br(this.s).toLowerCase()},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(\"string\"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},o.lang.extend(Er.asn1.DERAbstractString,Er.asn1.ASN1Object),Er.asn1.DERAbstractTime=function(t){Er.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.formatDate=function(t,e,r){var n=this.zeroPadding,i=this.localDateToUTC(t),o=String(i.getFullYear());\"utc\"==e&&(o=o.substr(2,2));var s=o+n(String(i.getMonth()+1),2)+n(String(i.getDate()),2)+n(String(i.getHours()),2)+n(String(i.getMinutes()),2)+n(String(i.getSeconds()),2);if(!0===r){var a=i.getMilliseconds();if(0!=a){var u=n(String(a),3);s=s+\".\"+(u=u.replace(/[0]+$/,\"\"))}}return s+\"Z\"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join(\"0\")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=Rr(t)},this.setByDateValue=function(t,e,r,n,i,o){var s=new Date(Date.UTC(t,e-1,r,n,i,o,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},o.lang.extend(Er.asn1.DERAbstractTime,Er.asn1.ASN1Object),Er.asn1.DERAbstractStructured=function(t){Er.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},o.lang.extend(Er.asn1.DERAbstractStructured,Er.asn1.ASN1Object),Er.asn1.DERBoolean=function(){Er.asn1.DERBoolean.superclass.constructor.call(this),this.hT=\"01\",this.hTLV=\"0101ff\"},o.lang.extend(Er.asn1.DERBoolean,Er.asn1.ASN1Object),Er.asn1.DERInteger=function(t){Er.asn1.DERInteger.superclass.constructor.call(this),this.hT=\"02\",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=Er.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new E(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):\"number\"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},o.lang.extend(Er.asn1.DERInteger,Er.asn1.ASN1Object),Er.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=Er.asn1.ASN1Util.newObject(t.obj);t.hex=\"00\"+e.getEncodedHex()}Er.asn1.DERBitString.superclass.constructor.call(this),this.hT=\"03\",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw\"unused bits shall be from 0 to 7: u = \"+t;var r=\"0\"+t;this.hTLV=null,this.isModified=!0,this.hV=r+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,\"\")).length%8;8==e&&(e=0);for(var r=0;r<=e;r++)t+=\"0\";var n=\"\";for(r=0;r<t.length-1;r+=8){var i=t.substr(r,8),o=parseInt(i,2).toString(16);1==o.length&&(o=\"0\"+o),n+=o}this.hTLV=null,this.isModified=!0,this.hV=\"0\"+e+n},this.setByBooleanArray=function(t){for(var e=\"\",r=0;r<t.length;r++)1==t[r]?e+=\"1\":e+=\"0\";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(\"string\"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},o.lang.extend(Er.asn1.DERBitString,Er.asn1.ASN1Object),Er.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=Er.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}Er.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT=\"04\"},o.lang.extend(Er.asn1.DEROctetString,Er.asn1.DERAbstractString),Er.asn1.DERNull=function(){Er.asn1.DERNull.superclass.constructor.call(this),this.hT=\"05\",this.hTLV=\"0500\"},o.lang.extend(Er.asn1.DERNull,Er.asn1.ASN1Object),Er.asn1.DERObjectIdentifier=function(t){var e=function t(e){var r=e.toString(16);return 1==r.length&&(r=\"0\"+r),r},r=function t(r){var n=\"\",i=new E(r,10).toString(2),o=7-i.length%7;7==o&&(o=0);for(var s=\"\",a=0;a<o;a++)s+=\"0\";i=s+i;for(a=0;a<i.length-1;a+=7){var u=i.substr(a,7);a!=i.length-7&&(u=\"1\"+u),n+=e(parseInt(u,2))}return n};Er.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT=\"06\",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw\"malformed oid string: \"+t;var n=\"\",i=t.split(\".\"),o=40*parseInt(i[0])+parseInt(i[1]);n+=e(o),i.splice(0,2);for(var s=0;s<i.length;s++)n+=r(i[s]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.setValueName=function(t){var e=Er.asn1.x509.OID.name2oid(t);if(\"\"===e)throw\"DERObjectIdentifier oidName undefined: \"+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(\"string\"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},o.lang.extend(Er.asn1.DERObjectIdentifier,Er.asn1.ASN1Object),Er.asn1.DEREnumerated=function(t){Er.asn1.DEREnumerated.superclass.constructor.call(this),this.hT=\"0a\",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=Er.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new E(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):\"number\"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},o.lang.extend(Er.asn1.DEREnumerated,Er.asn1.ASN1Object),Er.asn1.DERUTF8String=function(t){Er.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT=\"0c\"},o.lang.extend(Er.asn1.DERUTF8String,Er.asn1.DERAbstractString),Er.asn1.DERNumericString=function(t){Er.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT=\"12\"},o.lang.extend(Er.asn1.DERNumericString,Er.asn1.DERAbstractString),Er.asn1.DERPrintableString=function(t){Er.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT=\"13\"},o.lang.extend(Er.asn1.DERPrintableString,Er.asn1.DERAbstractString),Er.asn1.DERTeletexString=function(t){Er.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT=\"14\"},o.lang.extend(Er.asn1.DERTeletexString,Er.asn1.DERAbstractString),Er.asn1.DERIA5String=function(t){Er.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT=\"16\"},o.lang.extend(Er.asn1.DERIA5String,Er.asn1.DERAbstractString),Er.asn1.DERUTCTime=function(t){Er.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT=\"17\",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,\"utc\"),this.hV=Rr(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,\"utc\"),this.hV=Rr(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):\"string\"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},o.lang.extend(Er.asn1.DERUTCTime,Er.asn1.DERAbstractTime),Er.asn1.DERGeneralizedTime=function(t){Er.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT=\"18\",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,\"gen\",this.withMillis),this.hV=Rr(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,\"gen\",this.withMillis),this.hV=Rr(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):\"string\"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},o.lang.extend(Er.asn1.DERGeneralizedTime,Er.asn1.DERAbstractTime),Er.asn1.DERSequence=function(t){Er.asn1.DERSequence.superclass.constructor.call(this,t),this.hT=\"30\",this.getFreshValueHex=function(){for(var t=\"\",e=0;e<this.asn1Array.length;e++){t+=this.asn1Array[e].getEncodedHex()}return this.hV=t,this.hV}},o.lang.extend(Er.asn1.DERSequence,Er.asn1.DERAbstractStructured),Er.asn1.DERSet=function(t){Er.asn1.DERSet.superclass.constructor.call(this,t),this.hT=\"31\",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var r=this.asn1Array[e];t.push(r.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(\"\"),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},o.lang.extend(Er.asn1.DERSet,Er.asn1.DERAbstractStructured),Er.asn1.DERTaggedObject=function(t){Er.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT=\"a0\",this.hV=\"\",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,r){this.hT=e,this.isExplicit=t,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.tag&&(this.hT=t.tag),void 0!==t.explicit&&(this.isExplicit=t.explicit),void 0!==t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},o.lang.extend(Er.asn1.DERTaggedObject,Er.asn1.ASN1Object);var Er,xr,kr,Ar=new function(){};function Pr(t){for(var e=new Array,r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function Cr(t){for(var e=\"\",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}function Tr(t){for(var e=\"\",r=0;r<t.length;r++){var n=t[r].toString(16);1==n.length&&(n=\"0\"+n),e+=n}return e}function Rr(t){return Tr(Pr(t))}function Ir(t){return t=(t=(t=t.replace(/\\=/g,\"\")).replace(/\\+/g,\"-\")).replace(/\\//g,\"_\")}function Dr(t){return t.length%4==2?t+=\"==\":t.length%4==3&&(t+=\"=\"),t=(t=t.replace(/-/g,\"+\")).replace(/_/g,\"/\")}function Ur(t){return t.length%2==1&&(t=\"0\"+t),Ir(F(t))}function Lr(t){return b(Dr(t))}function Br(t){return zr($r(t))}function Nr(t){return decodeURIComponent(Yr(t))}function Or(t){for(var e=\"\",r=0;r<t.length-1;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e}function jr(t){for(var e=\"\",r=0;r<t.length;r++)e+=(\"0\"+t.charCodeAt(r).toString(16)).slice(-2);return e}function Hr(t){return F(t)}function Mr(t){var e=Hr(t).replace(/(.{64})/g,\"$1\\r\\n\");return e=e.replace(/\\r\\n$/,\"\")}function Kr(t){return b(t.replace(/[^0-9A-Za-z\\/+=]*/g,\"\"))}function Vr(t,e){return\"-----BEGIN \"+e+\"-----\\r\\n\"+Mr(t)+\"\\r\\n-----END \"+e+\"-----\\r\\n\"}function qr(t,e){if(-1==t.indexOf(\"-----BEGIN \"))throw\"can't find PEM header: \"+e;return Kr(t=void 0!==e?(t=t.replace(\"-----BEGIN \"+e+\"-----\",\"\")).replace(\"-----END \"+e+\"-----\",\"\"):(t=t.replace(/-----BEGIN [^-]+-----/,\"\")).replace(/-----END [^-]+-----/,\"\"))}function Jr(t){var e,r,n,i,o,s,a,u,c,h,l;if(l=t.match(/^(\\d{2}|\\d{4})(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)(|\\.\\d+)Z$/))return u=l[1],e=parseInt(u),2===u.length&&(50<=e&&e<100?e=1900+e:0<=e&&e<50&&(e=2e3+e)),r=parseInt(l[2])-1,n=parseInt(l[3]),i=parseInt(l[4]),o=parseInt(l[5]),s=parseInt(l[6]),a=0,\"\"!==(c=l[7])&&(h=(c.substr(1)+\"00\").substr(0,3),a=parseInt(h)),Date.UTC(e,r,n,i,o,s,a);throw\"unsupported zulu format: \"+t}function Wr(t){return~~(Jr(t)/1e3)}function zr(t){return t.replace(/%/g,\"\")}function Yr(t){return t.replace(/(..)/g,\"%$1\")}function Gr(t){var e=\"malformed IPv6 address\";if(!t.match(/^[0-9A-Fa-f:]+$/))throw e;var r=(t=t.toLowerCase()).split(\":\").length-1;if(r<2)throw e;var n=\":\".repeat(7-r+2),i=(t=t.replace(\"::\",n)).split(\":\");if(8!=i.length)throw e;for(var o=0;o<8;o++)i[o]=(\"0000\"+i[o]).slice(-4);return i.join(\"\")}function Xr(t){if(!t.match(/^[0-9A-Fa-f]{32}$/))throw\"malformed IPv6 address octet\";for(var e=(t=t.toLowerCase()).match(/.{1,4}/g),r=0;r<8;r++)e[r]=e[r].replace(/^0+/,\"\"),\"\"==e[r]&&(e[r]=\"0\");var n=(t=\":\"+e.join(\":\")+\":\").match(/:(0:){2,}/g);if(null===n)return t.slice(1,-1);var i=\"\";for(r=0;r<n.length;r++)n[r].length>i.length&&(i=n[r]);return(t=t.replace(i,\"::\")).slice(1,-1)}function Qr(t){var e=\"malformed hex value\";if(!t.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw e;if(8!=t.length)return 32==t.length?Xr(t):t;try{return parseInt(t.substr(0,2),16)+\".\"+parseInt(t.substr(2,2),16)+\".\"+parseInt(t.substr(4,2),16)+\".\"+parseInt(t.substr(6,2),16)}catch(t){throw e}}function $r(t){for(var e=encodeURIComponent(t),r=\"\",n=0;n<e.length;n++)\"%\"==e[n]?(r+=e.substr(n,3),n+=2):r=r+\"%\"+Rr(e[n]);return r}function Zr(t){return t.length%2==1?\"0\"+t:t.substr(0,1)>\"7\"?\"00\"+t:t}Ar.getLblen=function(t,e){if(\"8\"!=t.substr(e+2,1))return 1;var r=parseInt(t.substr(e+3,1));return 0==r?-1:0<r&&r<10?r+1:-2},Ar.getL=function(t,e){var r=Ar.getLblen(t,e);return r<1?\"\":t.substr(e+2,2*r)},Ar.getVblen=function(t,e){var r;return\"\"==(r=Ar.getL(t,e))?-1:(\"8\"===r.substr(0,1)?new E(r.substr(2),16):new E(r,16)).intValue()},Ar.getVidx=function(t,e){var r=Ar.getLblen(t,e);return r<0?r:e+2*(r+1)},Ar.getV=function(t,e){var r=Ar.getVidx(t,e),n=Ar.getVblen(t,e);return t.substr(r,2*n)},Ar.getTLV=function(t,e){return t.substr(e,2)+Ar.getL(t,e)+Ar.getV(t,e)},Ar.getNextSiblingIdx=function(t,e){return Ar.getVidx(t,e)+2*Ar.getVblen(t,e)},Ar.getChildIdx=function(t,e){var r=Ar,n=new Array,i=r.getVidx(t,e);\"03\"==t.substr(e,2)?n.push(i+2):n.push(i);for(var o=r.getVblen(t,e),s=i,a=0;;){var u=r.getNextSiblingIdx(t,s);if(null==u||u-i>=2*o)break;if(a>=200)break;n.push(u),s=u,a++}return n},Ar.getNthChildIdx=function(t,e,r){return Ar.getChildIdx(t,e)[r]},Ar.getIdxbyList=function(t,e,r,n){var i,o,s=Ar;if(0==r.length){if(void 0!==n&&t.substr(e,2)!==n)throw\"checking tag doesn't match: \"+t.substr(e,2)+\"!=\"+n;return e}return i=r.shift(),o=s.getChildIdx(t,e),s.getIdxbyList(t,o[i],r,n)},Ar.getTLVbyList=function(t,e,r,n){var i=Ar,o=i.getIdxbyList(t,e,r);if(void 0===o)throw\"can't find nthList object\";if(void 0!==n&&t.substr(o,2)!=n)throw\"checking tag doesn't match: \"+t.substr(o,2)+\"!=\"+n;return i.getTLV(t,o)},Ar.getVbyList=function(t,e,r,n,i){var o,s,a=Ar;if(void 0===(o=a.getIdxbyList(t,e,r,n)))throw\"can't find nthList object\";return s=a.getV(t,o),!0===i&&(s=s.substr(2)),s},Ar.hextooidstr=function(t){var e=function t(e,r){return e.length>=r?e:new Array(r-e.length+1).join(\"0\")+e},r=[],n=t.substr(0,2),i=parseInt(n,16);r[0]=new String(Math.floor(i/40)),r[1]=new String(i%40);for(var o=t.substr(2),s=[],a=0;a<o.length/2;a++)s.push(parseInt(o.substr(2*a,2),16));var u=[],c=\"\";for(a=0;a<s.length;a++)128&s[a]?c+=e((127&s[a]).toString(2),7):(c+=e((127&s[a]).toString(2),7),u.push(new String(parseInt(c,2))),c=\"\");var h=r.join(\".\");return u.length>0&&(h=h+\".\"+u.join(\".\")),h},Ar.dump=function(t,e,r,n){var i=Ar,o=i.getV,s=i.dump,a=i.getChildIdx,u=t;t instanceof Er.asn1.ASN1Object&&(u=t.getEncodedHex());var c=function t(e,r){return e.length<=2*r?e:e.substr(0,r)+\"..(total \"+e.length/2+\"bytes)..\"+e.substr(e.length-r,r)};void 0===e&&(e={ommit_long_octet:32}),void 0===r&&(r=0),void 0===n&&(n=\"\");var h=e.ommit_long_octet;if(\"01\"==u.substr(r,2))return\"00\"==(l=o(u,r))?n+\"BOOLEAN FALSE\\n\":n+\"BOOLEAN TRUE\\n\";if(\"02\"==u.substr(r,2))return n+\"INTEGER \"+c(l=o(u,r),h)+\"\\n\";if(\"03\"==u.substr(r,2))return n+\"BITSTRING \"+c(l=o(u,r),h)+\"\\n\";if(\"04\"==u.substr(r,2)){var l=o(u,r);if(i.isASN1HEX(l)){var f=n+\"OCTETSTRING, encapsulates\\n\";return f+=s(l,e,0,n+\"  \")}return n+\"OCTETSTRING \"+c(l,h)+\"\\n\"}if(\"05\"==u.substr(r,2))return n+\"NULL\\n\";if(\"06\"==u.substr(r,2)){var d=o(u,r),g=Er.asn1.ASN1Util.oidHexToInt(d),p=Er.asn1.x509.OID.oid2name(g),v=g.replace(/\\./g,\" \");return\"\"!=p?n+\"ObjectIdentifier \"+p+\" (\"+v+\")\\n\":n+\"ObjectIdentifier (\"+v+\")\\n\"}if(\"0c\"==u.substr(r,2))return n+\"UTF8String '\"+Nr(o(u,r))+\"'\\n\";if(\"13\"==u.substr(r,2))return n+\"PrintableString '\"+Nr(o(u,r))+\"'\\n\";if(\"14\"==u.substr(r,2))return n+\"TeletexString '\"+Nr(o(u,r))+\"'\\n\";if(\"16\"==u.substr(r,2))return n+\"IA5String '\"+Nr(o(u,r))+\"'\\n\";if(\"17\"==u.substr(r,2))return n+\"UTCTime \"+Nr(o(u,r))+\"\\n\";if(\"18\"==u.substr(r,2))return n+\"GeneralizedTime \"+Nr(o(u,r))+\"\\n\";if(\"30\"==u.substr(r,2)){if(\"3000\"==u.substr(r,4))return n+\"SEQUENCE {}\\n\";f=n+\"SEQUENCE\\n\";var y=e;if((2==(S=a(u,r)).length||3==S.length)&&\"06\"==u.substr(S[0],2)&&\"04\"==u.substr(S[S.length-1],2)){p=i.oidname(o(u,S[0]));var m=JSON.parse(JSON.stringify(e));m.x509ExtName=p,y=m}for(var _=0;_<S.length;_++)f+=s(u,y,S[_],n+\"  \");return f}if(\"31\"==u.substr(r,2)){f=n+\"SET\\n\";var S=a(u,r);for(_=0;_<S.length;_++)f+=s(u,e,S[_],n+\"  \");return f}var F=parseInt(u.substr(r,2),16);if(0!=(128&F)){var b=31&F;if(0!=(32&F)){var f=n+\"[\"+b+\"]\\n\";for(S=a(u,r),_=0;_<S.length;_++)f+=s(u,e,S[_],n+\"  \");return f}return\"68747470\"==(l=o(u,r)).substr(0,8)&&(l=Nr(l)),\"subjectAltName\"===e.x509ExtName&&2==b&&(l=Nr(l)),f=n+\"[\"+b+\"] \"+l+\"\\n\"}return n+\"UNKNOWN(\"+u.substr(r,2)+\") \"+o(u,r)+\"\\n\"},Ar.isASN1HEX=function(t){var e=Ar;if(t.length%2==1)return!1;var r=e.getVblen(t,0),n=t.substr(0,2),i=e.getL(t,0);return t.length-n.length-i.length==2*r},Ar.oidname=function(t){var e=Er.asn1;Er.lang.String.isHex(t)&&(t=e.ASN1Util.oidHexToInt(t));var r=e.x509.OID.oid2name(t);return\"\"===r&&(r=t),r},void 0!==Er&&Er||(e.KJUR=Er={}),void 0!==Er.lang&&Er.lang||(Er.lang={}),Er.lang.String=function(){},\"function\"==typeof t?(e.utf8tob64u=xr=function e(r){return Ir(new t(r,\"utf8\").toString(\"base64\"))},e.b64utoutf8=kr=function e(r){return new t(Dr(r),\"base64\").toString(\"utf8\")}):(e.utf8tob64u=xr=function t(e){return Ur(zr($r(e)))},e.b64utoutf8=kr=function t(e){return decodeURIComponent(Yr(Lr(e)))}),Er.lang.String.isInteger=function(t){return!!t.match(/^[0-9]+$/)||!!t.match(/^-[0-9]+$/)},Er.lang.String.isHex=function(t){return!(t.length%2!=0||!t.match(/^[0-9a-f]+$/)&&!t.match(/^[0-9A-F]+$/))},Er.lang.String.isBase64=function(t){return!(!(t=t.replace(/\\s+/g,\"\")).match(/^[0-9A-Za-z+\\/]+={0,3}$/)||t.length%4!=0)},Er.lang.String.isBase64URL=function(t){return!t.match(/[+/=]/)&&(t=Dr(t),Er.lang.String.isBase64(t))},Er.lang.String.isIntegerArray=function(t){return!!(t=t.replace(/\\s+/g,\"\")).match(/^\\[[0-9,]+\\]$/)};void 0!==Er&&Er||(e.KJUR=Er={}),void 0!==Er.crypto&&Er.crypto||(Er.crypto={}),Er.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:\"3021300906052b0e03021a05000414\",sha224:\"302d300d06096086480165030402040500041c\",sha256:\"3031300d060960864801650304020105000420\",sha384:\"3041300d060960864801650304020205000430\",sha512:\"3051300d060960864801650304020305000440\",md2:\"3020300c06082a864886f70d020205000410\",md5:\"3020300c06082a864886f70d020505000410\",ripemd160:\"3021300906052b2403020105000414\"},this.DEFAULTPROVIDER={md5:\"cryptojs\",sha1:\"cryptojs\",sha224:\"cryptojs\",sha256:\"cryptojs\",sha384:\"cryptojs\",sha512:\"cryptojs\",ripemd160:\"cryptojs\",hmacmd5:\"cryptojs\",hmacsha1:\"cryptojs\",hmacsha224:\"cryptojs\",hmacsha256:\"cryptojs\",hmacsha384:\"cryptojs\",hmacsha512:\"cryptojs\",hmacripemd160:\"cryptojs\",MD5withRSA:\"cryptojs/jsrsa\",SHA1withRSA:\"cryptojs/jsrsa\",SHA224withRSA:\"cryptojs/jsrsa\",SHA256withRSA:\"cryptojs/jsrsa\",SHA384withRSA:\"cryptojs/jsrsa\",SHA512withRSA:\"cryptojs/jsrsa\",RIPEMD160withRSA:\"cryptojs/jsrsa\",MD5withECDSA:\"cryptojs/jsrsa\",SHA1withECDSA:\"cryptojs/jsrsa\",SHA224withECDSA:\"cryptojs/jsrsa\",SHA256withECDSA:\"cryptojs/jsrsa\",SHA384withECDSA:\"cryptojs/jsrsa\",SHA512withECDSA:\"cryptojs/jsrsa\",RIPEMD160withECDSA:\"cryptojs/jsrsa\",SHA1withDSA:\"cryptojs/jsrsa\",SHA224withDSA:\"cryptojs/jsrsa\",SHA256withDSA:\"cryptojs/jsrsa\",MD5withRSAandMGF1:\"cryptojs/jsrsa\",SHA1withRSAandMGF1:\"cryptojs/jsrsa\",SHA224withRSAandMGF1:\"cryptojs/jsrsa\",SHA256withRSAandMGF1:\"cryptojs/jsrsa\",SHA384withRSAandMGF1:\"cryptojs/jsrsa\",SHA512withRSAandMGF1:\"cryptojs/jsrsa\",RIPEMD160withRSAandMGF1:\"cryptojs/jsrsa\"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:y.algo.MD5,sha1:y.algo.SHA1,sha224:y.algo.SHA224,sha256:y.algo.SHA256,sha384:y.algo.SHA384,sha512:y.algo.SHA512,ripemd160:y.algo.RIPEMD160},this.getDigestInfoHex=function(t,e){if(void 0===this.DIGESTINFOHEAD[e])throw\"alg not supported in Util.DIGESTINFOHEAD: \"+e;return this.DIGESTINFOHEAD[e]+t},this.getPaddedDigestInfoHex=function(t,e,r){var n=this.getDigestInfoHex(t,e),i=r/4;if(n.length+22>i)throw\"key is too short for SigAlg: keylen=\"+r+\",\"+e;for(var o=\"0001\",s=\"00\"+n,a=\"\",u=i-o.length-s.length,c=0;c<u;c+=2)a+=\"ff\";return o+a+s},this.hashString=function(t,e){return new Er.crypto.MessageDigest({alg:e}).digestString(t)},this.hashHex=function(t,e){return new Er.crypto.MessageDigest({alg:e}).digestHex(t)},this.sha1=function(t){return new Er.crypto.MessageDigest({alg:\"sha1\",prov:\"cryptojs\"}).digestString(t)},this.sha256=function(t){return new Er.crypto.MessageDigest({alg:\"sha256\",prov:\"cryptojs\"}).digestString(t)},this.sha256Hex=function(t){return new Er.crypto.MessageDigest({alg:\"sha256\",prov:\"cryptojs\"}).digestHex(t)},this.sha512=function(t){return new Er.crypto.MessageDigest({alg:\"sha512\",prov:\"cryptojs\"}).digestString(t)},this.sha512Hex=function(t){return new Er.crypto.MessageDigest({alg:\"sha512\",prov:\"cryptojs\"}).digestHex(t)}},Er.crypto.Util.md5=function(t){return new Er.crypto.MessageDigest({alg:\"md5\",prov:\"cryptojs\"}).digestString(t)},Er.crypto.Util.ripemd160=function(t){return new Er.crypto.MessageDigest({alg:\"ripemd160\",prov:\"cryptojs\"}).digestString(t)},Er.crypto.Util.SECURERANDOMGEN=new Me,Er.crypto.Util.getRandomHexOfNbytes=function(t){var e=new Array(t);return Er.crypto.Util.SECURERANDOMGEN.nextBytes(e),Tr(e)},Er.crypto.Util.getRandomBigIntegerOfNbytes=function(t){return new E(Er.crypto.Util.getRandomHexOfNbytes(t),16)},Er.crypto.Util.getRandomHexOfNbits=function(t){var e=t%8,r=new Array((t-e)/8+1);return Er.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<e&255^255)&r[0],Tr(r)},Er.crypto.Util.getRandomBigIntegerOfNbits=function(t){return new E(Er.crypto.Util.getRandomHexOfNbits(t),16)},Er.crypto.Util.getRandomBigIntegerZeroToMax=function(t){for(var e=t.bitLength();;){var r=Er.crypto.Util.getRandomBigIntegerOfNbits(e);if(-1!=t.compareTo(r))return r}},Er.crypto.Util.getRandomBigIntegerMinToMax=function(t,e){var r=t.compareTo(e);if(1==r)throw\"biMin is greater than biMax\";if(0==r)return t;var n=e.subtract(t);return Er.crypto.Util.getRandomBigIntegerZeroToMax(n).add(t)},Er.crypto.MessageDigest=function(t){this.setAlgAndProvider=function(t,e){if(null!==(t=Er.crypto.MessageDigest.getCanonicalAlgName(t))&&void 0===e&&(e=Er.crypto.Util.DEFAULTPROVIDER[t]),-1!=\":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(t)&&\"cryptojs\"==e){try{this.md=Er.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create()}catch(e){throw\"setAlgAndProvider hash alg set fail alg=\"+t+\"/\"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=y.enc.Hex.parse(t);this.md.update(e)},this.digest=function(){return this.md.finalize().toString(y.enc.Hex)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}if(-1!=\":sha256:\".indexOf(t)&&\"sjcl\"==e){try{this.md=new sjcl.hash.sha256}catch(e){throw\"setAlgAndProvider hash alg set fail alg=\"+t+\"/\"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=sjcl.codec.hex.toBits(t);this.md.update(e)},this.digest=function(){var t=this.md.finalize();return sjcl.codec.hex.fromBits(t)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}},this.updateString=function(t){throw\"updateString(str) not supported for this alg/prov: \"+this.algName+\"/\"+this.provName},this.updateHex=function(t){throw\"updateHex(hex) not supported for this alg/prov: \"+this.algName+\"/\"+this.provName},this.digest=function(){throw\"digest() not supported for this alg/prov: \"+this.algName+\"/\"+this.provName},this.digestString=function(t){throw\"digestString(str) not supported for this alg/prov: \"+this.algName+\"/\"+this.provName},this.digestHex=function(t){throw\"digestHex(hex) not supported for this alg/prov: \"+this.algName+\"/\"+this.provName},void 0!==t&&void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=Er.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},Er.crypto.MessageDigest.getCanonicalAlgName=function(t){return\"string\"==typeof t&&(t=(t=t.toLowerCase()).replace(/-/,\"\")),t},Er.crypto.MessageDigest.getHashLength=function(t){var e=Er.crypto.MessageDigest,r=e.getCanonicalAlgName(t);if(void 0===e.HASHLENGTH[r])throw\"not supported algorithm: \"+t;return e.HASHLENGTH[r]},Er.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},Er.crypto.Mac=function(t){this.setAlgAndProvider=function(t,e){if(null==(t=t.toLowerCase())&&(t=\"hmacsha1\"),\"hmac\"!=(t=t.toLowerCase()).substr(0,4))throw\"setAlgAndProvider unsupported HMAC alg: \"+t;void 0===e&&(e=Er.crypto.Util.DEFAULTPROVIDER[t]),this.algProv=t+\"/\"+e;var r=t.substr(4);if(-1!=\":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(r)&&\"cryptojs\"==e){try{var n=Er.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r];this.mac=y.algo.HMAC.create(n,this.pass)}catch(t){throw\"setAlgAndProvider hash alg set fail hashAlg=\"+r+\"/\"+t}this.updateString=function(t){this.mac.update(t)},this.updateHex=function(t){var e=y.enc.Hex.parse(t);this.mac.update(e)},this.doFinal=function(){return this.mac.finalize().toString(y.enc.Hex)},this.doFinalString=function(t){return this.updateString(t),this.doFinal()},this.doFinalHex=function(t){return this.updateHex(t),this.doFinal()}}},this.updateString=function(t){throw\"updateString(str) not supported for this alg/prov: \"+this.algProv},this.updateHex=function(t){throw\"updateHex(hex) not supported for this alg/prov: \"+this.algProv},this.doFinal=function(){throw\"digest() not supported for this alg/prov: \"+this.algProv},this.doFinalString=function(t){throw\"digestString(str) not supported for this alg/prov: \"+this.algProv},this.doFinalHex=function(t){throw\"digestHex(hex) not supported for this alg/prov: \"+this.algProv},this.setPassword=function(t){if(\"string\"==typeof t){var e=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(e=jr(t)),void(this.pass=y.enc.Hex.parse(e))}if(\"object\"!=(void 0===t?\"undefined\":r(t)))throw\"KJUR.crypto.Mac unsupported password type: \"+t;e=null;if(void 0!==t.hex){if(t.hex.length%2!=0||!t.hex.match(/^[0-9A-Fa-f]+$/))throw\"Mac: wrong hex password: \"+t.hex;e=t.hex}if(void 0!==t.utf8&&(e=Br(t.utf8)),void 0!==t.rstr&&(e=jr(t.rstr)),void 0!==t.b64&&(e=b(t.b64)),void 0!==t.b64u&&(e=Lr(t.b64u)),null==e)throw\"KJUR.crypto.Mac unsupported password type: \"+t;this.pass=y.enc.Hex.parse(e)},void 0!==t&&(void 0!==t.pass&&this.setPassword(t.pass),void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=Er.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},Er.crypto.Signature=function(t){var e=null;if(this._setAlgNames=function(){var t=this.algName.match(/^(.+)with(.+)$/);t&&(this.mdAlgName=t[1].toLowerCase(),this.pubkeyAlgName=t[2].toLowerCase())},this._zeroPaddingOfSignature=function(t,e){for(var r=\"\",n=e/4-t.length,i=0;i<n;i++)r+=\"0\";return r+t},this.setAlgAndProvider=function(t,e){if(this._setAlgNames(),\"cryptojs/jsrsa\"!=e)throw\"provider not supported: \"+e;if(-1!=\":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:\".indexOf(this.mdAlgName)){try{this.md=new Er.crypto.MessageDigest({alg:this.mdAlgName})}catch(t){throw\"setAlgAndProvider hash alg set fail alg=\"+this.mdAlgName+\"/\"+t}this.init=function(t,e){var r=null;try{r=void 0===e?tn.getKey(t):tn.getKey(t,e)}catch(t){throw\"init failed:\"+t}if(!0===r.isPrivate)this.prvKey=r,this.state=\"SIGN\";else{if(!0!==r.isPublic)throw\"init failed.:\"+r;this.pubKey=r,this.state=\"VERIFY\"}},this.updateString=function(t){this.md.updateString(t)},this.updateHex=function(t){this.md.updateHex(t)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0!==this.ecprvhex&&void 0!==this.eccurvename){var t=new Er.crypto.ECDSA({curve:this.eccurvename});this.hSign=t.signHex(this.sHashHex,this.ecprvhex)}else if(this.prvKey instanceof qe&&\"rsaandmgf1\"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof qe&&\"rsa\"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof Er.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof Er.crypto.DSA))throw\"Signature: unsupported private key alg: \"+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(t){return this.updateString(t),this.sign()},this.signHex=function(t){return this.updateHex(t),this.sign()},this.verify=function(t){if(this.sHashHex=this.md.digest(),void 0!==this.ecpubhex&&void 0!==this.eccurvename)return new Er.crypto.ECDSA({curve:this.eccurvename}).verifyHex(this.sHashHex,t,this.ecpubhex);if(this.pubKey instanceof qe&&\"rsaandmgf1\"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,t,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof qe&&\"rsa\"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==Er.crypto.ECDSA&&this.pubKey instanceof Er.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==Er.crypto.DSA&&this.pubKey instanceof Er.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);throw\"Signature: unsupported public key alg: \"+this.pubkeyAlgName}}},this.init=function(t,e){throw\"init(key, pass) not supported for this alg:prov=\"+this.algProvName},this.updateString=function(t){throw\"updateString(str) not supported for this alg:prov=\"+this.algProvName},this.updateHex=function(t){throw\"updateHex(hex) not supported for this alg:prov=\"+this.algProvName},this.sign=function(){throw\"sign() not supported for this alg:prov=\"+this.algProvName},this.signString=function(t){throw\"digestString(str) not supported for this alg:prov=\"+this.algProvName},this.signHex=function(t){throw\"digestHex(hex) not supported for this alg:prov=\"+this.algProvName},this.verify=function(t){throw\"verify(hSigVal) not supported for this alg:prov=\"+this.algProvName},this.initParams=t,void 0!==t&&(void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov?this.provName=Er.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=t.prov,this.algProvName=this.algName+\":\"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==t.psssaltlen&&(this.pssSaltLen=t.psssaltlen),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw\"both prvkeypem and prvkeypas parameters not supported\";try{e=tn.getKey(t.prvkeypem);this.init(e)}catch(t){throw\"fatal error to load pem private key: \"+t}}},Er.crypto.Cipher=function(t){},Er.crypto.Cipher.encrypt=function(t,e,r){if(e instanceof qe&&e.isPublic){var n=Er.crypto.Cipher.getAlgByKeyAndName(e,r);if(\"RSA\"===n)return e.encrypt(t);if(\"RSAOAEP\"===n)return e.encryptOAEP(t,\"sha1\");var i=n.match(/^RSAOAEP(\\d+)$/);if(null!==i)return e.encryptOAEP(t,\"sha\"+i[1]);throw\"Cipher.encrypt: unsupported algorithm for RSAKey: \"+r}throw\"Cipher.encrypt: unsupported key or algorithm\"},Er.crypto.Cipher.decrypt=function(t,e,r){if(e instanceof qe&&e.isPrivate){var n=Er.crypto.Cipher.getAlgByKeyAndName(e,r);if(\"RSA\"===n)return e.decrypt(t);if(\"RSAOAEP\"===n)return e.decryptOAEP(t,\"sha1\");var i=n.match(/^RSAOAEP(\\d+)$/);if(null!==i)return e.decryptOAEP(t,\"sha\"+i[1]);throw\"Cipher.decrypt: unsupported algorithm for RSAKey: \"+r}throw\"Cipher.decrypt: unsupported key or algorithm\"},Er.crypto.Cipher.getAlgByKeyAndName=function(t,e){if(t instanceof qe){if(-1!=\":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:\".indexOf(e))return e;if(null===e||void 0===e)return\"RSA\";throw\"getAlgByKeyAndName: not supported algorithm name for RSAKey: \"+e}throw\"getAlgByKeyAndName: not supported algorithm name: \"+e},Er.crypto.OID=new function(){this.oidhex2name={\"2a864886f70d010101\":\"rsaEncryption\",\"2a8648ce3d0201\":\"ecPublicKey\",\"2a8648ce380401\":\"dsa\",\"2a8648ce3d030107\":\"secp256r1\",\"2b8104001f\":\"secp192k1\",\"2b81040021\":\"secp224r1\",\"2b8104000a\":\"secp256k1\",\"2b81040023\":\"secp521r1\",\"2b81040022\":\"secp384r1\",\"2a8648ce380403\":\"SHA1withDSA\",\"608648016503040301\":\"SHA224withDSA\",\"608648016503040302\":\"SHA256withDSA\"}},void 0!==Er&&Er||(e.KJUR=Er={}),void 0!==Er.crypto&&Er.crypto||(Er.crypto={}),Er.crypto.ECDSA=function(t){var e=new Me;this.type=\"EC\",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(t){return new E(t.bitLength(),e).mod(t.subtract(E.ONE)).add(E.ONE)},this.setNamedCurve=function(t){this.ecparams=Er.crypto.ECParameterDB.getByName(t),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=t},this.setPrivateKeyHex=function(t){this.isPrivate=!0,this.prvKeyHex=t},this.setPublicKeyHex=function(t){this.isPublic=!0,this.pubKeyHex=t},this.getPublicKeyXYHex=function(){var t=this.pubKeyHex;if(\"04\"!==t.substr(0,2))throw\"this method supports uncompressed format(04) only\";var e=this.ecparams.keylen/4;if(t.length!==2+2*e)throw\"malformed public key hex length\";var r={};return r.x=t.substr(2,e),r.y=t.substr(2+e),r},this.getShortNISTPCurveName=function(){var t=this.curveName;return\"secp256r1\"===t||\"NIST P-256\"===t||\"P-256\"===t||\"prime256v1\"===t?\"P-256\":\"secp384r1\"===t||\"NIST P-384\"===t||\"P-384\"===t?\"P-384\":null},this.generateKeyPairHex=function(){var t=this.ecparams.n,e=this.getBigRandom(t),r=this.ecparams.G.multiply(e),n=r.getX().toBigInteger(),i=r.getY().toBigInteger(),o=this.ecparams.keylen/4,s=(\"0000000000\"+e.toString(16)).slice(-o),a=\"04\"+(\"0000000000\"+n.toString(16)).slice(-o)+(\"0000000000\"+i.toString(16)).slice(-o);return this.setPrivateKeyHex(s),this.setPublicKeyHex(a),{ecprvhex:s,ecpubhex:a}},this.signWithMessageHash=function(t){return this.signHex(t,this.prvKeyHex)},this.signHex=function(t,e){var r=new E(e,16),n=this.ecparams.n,i=new E(t,16);do{var o=this.getBigRandom(n),s=this.ecparams.G.multiply(o).getX().toBigInteger().mod(n)}while(s.compareTo(E.ZERO)<=0);var a=o.modInverse(n).multiply(i.add(r.multiply(s))).mod(n);return Er.crypto.ECDSA.biRSSigToASN1Sig(s,a)},this.sign=function(t,e){var r=e,n=this.ecparams.n,i=E.fromByteArrayUnsigned(t);do{var o=this.getBigRandom(n),s=this.ecparams.G.multiply(o).getX().toBigInteger().mod(n)}while(s.compareTo(E.ZERO)<=0);var a=o.modInverse(n).multiply(i.add(r.multiply(s))).mod(n);return this.serializeSig(s,a)},this.verifyWithMessageHash=function(t,e){return this.verifyHex(t,e,this.pubKeyHex)},this.verifyHex=function(t,e,r){var n,i,o,s=Er.crypto.ECDSA.parseSigHex(e);n=s.r,i=s.s,o=We.decodeFromHex(this.ecparams.curve,r);var a=new E(t,16);return this.verifyRaw(a,n,i,o)},this.verify=function(t,e,n){var i,o,s;if(Bitcoin.Util.isArray(e)){var a=this.parseSig(e);i=a.r,o=a.s}else{if(\"object\"!==(void 0===e?\"undefined\":r(e))||!e.r||!e.s)throw\"Invalid value for signature\";i=e.r,o=e.s}if(n instanceof We)s=n;else{if(!Bitcoin.Util.isArray(n))throw\"Invalid format for pubkey value, must be byte array or ECPointFp\";s=We.decodeFrom(this.ecparams.curve,n)}var u=E.fromByteArrayUnsigned(t);return this.verifyRaw(u,i,o,s)},this.verifyRaw=function(t,e,r,n){var i=this.ecparams.n,o=this.ecparams.G;if(e.compareTo(E.ONE)<0||e.compareTo(i)>=0)return!1;if(r.compareTo(E.ONE)<0||r.compareTo(i)>=0)return!1;var s=r.modInverse(i),a=t.multiply(s).mod(i),u=e.multiply(s).mod(i);return o.multiply(a).add(n.multiply(u)).getX().toBigInteger().mod(i).equals(e)},this.serializeSig=function(t,e){var r=t.toByteArraySigned(),n=e.toByteArraySigned(),i=[];return i.push(2),i.push(r.length),(i=i.concat(r)).push(2),i.push(n.length),(i=i.concat(n)).unshift(i.length),i.unshift(48),i},this.parseSig=function(t){var e;if(48!=t[0])throw new Error(\"Signature not a valid DERSequence\");if(2!=t[e=2])throw new Error(\"First element in signature must be a DERInteger\");var r=t.slice(e+2,e+2+t[e+1]);if(2!=t[e+=2+t[e+1]])throw new Error(\"Second element in signature must be a DERInteger\");var n=t.slice(e+2,e+2+t[e+1]);return e+=2+t[e+1],{r:E.fromByteArrayUnsigned(r),s:E.fromByteArrayUnsigned(n)}},this.parseSigCompact=function(t){if(65!==t.length)throw\"Signature has the wrong length\";var e=t[0]-27;if(e<0||e>7)throw\"Invalid signature type\";var r=this.ecparams.n;return{r:E.fromByteArrayUnsigned(t.slice(1,33)).mod(r),s:E.fromByteArrayUnsigned(t.slice(33,65)).mod(r),i:e}},this.readPKCS5PrvKeyHex=function(t){var e,r,n,i=Ar,o=Er.crypto.ECDSA.getName,s=i.getVbyList;if(!1===i.isASN1HEX(t))throw\"not ASN.1 hex string\";try{e=s(t,0,[2,0],\"06\"),r=s(t,0,[1],\"04\");try{n=s(t,0,[3,0],\"03\").substr(2)}catch(t){}}catch(t){throw\"malformed PKCS#1/5 plain ECC private key\"}if(this.curveName=o(e),void 0===this.curveName)throw\"unsupported curve name\";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(t){var e,r,n,i=Ar,o=Er.crypto.ECDSA.getName,s=i.getVbyList;if(!1===i.isASN1HEX(t))throw\"not ASN.1 hex string\";try{s(t,0,[1,0],\"06\"),e=s(t,0,[1,1],\"06\"),r=s(t,0,[2,0,1],\"04\");try{n=s(t,0,[2,0,2,0],\"03\").substr(2)}catch(t){}}catch(t){throw\"malformed PKCS#8 plain ECC private key\"}if(this.curveName=o(e),void 0===this.curveName)throw\"unsupported curve name\";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(t){var e,r,n=Ar,i=Er.crypto.ECDSA.getName,o=n.getVbyList;if(!1===n.isASN1HEX(t))throw\"not ASN.1 hex string\";try{o(t,0,[0,0],\"06\"),e=o(t,0,[0,1],\"06\"),r=o(t,0,[1],\"03\").substr(2)}catch(t){throw\"malformed PKCS#8 ECC public key\"}if(this.curveName=i(e),null===this.curveName)throw\"unsupported curve name\";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(t,e){5!==e&&(e=6);var r,n,i=Ar,o=Er.crypto.ECDSA.getName,s=i.getVbyList;if(!1===i.isASN1HEX(t))throw\"not ASN.1 hex string\";try{r=s(t,0,[0,e,0,1],\"06\"),n=s(t,0,[0,e,1],\"03\").substr(2)}catch(t){throw\"malformed X.509 certificate ECC public key\"}if(this.curveName=o(r),null===this.curveName)throw\"unsupported curve name\";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},void 0!==t&&void 0!==t.curve&&(this.curveName=t.curve),void 0===this.curveName&&(this.curveName=\"secp256r1\"),this.setNamedCurve(this.curveName),void 0!==t&&(void 0!==t.prv&&this.setPrivateKeyHex(t.prv),void 0!==t.pub&&this.setPublicKeyHex(t.pub))},Er.crypto.ECDSA.parseSigHex=function(t){var e=Er.crypto.ECDSA.parseSigHexInHexRS(t);return{r:new E(e.r,16),s:new E(e.s,16)}},Er.crypto.ECDSA.parseSigHexInHexRS=function(t){var e=Ar,r=e.getChildIdx,n=e.getV;if(\"30\"!=t.substr(0,2))throw\"signature is not a ASN.1 sequence\";var i=r(t,0);if(2!=i.length)throw\"number of signature ASN.1 sequence elements seem wrong\";var o=i[0],s=i[1];if(\"02\"!=t.substr(o,2))throw\"1st item of sequene of signature is not ASN.1 integer\";if(\"02\"!=t.substr(s,2))throw\"2nd item of sequene of signature is not ASN.1 integer\";return{r:n(t,o),s:n(t,s)}},Er.crypto.ECDSA.asn1SigToConcatSig=function(t){var e=Er.crypto.ECDSA.parseSigHexInHexRS(t),r=e.r,n=e.s;if(\"00\"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),\"00\"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),r.length%32==30&&(r=\"00\"+r),n.length%32==30&&(n=\"00\"+n),r.length%32!=0)throw\"unknown ECDSA sig r length error\";if(n.length%32!=0)throw\"unknown ECDSA sig s length error\";return r+n},Er.crypto.ECDSA.concatSigToASN1Sig=function(t){if(t.length/2*8%128!=0)throw\"unknown ECDSA concatinated r-s sig  length error\";var e=t.substr(0,t.length/2),r=t.substr(t.length/2);return Er.crypto.ECDSA.hexRSSigToASN1Sig(e,r)},Er.crypto.ECDSA.hexRSSigToASN1Sig=function(t,e){var r=new E(t,16),n=new E(e,16);return Er.crypto.ECDSA.biRSSigToASN1Sig(r,n)},Er.crypto.ECDSA.biRSSigToASN1Sig=function(t,e){var r=Er.asn1,n=new r.DERInteger({bigint:t}),i=new r.DERInteger({bigint:e});return new r.DERSequence({array:[n,i]}).getEncodedHex()},Er.crypto.ECDSA.getName=function(t){return\"2a8648ce3d030107\"===t?\"secp256r1\":\"2b8104000a\"===t?\"secp256k1\":\"2b81040022\"===t?\"secp384r1\":-1!==\"|secp256r1|NIST P-256|P-256|prime256v1|\".indexOf(t)?\"secp256r1\":-1!==\"|secp256k1|\".indexOf(t)?\"secp256k1\":-1!==\"|secp384r1|NIST P-384|P-384|\".indexOf(t)?\"secp384r1\":null},void 0!==Er&&Er||(e.KJUR=Er={}),void 0!==Er.crypto&&Er.crypto||(Er.crypto={}),Er.crypto.ECParameterDB=new function(){var t={},e={};function r(t){return new E(t,16)}this.getByName=function(r){var n=r;if(void 0!==e[n]&&(n=e[r]),void 0!==t[n])return t[n];throw\"unregistered EC curve name: \"+n},this.regist=function(n,i,o,s,a,u,c,h,l,f,d,g){t[n]={};var p=r(o),v=r(s),y=r(a),m=r(u),_=r(c),S=new ze(p,v,y),F=S.decodePointHex(\"04\"+h+l);t[n].name=n,t[n].keylen=i,t[n].curve=S,t[n].G=F,t[n].n=m,t[n].h=_,t[n].oid=d,t[n].info=g;for(var b=0;b<f.length;b++)e[f[b]]=n}},Er.crypto.ECParameterDB.regist(\"secp128r1\",128,\"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF\",\"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC\",\"E87579C11079F43DD824993C2CEE5ED3\",\"FFFFFFFE0000000075A30D1B9038A115\",\"1\",\"161FF7528B899B2D0C28607CA52C5B86\",\"CF5AC8395BAFEB13C02DA292DDED7A83\",[],\"\",\"secp128r1 : SECG curve over a 128 bit prime field\"),Er.crypto.ECParameterDB.regist(\"secp160k1\",160,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73\",\"0\",\"7\",\"0100000000000000000001B8FA16DFAB9ACA16B6B3\",\"1\",\"3B4C382CE37AA192A4019E763036F4F5DD4D7EBB\",\"938CF935318FDCED6BC28286531733C3F03C4FEE\",[],\"\",\"secp160k1 : SECG curve over a 160 bit prime field\"),Er.crypto.ECParameterDB.regist(\"secp160r1\",160,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC\",\"1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45\",\"0100000000000000000001F4C8F927AED3CA752257\",\"1\",\"4A96B5688EF573284664698968C38BB913CBFC82\",\"23A628553168947D59DCC912042351377AC5FB32\",[],\"\",\"secp160r1 : SECG curve over a 160 bit prime field\"),Er.crypto.ECParameterDB.regist(\"secp192k1\",192,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37\",\"0\",\"3\",\"FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D\",\"1\",\"DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D\",\"9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D\",[]),Er.crypto.ECParameterDB.regist(\"secp192r1\",192,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC\",\"64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1\",\"FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831\",\"1\",\"188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012\",\"07192B95FFC8DA78631011ED6B24CDD573F977A11E794811\",[]),Er.crypto.ECParameterDB.regist(\"secp224r1\",224,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE\",\"B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D\",\"1\",\"B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21\",\"BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34\",[]),Er.crypto.ECParameterDB.regist(\"secp256k1\",256,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F\",\"0\",\"7\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141\",\"1\",\"79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798\",\"483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8\",[]),Er.crypto.ECParameterDB.regist(\"secp256r1\",256,\"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF\",\"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC\",\"5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B\",\"FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551\",\"1\",\"6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296\",\"4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5\",[\"NIST P-256\",\"P-256\",\"prime256v1\"]),Er.crypto.ECParameterDB.regist(\"secp384r1\",384,\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC\",\"B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF\",\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973\",\"1\",\"AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7\",\"3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f\",[\"NIST P-384\",\"P-384\"]),Er.crypto.ECParameterDB.regist(\"secp521r1\",521,\"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\",\"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC\",\"051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00\",\"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409\",\"1\",\"C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66\",\"011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650\",[\"NIST P-521\",\"P-521\"]);var tn=function(){var t=function t(r,n,i){return e(y.AES,r,n,i)},e=function t(e,r,n,i){var o=y.enc.Hex.parse(r),s=y.enc.Hex.parse(n),a=y.enc.Hex.parse(i),u={};u.key=s,u.iv=a,u.ciphertext=o;var c=e.decrypt(u,s,{iv:a});return y.enc.Hex.stringify(c)},r=function t(e,r,i){return n(y.AES,e,r,i)},n=function t(e,r,n,i){var o=y.enc.Hex.parse(r),s=y.enc.Hex.parse(n),a=y.enc.Hex.parse(i),u=e.encrypt(o,s,{iv:a}),c=y.enc.Hex.parse(u.toString());return y.enc.Base64.stringify(c)},i={\"AES-256-CBC\":{proc:t,eproc:r,keylen:32,ivlen:16},\"AES-192-CBC\":{proc:t,eproc:r,keylen:24,ivlen:16},\"AES-128-CBC\":{proc:t,eproc:r,keylen:16,ivlen:16},\"DES-EDE3-CBC\":{proc:function t(r,n,i){return e(y.TripleDES,r,n,i)},eproc:function t(e,r,i){return n(y.TripleDES,e,r,i)},keylen:24,ivlen:8},\"DES-CBC\":{proc:function t(r,n,i){return e(y.DES,r,n,i)},eproc:function t(e,r,i){return n(y.DES,e,r,i)},keylen:8,ivlen:8}},o=function t(e){var r={},n=e.match(new RegExp(\"DEK-Info: ([^,]+),([0-9A-Fa-f]+)\",\"m\"));n&&(r.cipher=n[1],r.ivsalt=n[2]);var i=e.match(new RegExp(\"-----BEGIN ([A-Z]+) PRIVATE KEY-----\"));i&&(r.type=i[1]);var o=-1,s=0;-1!=e.indexOf(\"\\r\\n\\r\\n\")&&(o=e.indexOf(\"\\r\\n\\r\\n\"),s=2),-1!=e.indexOf(\"\\n\\n\")&&(o=e.indexOf(\"\\n\\n\"),s=1);var a=e.indexOf(\"-----END\");if(-1!=o&&-1!=a){var u=e.substring(o+2*s,a-s);u=u.replace(/\\s+/g,\"\"),r.data=u}return r},s=function t(e,r,n){for(var o=n.substring(0,16),s=y.enc.Hex.parse(o),a=y.enc.Utf8.parse(r),u=i[e].keylen+i[e].ivlen,c=\"\",h=null;;){var l=y.algo.MD5.create();if(null!=h&&l.update(h),l.update(a),l.update(s),h=l.finalize(),(c+=y.enc.Hex.stringify(h)).length>=2*u)break}var f={};return f.keyhex=c.substr(0,2*i[e].keylen),f.ivhex=c.substr(2*i[e].keylen,2*i[e].ivlen),f},a=function t(e,r,n,o){var s=y.enc.Base64.parse(e),a=y.enc.Hex.stringify(s);return(0,i[r].proc)(a,n,o)};return{version:\"1.0.0\",parsePKCS5PEM:function t(e){return o(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function t(e,r,n){return s(e,r,n)},decryptKeyB64:function t(e,r,n,i){return a(e,r,n,i)},getDecryptedKeyHex:function t(e,r){var n=o(e),i=(n.type,n.cipher),u=n.ivsalt,c=n.data,h=s(i,r,u).keyhex;return a(c,i,h,u)},getEncryptedPKCS5PEMFromPrvKeyHex:function t(e,r,n,o,a){var u=\"\";if(void 0!==o&&null!=o||(o=\"AES-256-CBC\"),void 0===i[o])throw\"KEYUTIL unsupported algorithm: \"+o;void 0!==a&&null!=a||(a=function t(e){var r=y.lib.WordArray.random(e);return y.enc.Hex.stringify(r)}(i[o].ivlen).toUpperCase());var c=function t(e,r,n,o){return(0,i[r].eproc)(e,n,o)}(r,o,s(o,n,a).keyhex,a);u=\"-----BEGIN \"+e+\" PRIVATE KEY-----\\r\\n\";return u+=\"Proc-Type: 4,ENCRYPTED\\r\\n\",u+=\"DEK-Info: \"+o+\",\"+a+\"\\r\\n\",u+=\"\\r\\n\",u+=c.replace(/(.{64})/g,\"$1\\r\\n\"),u+=\"\\r\\n-----END \"+e+\" PRIVATE KEY-----\\r\\n\"},parseHexOfEncryptedPKCS8:function t(e){var r=Ar,n=r.getChildIdx,i=r.getV,o={},s=n(e,0);if(2!=s.length)throw\"malformed format: SEQUENCE(0).items != 2: \"+s.length;o.ciphertext=i(e,s[1]);var a=n(e,s[0]);if(2!=a.length)throw\"malformed format: SEQUENCE(0.0).items != 2: \"+a.length;if(\"2a864886f70d01050d\"!=i(e,a[0]))throw\"this only supports pkcs5PBES2\";var u=n(e,a[1]);if(2!=a.length)throw\"malformed format: SEQUENCE(0.0.1).items != 2: \"+u.length;var c=n(e,u[1]);if(2!=c.length)throw\"malformed format: SEQUENCE(0.0.1.1).items != 2: \"+c.length;if(\"2a864886f70d0307\"!=i(e,c[0]))throw\"this only supports TripleDES\";o.encryptionSchemeAlg=\"TripleDES\",o.encryptionSchemeIV=i(e,c[1]);var h=n(e,u[0]);if(2!=h.length)throw\"malformed format: SEQUENCE(0.0.1.0).items != 2: \"+h.length;if(\"2a864886f70d01050c\"!=i(e,h[0]))throw\"this only supports pkcs5PBKDF2\";var l=n(e,h[1]);if(l.length<2)throw\"malformed format: SEQUENCE(0.0.1.0.1).items < 2: \"+l.length;o.pbkdf2Salt=i(e,l[0]);var f=i(e,l[1]);try{o.pbkdf2Iter=parseInt(f,16)}catch(t){throw\"malformed format pbkdf2Iter: \"+f}return o},getPBKDF2KeyHexFromParam:function t(e,r){var n=y.enc.Hex.parse(e.pbkdf2Salt),i=e.pbkdf2Iter,o=y.PBKDF2(r,n,{keySize:6,iterations:i});return y.enc.Hex.stringify(o)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function t(e,r){var n=qr(e,\"ENCRYPTED PRIVATE KEY\"),i=this.parseHexOfEncryptedPKCS8(n),o=tn.getPBKDF2KeyHexFromParam(i,r),s={};s.ciphertext=y.enc.Hex.parse(i.ciphertext);var a=y.enc.Hex.parse(o),u=y.enc.Hex.parse(i.encryptionSchemeIV),c=y.TripleDES.decrypt(s,a,{iv:u});return y.enc.Hex.stringify(c)},getKeyFromEncryptedPKCS8PEM:function t(e,r){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,r);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function t(e){var r=Ar,n=r.getChildIdx,i=r.getV,o={algparam:null};if(\"30\"!=e.substr(0,2))throw\"malformed plain PKCS8 private key(code:001)\";var s=n(e,0);if(3!=s.length)throw\"malformed plain PKCS8 private key(code:002)\";if(\"30\"!=e.substr(s[1],2))throw\"malformed PKCS8 private key(code:003)\";var a=n(e,s[1]);if(2!=a.length)throw\"malformed PKCS8 private key(code:004)\";if(\"06\"!=e.substr(a[0],2))throw\"malformed PKCS8 private key(code:005)\";if(o.algoid=i(e,a[0]),\"06\"==e.substr(a[1],2)&&(o.algparam=i(e,a[1])),\"04\"!=e.substr(s[2],2))throw\"malformed PKCS8 private key(code:006)\";return o.keyidx=r.getVidx(e,s[2]),o},getKeyFromPlainPrivatePKCS8PEM:function t(e){var r=qr(e,\"PRIVATE KEY\");return this.getKeyFromPlainPrivatePKCS8Hex(r)},getKeyFromPlainPrivatePKCS8Hex:function t(e){var r,n=this.parsePlainPrivatePKCS8Hex(e);if(\"2a864886f70d010101\"==n.algoid)r=new qe;else if(\"2a8648ce380401\"==n.algoid)r=new Er.crypto.DSA;else{if(\"2a8648ce3d0201\"!=n.algoid)throw\"unsupported private key algorithm\";r=new Er.crypto.ECDSA}return r.readPKCS8PrvKeyHex(e),r},_getKeyFromPublicPKCS8Hex:function t(e){var r,n=Ar.getVbyList(e,0,[0,0],\"06\");if(\"2a864886f70d010101\"===n)r=new qe;else if(\"2a8648ce380401\"===n)r=new Er.crypto.DSA;else{if(\"2a8648ce3d0201\"!==n)throw\"unsupported PKCS#8 public key hex\";r=new Er.crypto.ECDSA}return r.readPKCS8PubKeyHex(e),r},parsePublicRawRSAKeyHex:function t(e){var r=Ar,n=r.getChildIdx,i=r.getV,o={};if(\"30\"!=e.substr(0,2))throw\"malformed RSA key(code:001)\";var s=n(e,0);if(2!=s.length)throw\"malformed RSA key(code:002)\";if(\"02\"!=e.substr(s[0],2))throw\"malformed RSA key(code:003)\";if(o.n=i(e,s[0]),\"02\"!=e.substr(s[1],2))throw\"malformed RSA key(code:004)\";return o.e=i(e,s[1]),o},parsePublicPKCS8Hex:function t(e){var r=Ar,n=r.getChildIdx,i=r.getV,o={algparam:null},s=n(e,0);if(2!=s.length)throw\"outer DERSequence shall have 2 elements: \"+s.length;var a=s[0];if(\"30\"!=e.substr(a,2))throw\"malformed PKCS8 public key(code:001)\";var u=n(e,a);if(2!=u.length)throw\"malformed PKCS8 public key(code:002)\";if(\"06\"!=e.substr(u[0],2))throw\"malformed PKCS8 public key(code:003)\";if(o.algoid=i(e,u[0]),\"06\"==e.substr(u[1],2)?o.algparam=i(e,u[1]):\"30\"==e.substr(u[1],2)&&(o.algparam={},o.algparam.p=r.getVbyList(e,u[1],[0],\"02\"),o.algparam.q=r.getVbyList(e,u[1],[1],\"02\"),o.algparam.g=r.getVbyList(e,u[1],[2],\"02\")),\"03\"!=e.substr(s[1],2))throw\"malformed PKCS8 public key(code:004)\";return o.key=i(e,s[1]).substr(2),o}}}();tn.getKey=function(t,e,r){var n=(v=Ar).getChildIdx,i=(v.getV,v.getVbyList),o=Er.crypto,s=o.ECDSA,a=o.DSA,u=qe,c=qr,h=tn;if(void 0!==u&&t instanceof u)return t;if(void 0!==s&&t instanceof s)return t;if(void 0!==a&&t instanceof a)return t;if(void 0!==t.curve&&void 0!==t.xy&&void 0===t.d)return new s({pub:t.xy,curve:t.curve});if(void 0!==t.curve&&void 0!==t.d)return new s({prv:t.d,curve:t.curve});if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(P=new u).setPublic(t.n,t.e),P;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.co&&void 0===t.qi)return(P=new u).setPrivateEx(t.n,t.e,t.d,t.p,t.q,t.dp,t.dq,t.co),P;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0===t.p)return(P=new u).setPrivate(t.n,t.e,t.d),P;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0===t.x)return(P=new a).setPublic(t.p,t.q,t.g,t.y),P;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0!==t.x)return(P=new a).setPrivate(t.p,t.q,t.g,t.y,t.x),P;if(\"RSA\"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(P=new u).setPublic(Lr(t.n),Lr(t.e)),P;if(\"RSA\"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.qi)return(P=new u).setPrivateEx(Lr(t.n),Lr(t.e),Lr(t.d),Lr(t.p),Lr(t.q),Lr(t.dp),Lr(t.dq),Lr(t.qi)),P;if(\"RSA\"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d)return(P=new u).setPrivate(Lr(t.n),Lr(t.e),Lr(t.d)),P;if(\"EC\"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0===t.d){var l=(A=new s({curve:t.crv})).ecparams.keylen/4,f=\"04\"+(\"0000000000\"+Lr(t.x)).slice(-l)+(\"0000000000\"+Lr(t.y)).slice(-l);return A.setPublicKeyHex(f),A}if(\"EC\"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0!==t.d){l=(A=new s({curve:t.crv})).ecparams.keylen/4,f=\"04\"+(\"0000000000\"+Lr(t.x)).slice(-l)+(\"0000000000\"+Lr(t.y)).slice(-l);var d=(\"0000000000\"+Lr(t.d)).slice(-l);return A.setPublicKeyHex(f),A.setPrivateKeyHex(d),A}if(\"pkcs5prv\"===r){var g,p=t,v=Ar;if(9===(g=n(p,0)).length)(P=new u).readPKCS5PrvKeyHex(p);else if(6===g.length)(P=new a).readPKCS5PrvKeyHex(p);else{if(!(g.length>2&&\"04\"===p.substr(g[1],2)))throw\"unsupported PKCS#1/5 hexadecimal key\";(P=new s).readPKCS5PrvKeyHex(p)}return P}if(\"pkcs8prv\"===r)return P=h.getKeyFromPlainPrivatePKCS8Hex(t);if(\"pkcs8pub\"===r)return h._getKeyFromPublicPKCS8Hex(t);if(\"x509pub\"===r)return sn.getPublicKeyFromCertHex(t);if(-1!=t.indexOf(\"-END CERTIFICATE-\",0)||-1!=t.indexOf(\"-END X509 CERTIFICATE-\",0)||-1!=t.indexOf(\"-END TRUSTED CERTIFICATE-\",0))return sn.getPublicKeyFromCertPEM(t);if(-1!=t.indexOf(\"-END PUBLIC KEY-\")){var y=qr(t,\"PUBLIC KEY\");return h._getKeyFromPublicPKCS8Hex(y)}if(-1!=t.indexOf(\"-END RSA PRIVATE KEY-\")&&-1==t.indexOf(\"4,ENCRYPTED\")){var m=c(t,\"RSA PRIVATE KEY\");return h.getKey(m,null,\"pkcs5prv\")}if(-1!=t.indexOf(\"-END DSA PRIVATE KEY-\")&&-1==t.indexOf(\"4,ENCRYPTED\")){var _=i(R=c(t,\"DSA PRIVATE KEY\"),0,[1],\"02\"),S=i(R,0,[2],\"02\"),F=i(R,0,[3],\"02\"),b=i(R,0,[4],\"02\"),w=i(R,0,[5],\"02\");return(P=new a).setPrivate(new E(_,16),new E(S,16),new E(F,16),new E(b,16),new E(w,16)),P}if(-1!=t.indexOf(\"-END PRIVATE KEY-\"))return h.getKeyFromPlainPrivatePKCS8PEM(t);if(-1!=t.indexOf(\"-END RSA PRIVATE KEY-\")&&-1!=t.indexOf(\"4,ENCRYPTED\")){var x=h.getDecryptedKeyHex(t,e),k=new qe;return k.readPKCS5PrvKeyHex(x),k}if(-1!=t.indexOf(\"-END EC PRIVATE KEY-\")&&-1!=t.indexOf(\"4,ENCRYPTED\")){var A,P=i(R=h.getDecryptedKeyHex(t,e),0,[1],\"04\"),C=i(R,0,[2,0],\"06\"),T=i(R,0,[3,0],\"03\").substr(2);if(void 0===Er.crypto.OID.oidhex2name[C])throw\"undefined OID(hex) in KJUR.crypto.OID: \"+C;return(A=new s({curve:Er.crypto.OID.oidhex2name[C]})).setPublicKeyHex(T),A.setPrivateKeyHex(P),A.isPublic=!1,A}if(-1!=t.indexOf(\"-END DSA PRIVATE KEY-\")&&-1!=t.indexOf(\"4,ENCRYPTED\")){var R;_=i(R=h.getDecryptedKeyHex(t,e),0,[1],\"02\"),S=i(R,0,[2],\"02\"),F=i(R,0,[3],\"02\"),b=i(R,0,[4],\"02\"),w=i(R,0,[5],\"02\");return(P=new a).setPrivate(new E(_,16),new E(S,16),new E(F,16),new E(b,16),new E(w,16)),P}if(-1!=t.indexOf(\"-END ENCRYPTED PRIVATE KEY-\"))return h.getKeyFromEncryptedPKCS8PEM(t,e);throw\"not supported argument\"},tn.generateKeypair=function(t,e){if(\"RSA\"==t){var r=e;(s=new qe).generate(r,\"10001\"),s.isPrivate=!0,s.isPublic=!0;var n=new qe,i=s.n.toString(16),o=s.e.toString(16);return n.setPublic(i,o),n.isPrivate=!1,n.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=n,a}if(\"EC\"==t){var s,a,u=e,c=new Er.crypto.ECDSA({curve:u}).generateKeyPairHex();return(s=new Er.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),s.setPrivateKeyHex(c.ecprvhex),s.isPrivate=!0,s.isPublic=!1,(n=new Er.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),n.isPrivate=!1,n.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=n,a}throw\"unknown algorithm: \"+t},tn.getPEM=function(t,e,r,n,i,o){var s=Er,a=s.asn1,u=a.DERObjectIdentifier,c=a.DERInteger,h=a.ASN1Util.newObject,l=a.x509.SubjectPublicKeyInfo,f=s.crypto,d=f.DSA,g=f.ECDSA,p=qe;function v(t){return h({seq:[{int:0},{int:{bigint:t.n}},{int:t.e},{int:{bigint:t.d}},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.dmp1}},{int:{bigint:t.dmq1}},{int:{bigint:t.coeff}}]})}function m(t){return h({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:[\"a0\",!0,{oid:{name:t.curveName}}]},{tag:[\"a1\",!0,{bitstr:{hex:\"00\"+t.pubKeyHex}}]}]})}function _(t){return h({seq:[{int:0},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}},{int:{bigint:t.y}},{int:{bigint:t.x}}]})}if((void 0!==p&&t instanceof p||void 0!==d&&t instanceof d||void 0!==g&&t instanceof g)&&1==t.isPublic&&(void 0===e||\"PKCS8PUB\"==e))return Vr(w=new l(t).getEncodedHex(),\"PUBLIC KEY\");if(\"PKCS1PRV\"==e&&void 0!==p&&t instanceof p&&(void 0===r||null==r)&&1==t.isPrivate)return Vr(w=v(t).getEncodedHex(),\"RSA PRIVATE KEY\");if(\"PKCS1PRV\"==e&&void 0!==g&&t instanceof g&&(void 0===r||null==r)&&1==t.isPrivate){var S=new u({name:t.curveName}).getEncodedHex(),F=m(t).getEncodedHex(),b=\"\";return b+=Vr(S,\"EC PARAMETERS\"),b+=Vr(F,\"EC PRIVATE KEY\")}if(\"PKCS1PRV\"==e&&void 0!==d&&t instanceof d&&(void 0===r||null==r)&&1==t.isPrivate)return Vr(w=_(t).getEncodedHex(),\"DSA PRIVATE KEY\");if(\"PKCS5PRV\"==e&&void 0!==p&&t instanceof p&&void 0!==r&&null!=r&&1==t.isPrivate){var w=v(t).getEncodedHex();return void 0===n&&(n=\"DES-EDE3-CBC\"),this.getEncryptedPKCS5PEMFromPrvKeyHex(\"RSA\",w,r,n,o)}if(\"PKCS5PRV\"==e&&void 0!==g&&t instanceof g&&void 0!==r&&null!=r&&1==t.isPrivate){w=m(t).getEncodedHex();return void 0===n&&(n=\"DES-EDE3-CBC\"),this.getEncryptedPKCS5PEMFromPrvKeyHex(\"EC\",w,r,n,o)}if(\"PKCS5PRV\"==e&&void 0!==d&&t instanceof d&&void 0!==r&&null!=r&&1==t.isPrivate){w=_(t).getEncodedHex();return void 0===n&&(n=\"DES-EDE3-CBC\"),this.getEncryptedPKCS5PEMFromPrvKeyHex(\"DSA\",w,r,n,o)}var E=function t(e,r){var n=x(e,r);return new h({seq:[{seq:[{oid:{name:\"pkcs5PBES2\"}},{seq:[{seq:[{oid:{name:\"pkcs5PBKDF2\"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:\"des-EDE3-CBC\"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).getEncodedHex()},x=function t(e,r){var n=y.lib.WordArray.random(8),i=y.lib.WordArray.random(8),o=y.PBKDF2(r,n,{keySize:6,iterations:100}),s=y.enc.Hex.parse(e),a=y.TripleDES.encrypt(s,o,{iv:i})+\"\",u={};return u.ciphertext=a,u.pbkdf2Salt=y.enc.Hex.stringify(n),u.pbkdf2Iter=100,u.encryptionSchemeAlg=\"DES-EDE3-CBC\",u.encryptionSchemeIV=y.enc.Hex.stringify(i),u};if(\"PKCS8PRV\"==e&&void 0!=p&&t instanceof p&&1==t.isPrivate){var k=v(t).getEncodedHex();w=h({seq:[{int:0},{seq:[{oid:{name:\"rsaEncryption\"}},{null:!0}]},{octstr:{hex:k}}]}).getEncodedHex();return void 0===r||null==r?Vr(w,\"PRIVATE KEY\"):Vr(F=E(w,r),\"ENCRYPTED PRIVATE KEY\")}if(\"PKCS8PRV\"==e&&void 0!==g&&t instanceof g&&1==t.isPrivate){k=new h({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:[\"a1\",!0,{bitstr:{hex:\"00\"+t.pubKeyHex}}]}]}).getEncodedHex(),w=h({seq:[{int:0},{seq:[{oid:{name:\"ecPublicKey\"}},{oid:{name:t.curveName}}]},{octstr:{hex:k}}]}).getEncodedHex();return void 0===r||null==r?Vr(w,\"PRIVATE KEY\"):Vr(F=E(w,r),\"ENCRYPTED PRIVATE KEY\")}if(\"PKCS8PRV\"==e&&void 0!==d&&t instanceof d&&1==t.isPrivate){k=new c({bigint:t.x}).getEncodedHex(),w=h({seq:[{int:0},{seq:[{oid:{name:\"dsa\"}},{seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]}]},{octstr:{hex:k}}]}).getEncodedHex();return void 0===r||null==r?Vr(w,\"PRIVATE KEY\"):Vr(F=E(w,r),\"ENCRYPTED PRIVATE KEY\")}throw\"unsupported object nor format\"},tn.getKeyFromCSRPEM=function(t){var e=qr(t,\"CERTIFICATE REQUEST\");return tn.getKeyFromCSRHex(e)},tn.getKeyFromCSRHex=function(t){var e=tn.parseCSRHex(t);return tn.getKey(e.p8pubkeyhex,null,\"pkcs8pub\")},tn.parseCSRHex=function(t){var e=Ar,r=e.getChildIdx,n=e.getTLV,i={},o=t;if(\"30\"!=o.substr(0,2))throw\"malformed CSR(code:001)\";var s=r(o,0);if(s.length<1)throw\"malformed CSR(code:002)\";if(\"30\"!=o.substr(s[0],2))throw\"malformed CSR(code:003)\";var a=r(o,s[0]);if(a.length<3)throw\"malformed CSR(code:004)\";return i.p8pubkeyhex=n(o,a[2]),i},tn.getJWKFromKey=function(t){var e={};if(t instanceof qe&&t.isPrivate)return e.kty=\"RSA\",e.n=Ur(t.n.toString(16)),e.e=Ur(t.e.toString(16)),e.d=Ur(t.d.toString(16)),e.p=Ur(t.p.toString(16)),e.q=Ur(t.q.toString(16)),e.dp=Ur(t.dmp1.toString(16)),e.dq=Ur(t.dmq1.toString(16)),e.qi=Ur(t.coeff.toString(16)),e;if(t instanceof qe&&t.isPublic)return e.kty=\"RSA\",e.n=Ur(t.n.toString(16)),e.e=Ur(t.e.toString(16)),e;if(t instanceof Er.crypto.ECDSA&&t.isPrivate){if(\"P-256\"!==(n=t.getShortNISTPCurveName())&&\"P-384\"!==n)throw\"unsupported curve name for JWT: \"+n;var r=t.getPublicKeyXYHex();return e.kty=\"EC\",e.crv=n,e.x=Ur(r.x),e.y=Ur(r.y),e.d=Ur(t.prvKeyHex),e}if(t instanceof Er.crypto.ECDSA&&t.isPublic){var n;if(\"P-256\"!==(n=t.getShortNISTPCurveName())&&\"P-384\"!==n)throw\"unsupported curve name for JWT: \"+n;r=t.getPublicKeyXYHex();return e.kty=\"EC\",e.crv=n,e.x=Ur(r.x),e.y=Ur(r.y),e}throw\"not supported key object\"},qe.getPosArrayOfChildrenFromHex=function(t){return Ar.getChildIdx(t,0)},qe.getHexValueArrayOfChildrenFromHex=function(t){var e,r=Ar.getV,n=r(t,(e=qe.getPosArrayOfChildrenFromHex(t))[0]),i=r(t,e[1]),o=r(t,e[2]),s=r(t,e[3]),a=r(t,e[4]),u=r(t,e[5]),c=r(t,e[6]),h=r(t,e[7]),l=r(t,e[8]);return(e=new Array).push(n,i,o,s,a,u,c,h,l),e},qe.prototype.readPrivateKeyFromPEMString=function(t){var e=qr(t),r=qe.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},qe.prototype.readPKCS5PrvKeyHex=function(t){var e=qe.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},qe.prototype.readPKCS8PrvKeyHex=function(t){var e,r,n,i,o,s,a,u,c=Ar,h=c.getVbyList;if(!1===c.isASN1HEX(t))throw\"not ASN.1 hex string\";try{e=h(t,0,[2,0,1],\"02\"),r=h(t,0,[2,0,2],\"02\"),n=h(t,0,[2,0,3],\"02\"),i=h(t,0,[2,0,4],\"02\"),o=h(t,0,[2,0,5],\"02\"),s=h(t,0,[2,0,6],\"02\"),a=h(t,0,[2,0,7],\"02\"),u=h(t,0,[2,0,8],\"02\")}catch(t){throw\"malformed PKCS#8 plain RSA private key\"}this.setPrivateEx(e,r,n,i,o,s,a,u)},qe.prototype.readPKCS5PubKeyHex=function(t){var e=Ar,r=e.getV;if(!1===e.isASN1HEX(t))throw\"keyHex is not ASN.1 hex string\";var n=e.getChildIdx(t,0);if(2!==n.length||\"02\"!==t.substr(n[0],2)||\"02\"!==t.substr(n[1],2))throw\"wrong hex for PKCS#5 public key\";var i=r(t,n[0]),o=r(t,n[1]);this.setPublic(i,o)},qe.prototype.readPKCS8PubKeyHex=function(t){var e=Ar;if(!1===e.isASN1HEX(t))throw\"not ASN.1 hex string\";if(\"06092a864886f70d010101\"!==e.getTLVbyList(t,0,[0,0]))throw\"not PKCS8 RSA public key\";var r=e.getTLVbyList(t,0,[1,0]);this.readPKCS5PubKeyHex(r)},qe.prototype.readCertPubKeyHex=function(t,e){var r,n;(r=new sn).readCertHex(t),n=r.getPublicKeyHex(),this.readPKCS8PubKeyHex(n)};var en=new RegExp(\"\");function rn(t,e){for(var r=\"\",n=e/4-t.length,i=0;i<n;i++)r+=\"0\";return r+t}function nn(t,e,r){for(var n=\"\",i=0;n.length<e;)n+=Or(r(jr(t+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return n}function on(t){for(var e in Er.crypto.Util.DIGESTINFOHEAD){var r=Er.crypto.Util.DIGESTINFOHEAD[e],n=r.length;if(t.substring(0,n)==r)return[e,t.substring(n)]}return[]}function sn(){var t=Ar,e=t.getChildIdx,r=t.getV,n=t.getTLV,i=t.getVbyList,o=t.getTLVbyList,s=t.getIdxbyList,a=t.getVidx,u=t.oidname,c=sn,h=qr;this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:\"a003020102\"!==o(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return i(this.hex,0,[0,1+this.foffset],\"02\")},this.getSignatureAlgorithmField=function(){return u(i(this.hex,0,[0,2+this.foffset,0],\"06\"))},this.getIssuerHex=function(){return o(this.hex,0,[0,3+this.foffset],\"30\")},this.getIssuerString=function(){return c.hex2dn(this.getIssuerHex())},this.getSubjectHex=function(){return o(this.hex,0,[0,5+this.foffset],\"30\")},this.getSubjectString=function(){return c.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var t=i(this.hex,0,[0,4+this.foffset,0]);return t=t.replace(/(..)/g,\"%$1\"),t=decodeURIComponent(t)},this.getNotAfter=function(){var t=i(this.hex,0,[0,4+this.foffset,1]);return t=t.replace(/(..)/g,\"%$1\"),t=decodeURIComponent(t)},this.getPublicKeyHex=function(){return t.getTLVbyList(this.hex,0,[0,6+this.foffset],\"30\")},this.getPublicKeyIdx=function(){return s(this.hex,0,[0,6+this.foffset],\"30\")},this.getPublicKeyContentIdx=function(){var t=this.getPublicKeyIdx();return s(this.hex,t,[1,0],\"30\")},this.getPublicKey=function(){return tn.getKey(this.getPublicKeyHex(),null,\"pkcs8pub\")},this.getSignatureAlgorithmName=function(){return u(i(this.hex,0,[1,0],\"06\"))},this.getSignatureValueHex=function(){return i(this.hex,0,[2],\"03\",!0)},this.verifySignature=function(t){var e=this.getSignatureAlgorithmName(),r=this.getSignatureValueHex(),n=o(this.hex,0,[0],\"30\"),i=new Er.crypto.Signature({alg:e});return i.init(t),i.updateHex(n),i.verify(r)},this.parseExt=function(){if(3!==this.version)return-1;var r=s(this.hex,0,[0,7,0],\"30\"),n=e(this.hex,r);this.aExtInfo=new Array;for(var o=0;o<n.length;o++){var u={critical:!1},c=0;3===e(this.hex,n[o]).length&&(u.critical=!0,c=1),u.oid=t.hextooidstr(i(this.hex,n[o],[0],\"06\"));var h=s(this.hex,n[o],[1+c]);u.vidx=a(this.hex,h),this.aExtInfo.push(u)}},this.getExtInfo=function(t){var e=this.aExtInfo,r=t;if(t.match(/^[0-9.]+$/)||(r=Er.asn1.x509.OID.name2oid(t)),\"\"!==r)for(var n=0;n<e.length;n++)if(e[n].oid===r)return e[n]},this.getExtBasicConstraints=function(){var t=this.getExtInfo(\"basicConstraints\");if(void 0===t)return t;var e=r(this.hex,t.vidx);if(\"\"===e)return{};if(\"0101ff\"===e)return{cA:!0};if(\"0101ff02\"===e.substr(0,8)){var n=r(e,6);return{cA:!0,pathLen:parseInt(n,16)}}throw\"basicConstraints parse error\"},this.getExtKeyUsageBin=function(){var t=this.getExtInfo(\"keyUsage\");if(void 0===t)return\"\";var e=r(this.hex,t.vidx);if(e.length%2!=0||e.length<=2)throw\"malformed key usage value\";var n=parseInt(e.substr(0,2)),i=parseInt(e.substr(2),16).toString(2);return i.substr(0,i.length-n)},this.getExtKeyUsageString=function(){for(var t=this.getExtKeyUsageBin(),e=new Array,r=0;r<t.length;r++)\"1\"==t.substr(r,1)&&e.push(sn.KEYUSAGE_NAME[r]);return e.join(\",\")},this.getExtSubjectKeyIdentifier=function(){var t=this.getExtInfo(\"subjectKeyIdentifier\");return void 0===t?t:r(this.hex,t.vidx)},this.getExtAuthorityKeyIdentifier=function(){var t=this.getExtInfo(\"authorityKeyIdentifier\");if(void 0===t)return t;for(var i={},o=n(this.hex,t.vidx),s=e(o,0),a=0;a<s.length;a++)\"80\"===o.substr(s[a],2)&&(i.kid=r(o,s[a]));return i},this.getExtExtKeyUsageName=function(){var t=this.getExtInfo(\"extKeyUsage\");if(void 0===t)return t;var i=new Array,o=n(this.hex,t.vidx);if(\"\"===o)return i;for(var s=e(o,0),a=0;a<s.length;a++)i.push(u(r(o,s[a])));return i},this.getExtSubjectAltName=function(){for(var t=this.getExtSubjectAltName2(),e=new Array,r=0;r<t.length;r++)\"DNS\"===t[r][0]&&e.push(t[r][1]);return e},this.getExtSubjectAltName2=function(){var t,i,o,s=this.getExtInfo(\"subjectAltName\");if(void 0===s)return s;for(var a=new Array,u=n(this.hex,s.vidx),c=e(u,0),h=0;h<c.length;h++)o=u.substr(c[h],2),t=r(u,c[h]),\"81\"===o&&(i=Nr(t),a.push([\"MAIL\",i])),\"82\"===o&&(i=Nr(t),a.push([\"DNS\",i])),\"84\"===o&&(i=sn.hex2dn(t,0),a.push([\"DN\",i])),\"86\"===o&&(i=Nr(t),a.push([\"URI\",i])),\"87\"===o&&(i=Qr(t),a.push([\"IP\",i]));return a},this.getExtCRLDistributionPointsURI=function(){var t=this.getExtInfo(\"cRLDistributionPoints\");if(void 0===t)return t;for(var r=new Array,n=e(this.hex,t.vidx),o=0;o<n.length;o++)try{var s=Nr(i(this.hex,n[o],[0,0,0],\"86\"));r.push(s)}catch(t){}return r},this.getExtAIAInfo=function(){var t=this.getExtInfo(\"authorityInfoAccess\");if(void 0===t)return t;for(var r={ocsp:[],caissuer:[]},n=e(this.hex,t.vidx),o=0;o<n.length;o++){var s=i(this.hex,n[o],[0],\"06\"),a=i(this.hex,n[o],[1],\"86\");\"2b06010505073001\"===s&&r.ocsp.push(Nr(a)),\"2b06010505073002\"===s&&r.caissuer.push(Nr(a))}return r},this.getExtCertificatePolicies=function(){var t=this.getExtInfo(\"certificatePolicies\");if(void 0===t)return t;for(var o=n(this.hex,t.vidx),s=[],a=e(o,0),c=0;c<a.length;c++){var h={},l=e(o,a[c]);if(h.id=u(r(o,l[0])),2===l.length)for(var f=e(o,l[1]),d=0;d<f.length;d++){var g=i(o,f[d],[0],\"06\");\"2b06010505070201\"===g?h.cps=Nr(i(o,f[d],[1])):\"2b06010505070202\"===g&&(h.unotice=Nr(i(o,f[d],[1,0])))}s.push(h)}return s},this.readCertPEM=function(t){this.readCertHex(h(t))},this.readCertHex=function(t){this.hex=t,this.getVersion();try{s(this.hex,0,[0,7],\"a3\"),this.parseExt()}catch(t){}},this.getInfo=function(){var t,e,r;if(t=\"Basic Fields\\n\",t+=\"  serial number: \"+this.getSerialNumberHex()+\"\\n\",t+=\"  signature algorithm: \"+this.getSignatureAlgorithmField()+\"\\n\",t+=\"  issuer: \"+this.getIssuerString()+\"\\n\",t+=\"  notBefore: \"+this.getNotBefore()+\"\\n\",t+=\"  notAfter: \"+this.getNotAfter()+\"\\n\",t+=\"  subject: \"+this.getSubjectString()+\"\\n\",t+=\"  subject public key info: \\n\",t+=\"    key algorithm: \"+(e=this.getPublicKey()).type+\"\\n\",\"RSA\"===e.type&&(t+=\"    n=\"+Zr(e.n.toString(16)).substr(0,16)+\"...\\n\",t+=\"    e=\"+Zr(e.e.toString(16))+\"\\n\"),void 0!==(r=this.aExtInfo)&&null!==r){t+=\"X509v3 Extensions:\\n\";for(var n=0;n<r.length;n++){var i=r[n],o=Er.asn1.x509.OID.oid2name(i.oid);\"\"===o&&(o=i.oid);var s=\"\";if(!0===i.critical&&(s=\"CRITICAL\"),t+=\"  \"+o+\" \"+s+\":\\n\",\"basicConstraints\"===o){var a=this.getExtBasicConstraints();void 0===a.cA?t+=\"    {}\\n\":(t+=\"    cA=true\",void 0!==a.pathLen&&(t+=\", pathLen=\"+a.pathLen),t+=\"\\n\")}else if(\"keyUsage\"===o)t+=\"    \"+this.getExtKeyUsageString()+\"\\n\";else if(\"subjectKeyIdentifier\"===o)t+=\"    \"+this.getExtSubjectKeyIdentifier()+\"\\n\";else if(\"authorityKeyIdentifier\"===o){var u=this.getExtAuthorityKeyIdentifier();void 0!==u.kid&&(t+=\"    kid=\"+u.kid+\"\\n\")}else{if(\"extKeyUsage\"===o)t+=\"    \"+this.getExtExtKeyUsageName().join(\", \")+\"\\n\";else if(\"subjectAltName\"===o)t+=\"    \"+this.getExtSubjectAltName2()+\"\\n\";else if(\"cRLDistributionPoints\"===o)t+=\"    \"+this.getExtCRLDistributionPointsURI()+\"\\n\";else if(\"authorityInfoAccess\"===o){var c=this.getExtAIAInfo();void 0!==c.ocsp&&(t+=\"    ocsp: \"+c.ocsp.join(\",\")+\"\\n\"),void 0!==c.caissuer&&(t+=\"    caissuer: \"+c.caissuer.join(\",\")+\"\\n\")}else if(\"certificatePolicies\"===o)for(var h=this.getExtCertificatePolicies(),l=0;l<h.length;l++)void 0!==h[l].id&&(t+=\"    policy oid: \"+h[l].id+\"\\n\"),void 0!==h[l].cps&&(t+=\"    cps: \"+h[l].cps+\"\\n\")}}}return t+=\"signature algorithm: \"+this.getSignatureAlgorithmName()+\"\\n\",t+=\"signature: \"+this.getSignatureValueHex().substr(0,16)+\"...\\n\"}}en.compile(\"[^0-9a-f]\",\"gi\"),qe.prototype.sign=function(t,e){var r=function t(r){return Er.crypto.Util.hashString(r,e)}(t);return this.signWithMessageHash(r,e)},qe.prototype.signWithMessageHash=function(t,e){var r=Ke(Er.crypto.Util.getPaddedDigestInfoHex(t,e,this.n.bitLength()),16);return rn(this.doPrivate(r).toString(16),this.n.bitLength())},qe.prototype.signPSS=function(t,e,r){var n=function t(r){return Er.crypto.Util.hashHex(r,e)}(jr(t));return void 0===r&&(r=-1),this.signWithMessageHashPSS(n,e,r)},qe.prototype.signWithMessageHashPSS=function(t,e,r){var n,i=Or(t),o=i.length,s=this.n.bitLength()-1,a=Math.ceil(s/8),u=function t(r){return Er.crypto.Util.hashHex(r,e)};if(-1===r||void 0===r)r=o;else if(-2===r)r=a-o-2;else if(r<-2)throw\"invalid salt length\";if(a<o+r+2)throw\"data too long\";var c=\"\";r>0&&(c=new Array(r),(new Me).nextBytes(c),c=String.fromCharCode.apply(String,c));var h=Or(u(jr(\"\\0\\0\\0\\0\\0\\0\\0\\0\"+i+c))),l=[];for(n=0;n<a-r-o-2;n+=1)l[n]=0;var f=String.fromCharCode.apply(String,l)+\"\u0001\"+c,d=nn(h,f.length,u),g=[];for(n=0;n<f.length;n+=1)g[n]=f.charCodeAt(n)^d.charCodeAt(n);var p=65280>>8*a-s&255;for(g[0]&=~p,n=0;n<o;n++)g.push(h.charCodeAt(n));return g.push(188),rn(this.doPrivate(new E(g)).toString(16),this.n.bitLength())},qe.prototype.verify=function(t,e){var r=Ke(e=(e=e.replace(en,\"\")).replace(/[ \\n]+/g,\"\"),16);if(r.bitLength()>this.n.bitLength())return 0;var n=on(this.doPublic(r).toString(16).replace(/^1f+00/,\"\"));if(0==n.length)return!1;var i=n[0];return n[1]==function t(e){return Er.crypto.Util.hashString(e,i)}(t)},qe.prototype.verifyWithMessageHash=function(t,e){var r=Ke(e=(e=e.replace(en,\"\")).replace(/[ \\n]+/g,\"\"),16);if(r.bitLength()>this.n.bitLength())return 0;var n=on(this.doPublic(r).toString(16).replace(/^1f+00/,\"\"));if(0==n.length)return!1;n[0];return n[1]==t},qe.prototype.verifyPSS=function(t,e,r,n){var i=function t(e){return Er.crypto.Util.hashHex(e,r)}(jr(t));return void 0===n&&(n=-1),this.verifyWithMessageHashPSS(i,e,r,n)},qe.prototype.verifyWithMessageHashPSS=function(t,e,r,n){var i=new E(e,16);if(i.bitLength()>this.n.bitLength())return!1;var o,s=function t(e){return Er.crypto.Util.hashHex(e,r)},a=Or(t),u=a.length,c=this.n.bitLength()-1,h=Math.ceil(c/8);if(-1===n||void 0===n)n=u;else if(-2===n)n=h-u-2;else if(n<-2)throw\"invalid salt length\";if(h<u+n+2)throw\"data too long\";var l=this.doPublic(i).toByteArray();for(o=0;o<l.length;o+=1)l[o]&=255;for(;l.length<h;)l.unshift(0);if(188!==l[h-1])throw\"encoded message does not end in 0xbc\";var f=(l=String.fromCharCode.apply(String,l)).substr(0,h-u-1),d=l.substr(f.length,u),g=65280>>8*h-c&255;if(0!=(f.charCodeAt(0)&g))throw\"bits beyond keysize not zero\";var p=nn(d,f.length,s),v=[];for(o=0;o<f.length;o+=1)v[o]=f.charCodeAt(o)^p.charCodeAt(o);v[0]&=~g;var y=h-u-n-2;for(o=0;o<y;o+=1)if(0!==v[o])throw\"leftmost octets not zero\";if(1!==v[y])throw\"0x01 marker not found\";return d===Or(s(jr(\"\\0\\0\\0\\0\\0\\0\\0\\0\"+a+String.fromCharCode.apply(String,v.slice(-n)))))},qe.SALT_LEN_HLEN=-1,qe.SALT_LEN_MAX=-2,qe.SALT_LEN_RECOVER=-2,sn.hex2dn=function(t,e){if(void 0===e&&(e=0),\"30\"!==t.substr(e,2))throw\"malformed DN\";for(var r=new Array,n=Ar.getChildIdx(t,e),i=0;i<n.length;i++)r.push(sn.hex2rdn(t,n[i]));return\"/\"+(r=r.map(function(t){return t.replace(\"/\",\"\\\\/\")})).join(\"/\")},sn.hex2rdn=function(t,e){if(void 0===e&&(e=0),\"31\"!==t.substr(e,2))throw\"malformed RDN\";for(var r=new Array,n=Ar.getChildIdx(t,e),i=0;i<n.length;i++)r.push(sn.hex2attrTypeValue(t,n[i]));return(r=r.map(function(t){return t.replace(\"+\",\"\\\\+\")})).join(\"+\")},sn.hex2attrTypeValue=function(t,e){var r=Ar,n=r.getV;if(void 0===e&&(e=0),\"30\"!==t.substr(e,2))throw\"malformed attribute type and value\";var i=r.getChildIdx(t,e);2!==i.length||t.substr(i[0],2);var o=n(t,i[0]),s=Er.asn1.ASN1Util.oidHexToInt(o);return Er.asn1.x509.OID.oid2atype(s)+\"=\"+Or(n(t,i[1]))},sn.getPublicKeyFromCertHex=function(t){var e=new sn;return e.readCertHex(t),e.getPublicKey()},sn.getPublicKeyFromCertPEM=function(t){var e=new sn;return e.readCertPEM(t),e.getPublicKey()},sn.getPublicKeyInfoPropOfCertPEM=function(t){var e,r,n=Ar.getVbyList,i={};return i.algparam=null,(e=new sn).readCertPEM(t),r=e.getPublicKeyHex(),i.keyhex=n(r,0,[1],\"03\").substr(2),i.algoid=n(r,0,[0,0],\"06\"),\"2a8648ce3d0201\"===i.algoid&&(i.algparam=n(r,0,[0,1],\"06\")),i},sn.KEYUSAGE_NAME=[\"digitalSignature\",\"nonRepudiation\",\"keyEncipherment\",\"dataEncipherment\",\"keyAgreement\",\"keyCertSign\",\"cRLSign\",\"encipherOnly\",\"decipherOnly\"],void 0!==Er&&Er||(e.KJUR=Er={}),void 0!==Er.jws&&Er.jws||(Er.jws={}),Er.jws.JWS=function(){var t=Er.jws.JWS.isSafeJSONString;this.parseJWS=function(e,r){if(void 0===this.parsedJWS||!r&&void 0===this.parsedJWS.sigvalH){var n=e.match(/^([^.]+)\\.([^.]+)\\.([^.]+)$/);if(null==n)throw\"JWS signature is not a form of 'Head.Payload.SigValue'.\";var i=n[1],o=n[2],s=n[3],a=i+\".\"+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=s,this.parsedJWS.si=a,!r){var u=Lr(s),c=Ke(u,16);this.parsedJWS.sigvalH=u,this.parsedJWS.sigvalBI=c}var h=kr(i),l=kr(o);if(this.parsedJWS.headS=h,this.parsedJWS.payloadS=l,!t(h,this.parsedJWS,\"headP\"))throw\"malformed JSON string for JWS Head: \"+h}}},Er.jws.JWS.sign=function(t,e,n,i,o){var s,a,u,c=Er,h=c.jws.JWS,l=h.readSafeJSONString,f=h.isSafeJSONString,d=c.crypto,g=(d.ECDSA,d.Mac),p=d.Signature,v=JSON;if(\"string\"!=typeof e&&\"object\"!=(void 0===e?\"undefined\":r(e)))throw\"spHeader must be JSON string or object: \"+e;if(\"object\"==(void 0===e?\"undefined\":r(e))&&(a=e,s=v.stringify(a)),\"string\"==typeof e){if(!f(s=e))throw\"JWS Head is not safe JSON string: \"+s;a=l(s)}if(u=n,\"object\"==(void 0===n?\"undefined\":r(n))&&(u=v.stringify(n)),\"\"!=t&&null!=t||void 0===a.alg||(t=a.alg),\"\"!=t&&null!=t&&void 0===a.alg&&(a.alg=t,s=v.stringify(a)),t!==a.alg)throw\"alg and sHeader.alg doesn't match: \"+t+\"!=\"+a.alg;var y=null;if(void 0===h.jwsalg2sigalg[t])throw\"unsupported alg name: \"+t;y=h.jwsalg2sigalg[t];var m=xr(s)+\".\"+xr(u),_=\"\";if(\"Hmac\"==y.substr(0,4)){if(void 0===i)throw\"mac key shall be specified for HS* alg\";var S=new g({alg:y,prov:\"cryptojs\",pass:i});S.updateString(m),_=S.doFinal()}else{var F;if(-1!=y.indexOf(\"withECDSA\"))(F=new p({alg:y})).init(i,o),F.updateString(m),hASN1Sig=F.sign(),_=Er.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig);else if(\"none\"!=y)(F=new p({alg:y})).init(i,o),F.updateString(m),_=F.sign()}return m+\".\"+Ur(_)},Er.jws.JWS.verify=function(t,e,n){var i,o=Er,s=o.jws.JWS,a=s.readSafeJSONString,u=o.crypto,c=u.ECDSA,h=u.Mac,l=u.Signature;void 0!==r(qe)&&(i=qe);var f=t.split(\".\");if(3!==f.length)return!1;var d=f[0]+\".\"+f[1],g=Lr(f[2]),p=a(kr(f[0])),v=null,y=null;if(void 0===p.alg)throw\"algorithm not specified in header\";if((y=(v=p.alg).substr(0,2),null!=n&&\"[object Array]\"===Object.prototype.toString.call(n)&&n.length>0)&&-1==(\":\"+n.join(\":\")+\":\").indexOf(\":\"+v+\":\"))throw\"algorithm '\"+v+\"' not accepted in the list\";if(\"none\"!=v&&null===e)throw\"key shall be specified to verify.\";if(\"string\"==typeof e&&-1!=e.indexOf(\"-----BEGIN \")&&(e=tn.getKey(e)),!(\"RS\"!=y&&\"PS\"!=y||e instanceof i))throw\"key shall be a RSAKey obj for RS* and PS* algs\";if(\"ES\"==y&&!(e instanceof c))throw\"key shall be a ECDSA obj for ES* algs\";var m=null;if(void 0===s.jwsalg2sigalg[p.alg])throw\"unsupported alg name: \"+v;if(\"none\"==(m=s.jwsalg2sigalg[v]))throw\"not supported\";if(\"Hmac\"==m.substr(0,4)){if(void 0===e)throw\"hexadecimal key shall be specified for HMAC\";var _=new h({alg:m,pass:e});return _.updateString(d),g==_.doFinal()}if(-1!=m.indexOf(\"withECDSA\")){var S,F=null;try{F=c.concatSigToASN1Sig(g)}catch(t){return!1}return(S=new l({alg:m})).init(e),S.updateString(d),S.verify(F)}return(S=new l({alg:m})).init(e),S.updateString(d),S.verify(g)},Er.jws.JWS.parse=function(t){var e,r,n,i=t.split(\".\"),o={};if(2!=i.length&&3!=i.length)throw\"malformed sJWS: wrong number of '.' splitted elements\";return e=i[0],r=i[1],3==i.length&&(n=i[2]),o.headerObj=Er.jws.JWS.readSafeJSONString(kr(e)),o.payloadObj=Er.jws.JWS.readSafeJSONString(kr(r)),o.headerPP=JSON.stringify(o.headerObj,null,\"  \"),null==o.payloadObj?o.payloadPP=kr(r):o.payloadPP=JSON.stringify(o.payloadObj,null,\"  \"),void 0!==n&&(o.sigHex=Lr(n)),o},Er.jws.JWS.verifyJWT=function(t,e,n){var i=Er.jws,o=i.JWS,s=o.readSafeJSONString,a=o.inArray,u=o.includedArray,c=t.split(\".\"),h=c[0],l=c[1],f=(Lr(c[2]),s(kr(h))),d=s(kr(l));if(void 0===f.alg)return!1;if(void 0===n.alg)throw\"acceptField.alg shall be specified\";if(!a(f.alg,n.alg))return!1;if(void 0!==d.iss&&\"object\"===r(n.iss)&&!a(d.iss,n.iss))return!1;if(void 0!==d.sub&&\"object\"===r(n.sub)&&!a(d.sub,n.sub))return!1;if(void 0!==d.aud&&\"object\"===r(n.aud))if(\"string\"==typeof d.aud){if(!a(d.aud,n.aud))return!1}else if(\"object\"==r(d.aud)&&!u(d.aud,n.aud))return!1;var g=i.IntDate.getNow();return void 0!==n.verifyAt&&\"number\"==typeof n.verifyAt&&(g=n.verifyAt),void 0!==n.gracePeriod&&\"number\"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==d.exp&&\"number\"==typeof d.exp&&d.exp+n.gracePeriod<g)&&(!(void 0!==d.nbf&&\"number\"==typeof d.nbf&&g<d.nbf-n.gracePeriod)&&(!(void 0!==d.iat&&\"number\"==typeof d.iat&&g<d.iat-n.gracePeriod)&&((void 0===d.jti||void 0===n.jti||d.jti===n.jti)&&!!o.verify(t,e,n.alg))))},Er.jws.JWS.includedArray=function(t,e){var n=Er.jws.JWS.inArray;if(null===t)return!1;if(\"object\"!==(void 0===t?\"undefined\":r(t)))return!1;if(\"number\"!=typeof t.length)return!1;for(var i=0;i<t.length;i++)if(!n(t[i],e))return!1;return!0},Er.jws.JWS.inArray=function(t,e){if(null===e)return!1;if(\"object\"!==(void 0===e?\"undefined\":r(e)))return!1;if(\"number\"!=typeof e.length)return!1;for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1},Er.jws.JWS.jwsalg2sigalg={HS256:\"HmacSHA256\",HS384:\"HmacSHA384\",HS512:\"HmacSHA512\",RS256:\"SHA256withRSA\",RS384:\"SHA384withRSA\",RS512:\"SHA512withRSA\",ES256:\"SHA256withECDSA\",ES384:\"SHA384withECDSA\",PS256:\"SHA256withRSAandMGF1\",PS384:\"SHA384withRSAandMGF1\",PS512:\"SHA512withRSAandMGF1\",none:\"none\"},Er.jws.JWS.isSafeJSONString=function(t,e,n){var i=null;try{return\"object\"!=(void 0===(i=wr(t))?\"undefined\":r(i))?0:i.constructor===Array?0:(e&&(e[n]=i),1)}catch(t){return 0}},Er.jws.JWS.readSafeJSONString=function(t){var e=null;try{return\"object\"!=(void 0===(e=wr(t))?\"undefined\":r(e))?null:e.constructor===Array?null:e}catch(t){return null}},Er.jws.JWS.getEncodedSignatureValueFromJWS=function(t){var e=t.match(/^[^.]+\\.[^.]+\\.([^.]+)$/);if(null==e)throw\"JWS signature is not a form of 'Head.Payload.SigValue'.\";return e[1]},Er.jws.JWS.getJWKthumbprint=function(t){if(\"RSA\"!==t.kty&&\"EC\"!==t.kty&&\"oct\"!==t.kty)throw\"unsupported algorithm for JWK Thumprint\";var e=\"{\";if(\"RSA\"===t.kty){if(\"string\"!=typeof t.n||\"string\"!=typeof t.e)throw\"wrong n and e value for RSA key\";e+='\"e\":\"'+t.e+'\",',e+='\"kty\":\"'+t.kty+'\",',e+='\"n\":\"'+t.n+'\"}'}else if(\"EC\"===t.kty){if(\"string\"!=typeof t.crv||\"string\"!=typeof t.x||\"string\"!=typeof t.y)throw\"wrong crv, x and y value for EC key\";e+='\"crv\":\"'+t.crv+'\",',e+='\"kty\":\"'+t.kty+'\",',e+='\"x\":\"'+t.x+'\",',e+='\"y\":\"'+t.y+'\"}'}else if(\"oct\"===t.kty){if(\"string\"!=typeof t.k)throw\"wrong k value for oct(symmetric) key\";e+='\"kty\":\"'+t.kty+'\",',e+='\"k\":\"'+t.k+'\"}'}var r=jr(e);return Ur(Er.crypto.Util.hashHex(r,\"sha256\"))},Er.jws.IntDate={},Er.jws.IntDate.get=function(t){var e=Er.jws.IntDate,r=e.getNow,n=e.getZulu;if(\"now\"==t)return r();if(\"now + 1hour\"==t)return r()+3600;if(\"now + 1day\"==t)return r()+86400;if(\"now + 1month\"==t)return r()+2592e3;if(\"now + 1year\"==t)return r()+31536e3;if(t.match(/Z$/))return n(t);if(t.match(/^[0-9]+$/))return parseInt(t);throw\"unsupported format: \"+t},Er.jws.IntDate.getZulu=function(t){return Wr(t)},Er.jws.IntDate.getNow=function(){return~~(new Date/1e3)},Er.jws.IntDate.intDate2UTCString=function(t){return new Date(1e3*t).toUTCString()},Er.jws.IntDate.intDate2Zulu=function(t){var e=new Date(1e3*t);return(\"0000\"+e.getUTCFullYear()).slice(-4)+(\"00\"+(e.getUTCMonth()+1)).slice(-2)+(\"00\"+e.getUTCDate()).slice(-2)+(\"00\"+e.getUTCHours()).slice(-2)+(\"00\"+e.getUTCMinutes()).slice(-2)+(\"00\"+e.getUTCSeconds()).slice(-2)+\"Z\"},e.SecureRandom=Me,e.rng_seed_time=Le,e.BigInteger=E,e.RSAKey=qe;var an=Er.crypto.EDSA;e.EDSA=an;var un=Er.crypto.DSA;e.DSA=un;var cn=Er.crypto.Signature;e.Signature=cn;var hn=Er.crypto.MessageDigest;e.MessageDigest=hn;var ln=Er.crypto.Mac;e.Mac=ln;var fn=Er.crypto.Cipher;e.Cipher=fn,e.KEYUTIL=tn,e.ASN1HEX=Ar,e.X509=sn,e.CryptoJS=y,e.b64tohex=b,e.b64toBA=w,e.stoBA=Pr,e.BAtos=Cr,e.BAtohex=Tr,e.stohex=Rr,e.stob64=function dn(t){return F(Rr(t))},e.stob64u=function gn(t){return Ir(F(Rr(t)))},e.b64utos=function pn(t){return Cr(w(Dr(t)))},e.b64tob64u=Ir,e.b64utob64=Dr,e.hex2b64=F,e.hextob64u=Ur,e.b64utohex=Lr,e.utf8tob64u=xr,e.b64utoutf8=kr,e.utf8tob64=function vn(t){return F(zr($r(t)))},e.b64toutf8=function yn(t){return decodeURIComponent(Yr(b(t)))},e.utf8tohex=Br,e.hextoutf8=Nr,e.hextorstr=Or,e.rstrtohex=jr,e.hextob64=Hr,e.hextob64nl=Mr,e.b64nltohex=Kr,e.hextopem=Vr,e.pemtohex=qr,e.hextoArrayBuffer=function mn(t){if(t.length%2!=0)throw\"input is not even length\";if(null==t.match(/^[0-9A-Fa-f]+$/))throw\"input is not hexadecimal\";for(var e=new ArrayBuffer(t.length/2),r=new DataView(e),n=0;n<t.length/2;n++)r.setUint8(n,parseInt(t.substr(2*n,2),16));return e},e.ArrayBuffertohex=function _n(t){for(var e=\"\",r=new DataView(t),n=0;n<t.byteLength;n++)e+=(\"00\"+r.getUint8(n).toString(16)).slice(-2);return e},e.zulutomsec=Jr,e.zulutosec=Wr,e.zulutodate=function Sn(t){return new Date(Jr(t))},e.datetozulu=function Fn(t,e,r){var n,i=t.getUTCFullYear();if(e){if(i<1950||2049<i)throw\"not proper year for UTCTime: \"+i;n=(\"\"+i).slice(-2)}else n=(\"000\"+i).slice(-4);if(n+=(\"0\"+(t.getUTCMonth()+1)).slice(-2),n+=(\"0\"+t.getUTCDate()).slice(-2),n+=(\"0\"+t.getUTCHours()).slice(-2),n+=(\"0\"+t.getUTCMinutes()).slice(-2),n+=(\"0\"+t.getUTCSeconds()).slice(-2),r){var o=t.getUTCMilliseconds();0!==o&&(n+=\".\"+(o=(o=(\"00\"+o).slice(-3)).replace(/0+$/g,\"\")))}return n+=\"Z\"},e.uricmptohex=zr,e.hextouricmp=Yr,e.ipv6tohex=Gr,e.hextoipv6=Xr,e.hextoip=Qr,e.iptohex=function bn(t){var e=\"malformed IP address\";if(!(t=t.toLowerCase(t)).match(/^[0-9.]+$/)){if(t.match(/^[0-9a-f:]+$/)&&-1!==t.indexOf(\":\"))return Gr(t);throw e}var r=t.split(\".\");if(4!==r.length)throw e;var n=\"\";try{for(var i=0;i<4;i++)n+=(\"0\"+parseInt(r[i]).toString(16)).slice(-2);return n}catch(t){throw e}},e.encodeURIComponentAll=$r,e.newline_toUnix=function wn(t){return t=t.replace(/\\r\\n/gm,\"\\n\")},e.newline_toDos=function En(t){return t=(t=t.replace(/\\r\\n/gm,\"\\n\")).replace(/\\n/gm,\"\\r\\n\")},e.hextoposhex=Zr,e.intarystrtohex=function xn(t){t=(t=(t=t.replace(/^\\s*\\[\\s*/,\"\")).replace(/\\s*\\]\\s*$/,\"\")).replace(/\\s*/g,\"\");try{return t.split(/,/).map(function(t,e,r){var n=parseInt(t);if(n<0||255<n)throw\"integer not in range 0-255\";return(\"00\"+n.toString(16)).slice(-2)}).join(\"\")}catch(t){throw\"malformed integer array string: \"+t}},e.strdiffidx=function t(e,r){var n=e.length;e.length>r.length&&(n=r.length);for(var i=0;i<n;i++)if(e.charCodeAt(i)!=r.charCodeAt(i))return i;return e.length!=r.length?n:-1},e.KJUR=Er;var kn=Er.crypto;e.crypto=kn;var An=Er.asn1;e.asn1=An;var Pn=Er.jws;e.jws=Pn;var Cn=Er.lang;e.lang=Cn}).call(this,r(27).Buffer)},function(t,e,r){\"use strict\";(function(t){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nvar n=r(29),i=r(30),o=r(31);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError(\"Invalid typed array length\");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if(\"number\"==typeof t){if(\"string\"==typeof e)throw new Error(\"If encoding is specified then the first argument must be a string\");return l(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if(\"number\"==typeof e)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function i(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError(\"'offset' is out of bounds\");if(e.byteLength<r+(n||0))throw new RangeError(\"'length' is out of bounds\");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,r,n):\"string\"==typeof e?function s(t,e,r){\"string\"==typeof r&&\"\"!==r||(r=\"utf8\");if(!u.isEncoding(r))throw new TypeError('\"encoding\" must be a valid string encoding');var n=0|g(e,r),i=(t=a(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function c(t,e){if(u.isBuffer(e)){var r=0|d(e.length);return 0===(t=a(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if(\"undefined\"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||\"length\"in e)return\"number\"!=typeof e.length||function n(t){return t!=t}(e.length)?a(t,0):f(t,e);if(\"Buffer\"===e.type&&o(e.data))return f(t,e.data)}throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(t,e)}function h(t){if(\"number\"!=typeof t)throw new TypeError('\"size\" argument must be a number');if(t<0)throw new RangeError('\"size\" argument must not be negative')}function l(t,e){if(h(e),t=a(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|d(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function d(t){if(t>=s())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+s().toString(16)+\" bytes\");return 0|t}function g(t,e){if(u.isBuffer(t))return t.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;\"string\"!=typeof t&&(t=\"\"+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case\"ascii\":case\"latin1\":case\"binary\":return r;case\"utf8\":case\"utf-8\":case void 0:return K(t).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*r;case\"hex\":return r>>>1;case\"base64\":return V(t).length;default:if(n)return K(t).length;e=(\"\"+e).toLowerCase(),n=!0}}function p(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if(\"string\"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if(\"string\"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:y(t,e,r,n,i);if(\"number\"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,n,i);throw new TypeError(\"val must be string, number or Buffer\")}function y(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&(\"ucs2\"===(n=String(n).toLowerCase())||\"ucs-2\"===n||\"utf16le\"===n||\"utf-16le\"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var h=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===u)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var l=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){l=!1;break}if(l)return o}return-1}function m(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError(\"Invalid hex string\");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function _(t,e,r,n){return q(K(e,t.length-r),t,r,n)}function S(t,e,r,n){return q(function i(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function F(t,e,r,n){return S(t,e,r,n)}function b(t,e,r,n){return q(V(e),t,r,n)}function w(t,e,r,n){return q(function i(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function E(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function x(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],h=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(h=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(h=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(h=u)}null===h?(h=65533,l=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=l}return function f(t){var e=t.length;if(e<=P)return String.fromCharCode.apply(String,t);var r=\"\",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=P));return r}(n)}e.Buffer=u,e.SlowBuffer=function k(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function A(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&\"function\"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function n(t,e,r,i){return h(e),e<=0?a(t,e):void 0!==r?\"string\"==typeof i?a(t,e).fill(r,i):a(t,e).fill(r):a(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return l(null,t)},u.allocUnsafeSlow=function(t){return l(null,t)},u.isBuffer=function t(e){return!(null==e||!e._isBuffer)},u.compare=function t(e,r){if(!u.isBuffer(e)||!u.isBuffer(r))throw new TypeError(\"Arguments must be Buffers\");if(e===r)return 0;for(var n=e.length,i=r.length,o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0},u.isEncoding=function t(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},u.concat=function t(e,r){if(!o(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===r)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=u.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('\"list\" argument must be an Array of Buffers');a.copy(i,s),s+=a.length}return i},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function t(){var e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var r=0;r<e;r+=2)p(this,r,r+1);return this},u.prototype.swap32=function t(){var e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var r=0;r<e;r+=4)p(this,r,r+3),p(this,r+1,r+2);return this},u.prototype.swap64=function t(){var e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var r=0;r<e;r+=8)p(this,r,r+7),p(this,r+1,r+6),p(this,r+2,r+5),p(this,r+3,r+4);return this},u.prototype.toString=function t(){var e=0|this.length;return 0===e?\"\":0===arguments.length?x(this,0,e):function r(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return\"\";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return\"\";if((n>>>=0)<=(e>>>=0))return\"\";for(t||(t=\"utf8\");;)switch(t){case\"hex\":return R(this,e,n);case\"utf8\":case\"utf-8\":return x(this,e,n);case\"ascii\":return C(this,e,n);case\"latin1\":case\"binary\":return T(this,e,n);case\"base64\":return E(this,e,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return I(this,e,n);default:if(i)throw new TypeError(\"Unknown encoding: \"+t);t=(t+\"\").toLowerCase(),i=!0}}.apply(this,arguments)},u.prototype.equals=function t(e){if(!u.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===u.compare(this,e)},u.prototype.inspect=function t(){var r=\"\",n=e.INSPECT_MAX_BYTES;return this.length>0&&(r=this.toString(\"hex\",0,n).match(/.{2}/g).join(\" \"),this.length>n&&(r+=\" ... \")),\"<Buffer \"+r+\">\"},u.prototype.compare=function t(e,r,n,i,o){if(!u.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");if(void 0===r&&(r=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError(\"out of range index\");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var s=o-i,a=n-r,c=Math.min(s,a),h=this.slice(i,o),l=e.slice(r,n),f=0;f<c;++f)if(h[f]!==l[f]){s=h[f],a=l[f];break}return s<a?-1:a<s?1:0},u.prototype.includes=function t(e,r,n){return-1!==this.indexOf(e,r,n)},u.prototype.indexOf=function t(e,r,n){return v(this,e,r,n,!0)},u.prototype.lastIndexOf=function t(e,r,n){return v(this,e,r,n,!1)},u.prototype.write=function t(e,r,n,i){if(void 0===r)i=\"utf8\",n=this.length,r=0;else if(void 0===n&&\"string\"==typeof r)i=r,n=this.length,r=0;else{if(!isFinite(r))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");r|=0,isFinite(n)?(n|=0,void 0===i&&(i=\"utf8\")):(i=n,n=void 0)}var o=this.length-r;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");i||(i=\"utf8\");for(var s=!1;;)switch(i){case\"hex\":return m(this,e,r,n);case\"utf8\":case\"utf-8\":return _(this,e,r,n);case\"ascii\":return S(this,e,r,n);case\"latin1\":case\"binary\":return F(this,e,r,n);case\"base64\":return b(this,e,r,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return w(this,e,r,n);default:if(s)throw new TypeError(\"Unknown encoding: \"+i);i=(\"\"+i).toLowerCase(),s=!0}},u.prototype.toJSON=function t(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function C(t,e,r){var n=\"\";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function T(t,e,r){var n=\"\";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i=\"\",o=e;o<r;++o)i+=M(t[o]);return i}function I(t,e,r){for(var n=t.slice(e,r),i=\"\",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function D(t,e,r){if(t%1!=0||t<0)throw new RangeError(\"offset is not uint\");if(t+e>r)throw new RangeError(\"Trying to access beyond buffer length\")}function U(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('\"value\" argument is out of bounds');if(r+n>t.length)throw new RangeError(\"Index out of range\")}function L(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function B(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function N(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"Index out of range\")}function O(t,e,r,n,o){return o||N(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function j(t,e,r,n,o){return o||N(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function t(e,r){var n,i=this.length;if(e=~~e,r=void 0===r?i:~~r,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),r<0?(r+=i)<0&&(r=0):r>i&&(r=i),r<e&&(r=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,r)).__proto__=u.prototype;else{var o=r-e;n=new u(o,void 0);for(var s=0;s<o;++s)n[s]=this[s+e]}return n},u.prototype.readUIntLE=function t(e,r,n){e|=0,r|=0,n||D(e,r,this.length);for(var i=this[e],o=1,s=0;++s<r&&(o*=256);)i+=this[e+s]*o;return i},u.prototype.readUIntBE=function t(e,r,n){e|=0,r|=0,n||D(e,r,this.length);for(var i=this[e+--r],o=1;r>0&&(o*=256);)i+=this[e+--r]*o;return i},u.prototype.readUInt8=function t(e,r){return r||D(e,1,this.length),this[e]},u.prototype.readUInt16LE=function t(e,r){return r||D(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function t(e,r){return r||D(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function t(e,r){return r||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function t(e,r){return r||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function t(e,r,n){e|=0,r|=0,n||D(e,r,this.length);for(var i=this[e],o=1,s=0;++s<r&&(o*=256);)i+=this[e+s]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*r)),i},u.prototype.readIntBE=function t(e,r,n){e|=0,r|=0,n||D(e,r,this.length);for(var i=r,o=1,s=this[e+--i];i>0&&(o*=256);)s+=this[e+--i]*o;return s>=(o*=128)&&(s-=Math.pow(2,8*r)),s},u.prototype.readInt8=function t(e,r){return r||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function t(e,r){r||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function t(e,r){r||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function t(e,r){return r||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function t(e,r){return r||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function t(e,r){return r||D(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function t(e,r){return r||D(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function t(e,r){return r||D(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function t(e,r){return r||D(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function t(e,r,n,i){(e=+e,r|=0,n|=0,i)||U(this,e,r,n,Math.pow(2,8*n)-1,0);var o=1,s=0;for(this[r]=255&e;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n},u.prototype.writeUIntBE=function t(e,r,n,i){(e=+e,r|=0,n|=0,i)||U(this,e,r,n,Math.pow(2,8*n)-1,0);var o=n-1,s=1;for(this[r+o]=255&e;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n},u.prototype.writeUInt8=function t(e,r,n){return e=+e,r|=0,n||U(this,e,r,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=255&e,r+1},u.prototype.writeUInt16LE=function t(e,r,n){return e=+e,r|=0,n||U(this,e,r,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8):L(this,e,r,!0),r+2},u.prototype.writeUInt16BE=function t(e,r,n){return e=+e,r|=0,n||U(this,e,r,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=255&e):L(this,e,r,!1),r+2},u.prototype.writeUInt32LE=function t(e,r,n){return e=+e,r|=0,n||U(this,e,r,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=255&e):B(this,e,r,!0),r+4},u.prototype.writeUInt32BE=function t(e,r,n){return e=+e,r|=0,n||U(this,e,r,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e):B(this,e,r,!1),r+4},u.prototype.writeIntLE=function t(e,r,n,i){if(e=+e,r|=0,!i){var o=Math.pow(2,8*n-1);U(this,e,r,n,o-1,-o)}var s=0,a=1,u=0;for(this[r]=255&e;++s<n&&(a*=256);)e<0&&0===u&&0!==this[r+s-1]&&(u=1),this[r+s]=(e/a>>0)-u&255;return r+n},u.prototype.writeIntBE=function t(e,r,n,i){if(e=+e,r|=0,!i){var o=Math.pow(2,8*n-1);U(this,e,r,n,o-1,-o)}var s=n-1,a=1,u=0;for(this[r+s]=255&e;--s>=0&&(a*=256);)e<0&&0===u&&0!==this[r+s+1]&&(u=1),this[r+s]=(e/a>>0)-u&255;return r+n},u.prototype.writeInt8=function t(e,r,n){return e=+e,r|=0,n||U(this,e,r,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=255&e,r+1},u.prototype.writeInt16LE=function t(e,r,n){return e=+e,r|=0,n||U(this,e,r,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8):L(this,e,r,!0),r+2},u.prototype.writeInt16BE=function t(e,r,n){return e=+e,r|=0,n||U(this,e,r,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=255&e):L(this,e,r,!1),r+2},u.prototype.writeInt32LE=function t(e,r,n){return e=+e,r|=0,n||U(this,e,r,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):B(this,e,r,!0),r+4},u.prototype.writeInt32BE=function t(e,r,n){return e=+e,r|=0,n||U(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e):B(this,e,r,!1),r+4},u.prototype.writeFloatLE=function t(e,r,n){return O(this,e,r,!0,n)},u.prototype.writeFloatBE=function t(e,r,n){return O(this,e,r,!1,n)},u.prototype.writeDoubleLE=function t(e,r,n){return j(this,e,r,!0,n)},u.prototype.writeDoubleBE=function t(e,r,n){return j(this,e,r,!1,n)},u.prototype.copy=function t(e,r,n,i){if(n||(n=0),i||0===i||(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(r<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(i<0)throw new RangeError(\"sourceEnd out of bounds\");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var o,s=i-n;if(this===e&&n<r&&r<i)for(o=s-1;o>=0;--o)e[o+r]=this[o+n];else if(s<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+r]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),r);return s},u.prototype.fill=function t(e,r,n,i){if(\"string\"==typeof e){if(\"string\"==typeof r?(i=r,r=0,n=this.length):\"string\"==typeof n&&(i=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&\"string\"!=typeof i)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof i&&!u.isEncoding(i))throw new TypeError(\"Unknown encoding: \"+i)}else\"number\"==typeof e&&(e&=255);if(r<0||this.length<r||this.length<n)throw new RangeError(\"Out of range index\");if(n<=r)return this;var s;if(r>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),\"number\"==typeof e)for(s=r;s<n;++s)this[s]=e;else{var a=u.isBuffer(e)?e:K(new u(e,i).toString()),c=a.length;for(s=0;s<n-r;++s)this[s+r]=a[s%c]}return this};var H=/[^+\\/0-9A-Za-z-_]/g;function M(t){return t<16?\"0\"+t.toString(16):t.toString(16)}function K(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error(\"Invalid code point\");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function V(t){return n.toByteArray(function e(t){if((t=function e(t){return t.trim?t.trim():t.replace(/^\\s+|\\s+$/g,\"\")}(t).replace(H,\"\")).length<2)return\"\";for(;t.length%4!=0;)t+=\"=\";return t}(t))}function q(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(28))},function(t,e){var r;r=function(){return this}();try{r=r||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(r=window)}t.exports=r},function(t,e,r){\"use strict\";e.byteLength=function n(t){var e=f(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function i(t){for(var e,r=f(t),n=r[0],i=r[1],o=new u(function s(t,e,r){return 3*(e+r)/4-r}(0,n,i)),c=0,h=i>0?n-4:n,l=0;l<h;l+=4)e=a[t.charCodeAt(l)]<<18|a[t.charCodeAt(l+1)]<<12|a[t.charCodeAt(l+2)]<<6|a[t.charCodeAt(l+3)],o[c++]=e>>16&255,o[c++]=e>>8&255,o[c++]=255&e;2===i&&(e=a[t.charCodeAt(l)]<<2|a[t.charCodeAt(l+1)]>>4,o[c++]=255&e);1===i&&(e=a[t.charCodeAt(l)]<<10|a[t.charCodeAt(l+1)]<<4|a[t.charCodeAt(l+2)]>>2,o[c++]=e>>8&255,o[c++]=255&e);return o},e.fromByteArray=function o(t){for(var e,r=t.length,n=r%3,i=[],o=0,a=r-n;o<a;o+=16383)i.push(d(t,o,o+16383>a?a:o+16383));1===n?(e=t[r-1],i.push(s[e>>2]+s[e<<4&63]+\"==\")):2===n&&(e=(t[r-2]<<8)+t[r-1],i.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+\"=\"));return i.join(\"\")};for(var s=[],a=[],u=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,c=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",h=0,l=c.length;h<l;++h)s[h]=c[h],a[c.charCodeAt(h)]=h;function f(t){var e=t.length;if(e%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var r=t.indexOf(\"=\");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function d(t,e,r){for(var n,i,o=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(s[(i=n)>>18&63]+s[i>>12&63]+s[i>>6&63]+s[63&i]);return o.join(\"\")}a[\"-\".charCodeAt(0)]=62,a[\"_\".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,h=-7,l=r?i-1:0,f=r?-1:1,d=t[e+l];for(l+=f,o=d&(1<<-h)-1,d>>=-h,h+=a;h>0;o=256*o+t[e+l],l+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=256*s+t[e+l],l+=f,h-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=c}return(d?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,h=(1<<c)-1,l=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,g=n?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+l>=1?f/u:f*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(e*u-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[r+d]=255&a,d+=g,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+d]=255&s,d+=g,s/=256,c-=8);t[r+d-g]|=128*p}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return\"[object Array]\"==r.call(t)}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function n(t){var e=t.jws,r=t.KeyUtil,n=t.X509,o=t.crypto,s=t.hextob64u,a=t.b64tohex,u=t.AllowedSigningAlgs;return function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t.parseJwt=function t(r){i.Log.debug(\"JoseUtil.parseJwt\");try{var n=e.JWS.parse(r);return{header:n.headerObj,payload:n.payloadObj}}catch(t){i.Log.error(t)}},t.validateJwt=function e(o,s,u,c,h,l,f){i.Log.debug(\"JoseUtil.validateJwt\");try{if(\"RSA\"===s.kty)if(s.e&&s.n)s=r.getKey(s);else{if(!s.x5c||!s.x5c.length)return i.Log.error(\"JoseUtil.validateJwt: RSA key missing key material\",s),Promise.reject(new Error(\"RSA key missing key material\"));var d=a(s.x5c[0]);s=n.getPublicKeyFromCertHex(d)}else{if(\"EC\"!==s.kty)return i.Log.error(\"JoseUtil.validateJwt: Unsupported key type\",s&&s.kty),Promise.reject(new Error(s.kty));if(!(s.crv&&s.x&&s.y))return i.Log.error(\"JoseUtil.validateJwt: EC key missing key material\",s),Promise.reject(new Error(\"EC key missing key material\"));s=r.getKey(s)}return t._validateJwt(o,s,u,c,h,l,f)}catch(t){return i.Log.error(t&&t.message||t),Promise.reject(\"JWT validation failed\")}},t.validateJwtAttributes=function e(r,n,o,s,a,u){s||(s=0),a||(a=parseInt(Date.now()/1e3));var c=t.parseJwt(r).payload;if(!c.iss)return i.Log.error(\"JoseUtil._validateJwt: issuer was not provided\"),Promise.reject(new Error(\"issuer was not provided\"));if(c.iss!==n)return i.Log.error(\"JoseUtil._validateJwt: Invalid issuer in token\",c.iss),Promise.reject(new Error(\"Invalid issuer in token: \"+c.iss));if(!c.aud)return i.Log.error(\"JoseUtil._validateJwt: aud was not provided\"),Promise.reject(new Error(\"aud was not provided\"));var h=c.aud===o||Array.isArray(c.aud)&&c.aud.indexOf(o)>=0;if(!h)return i.Log.error(\"JoseUtil._validateJwt: Invalid audience in token\",c.aud),Promise.reject(new Error(\"Invalid audience in token: \"+c.aud));if(c.azp&&c.azp!==o)return i.Log.error(\"JoseUtil._validateJwt: Invalid azp in token\",c.azp),Promise.reject(new Error(\"Invalid azp in token: \"+c.azp));if(!u){var l=a+s,f=a-s;if(!c.iat)return i.Log.error(\"JoseUtil._validateJwt: iat was not provided\"),Promise.reject(new Error(\"iat was not provided\"));if(l<c.iat)return i.Log.error(\"JoseUtil._validateJwt: iat is in the future\",c.iat),Promise.reject(new Error(\"iat is in the future: \"+c.iat));if(c.nbf&&l<c.nbf)return i.Log.error(\"JoseUtil._validateJwt: nbf is in the future\",c.nbf),Promise.reject(new Error(\"nbf is in the future: \"+c.nbf));if(!c.exp)return i.Log.error(\"JoseUtil._validateJwt: exp was not provided\"),Promise.reject(new Error(\"exp was not provided\"));if(c.exp<f)return i.Log.error(\"JoseUtil._validateJwt: exp is in the past\",c.exp),Promise.reject(new Error(\"exp is in the past:\"+c.exp))}return Promise.resolve(c)},t._validateJwt=function r(n,o,s,a,c,h,l){return t.validateJwtAttributes(n,s,a,c,h,l).then(function(t){try{return e.JWS.verify(n,o,u)?t:(i.Log.error(\"JoseUtil._validateJwt: signature validation failed\"),Promise.reject(new Error(\"signature validation failed\")))}catch(t){return i.Log.error(t&&t.message||t),Promise.reject(new Error(\"signature validation failed\"))}})},t.hashString=function t(e,r){try{return o.Util.hashString(e,r)}catch(t){i.Log.error(t)}},t.hexToBase64Url=function t(e){try{return s(e)}catch(t){i.Log.error(t)}},t}()};var i=r(0);t.exports=e.default},function(t,e,r){var n=r(34),i=r(35);t.exports=function o(t,e,r){var o=e&&r||0;\"string\"==typeof t&&(e=\"binary\"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[o+a]=s[a];return e||i(s)}},function(t,e){var r=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!=typeof msCrypto&&\"function\"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);t.exports=function t(){return r(n),n}}else{var i=new Array(16);t.exports=function t(){for(var e,r=0;r<16;r++)0==(3&r)&&(e=4294967296*Math.random()),i[r]=e>>>((3&r)<<3)&255;return i}}},function(t,e){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);t.exports=function i(t,e){var n=e||0,i=r;return[i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],\"-\",i[t[n++]],i[t[n++]],\"-\",i[t[n++]],i[t[n++]],\"-\",i[t[n++]],i[t[n++]],\"-\",i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]]].join(\"\")}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.SigninResponse=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(3);e.SigninResponse=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"#\";!function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var o=i.UrlUtility.parseUrlFragment(e,r);this.error=o.error,this.error_description=o.error_description,this.error_uri=o.error_uri,this.code=o.code,this.state=o.state,this.id_token=o.id_token,this.session_state=o.session_state,this.access_token=o.access_token,this.token_type=o.token_type,this.scope=o.scope,this.profile=void 0,this.expires_in=o.expires_in}return n(t,[{key:\"expires_in\",get:function t(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function t(e){var r=parseInt(e);if(\"number\"==typeof r&&r>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+r}}},{key:\"expired\",get:function t(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:\"scopes\",get:function t(){return(this.scope||\"\").split(\" \")}},{key:\"isOpenIdConnect\",get:function t(){return this.scopes.indexOf(\"openid\")>=0||!!this.id_token}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.SignoutRequest=void 0;var n=r(0),i=r(3),o=r(8);e.SignoutRequest=function t(e){var r=e.url,s=e.id_token_hint,a=e.post_logout_redirect_uri,u=e.data,c=e.extraQueryParams,h=e.request_type;if(function l(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),!r)throw n.Log.error(\"SignoutRequest.ctor: No url passed\"),new Error(\"url\");for(var f in s&&(r=i.UrlUtility.addQueryParam(r,\"id_token_hint\",s)),a&&(r=i.UrlUtility.addQueryParam(r,\"post_logout_redirect_uri\",a),u&&(this.state=new o.State({data:u,request_type:h}),r=i.UrlUtility.addQueryParam(r,\"state\",this.state.id))),c)r=i.UrlUtility.addQueryParam(r,f,c[f]);this.url=r}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.SignoutResponse=void 0;var n=r(3);e.SignoutResponse=function t(e){!function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var i=n.UrlUtility.parseUrlFragment(e,\"?\");this.error=i.error,this.error_description=i.error_description,this.error_uri=i.error_uri,this.state=i.state}},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.InMemoryWebStorage=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);e.InMemoryWebStorage=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._data={}}return t.prototype.getItem=function t(e){return i.Log.debug(\"InMemoryWebStorage.getItem\",e),this._data[e]},t.prototype.setItem=function t(e,r){i.Log.debug(\"InMemoryWebStorage.setItem\",e),this._data[e]=r},t.prototype.removeItem=function t(e){i.Log.debug(\"InMemoryWebStorage.removeItem\",e),delete this._data[e]},t.prototype.key=function t(e){return Object.getOwnPropertyNames(this._data)[e]},n(t,[{key:\"length\",get:function t(){return Object.getOwnPropertyNames(this._data).length}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.UserManager=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(9),s=r(41),a=r(15),u=r(47),c=r(49),h=r(18),l=r(20),f=r(10),d=r(4);e.UserManager=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.SilentRenewService,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.SessionMonitor,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.TokenRevocationClient,g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:f.TokenClient,p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:d.JoseUtil;!function v(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),r instanceof s.UserManagerSettings||(r=new s.UserManagerSettings(r));var y=function m(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,r));return y._events=new u.UserManagerEvents(r),y._silentRenewService=new n(y),y.settings.automaticSilentRenew&&(i.Log.debug(\"UserManager.ctor: automaticSilentRenew is configured, setting up silent renew\"),y.startSilentRenew()),y.settings.monitorSession&&(i.Log.debug(\"UserManager.ctor: monitorSession is configured, setting up session monitor\"),y._sessionMonitor=new o(y)),y._tokenRevocationClient=new a(y._settings),y._tokenClient=new g(y._settings),y._joseUtil=p,y}return function r(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getUser=function t(){var e=this;return this._loadUser().then(function(t){return t?(i.Log.info(\"UserManager.getUser: user loaded\"),e._events.load(t,!1),t):(i.Log.info(\"UserManager.getUser: user not found in storage\"),null)})},e.prototype.removeUser=function t(){var e=this;return this.storeUser(null).then(function(){i.Log.info(\"UserManager.removeUser: user removed from storage\"),e._events.unload()})},e.prototype.signinRedirect=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type=\"si:r\";var r={useReplaceToNavigate:e.useReplaceToNavigate};return this._signinStart(e,this._redirectNavigator,r).then(function(){i.Log.info(\"UserManager.signinRedirect: successful\")})},e.prototype.signinRedirectCallback=function t(e){return this._signinEnd(e||this._redirectNavigator.url).then(function(t){return t.profile&&t.profile.sub?i.Log.info(\"UserManager.signinRedirectCallback: successful, signed in sub: \",t.profile.sub):i.Log.info(\"UserManager.signinRedirectCallback: no sub\"),t})},e.prototype.signinPopup=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type=\"si:p\";var r=e.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return r?(e.redirect_uri=r,e.display=\"popup\",this._signin(e,this._popupNavigator,{startUrl:r,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then(function(t){return t&&(t.profile&&t.profile.sub?i.Log.info(\"UserManager.signinPopup: signinPopup successful, signed in sub: \",t.profile.sub):i.Log.info(\"UserManager.signinPopup: no sub\")),t})):(i.Log.error(\"UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured\"),Promise.reject(new Error(\"No popup_redirect_uri or redirect_uri configured\")))},e.prototype.signinPopupCallback=function t(e){return this._signinCallback(e,this._popupNavigator).then(function(t){return t&&(t.profile&&t.profile.sub?i.Log.info(\"UserManager.signinPopupCallback: successful, signed in sub: \",t.profile.sub):i.Log.info(\"UserManager.signinPopupCallback: no sub\")),t}).catch(function(t){i.Log.error(t.message)})},e.prototype.signinSilent=function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(r=Object.assign({},r)).request_type=\"si:s\",this._loadUser().then(function(t){return t&&t.refresh_token?(r.refresh_token=t.refresh_token,e._useRefreshToken(r)):(r.id_token_hint=r.id_token_hint||e.settings.includeIdTokenInSilentRenew&&t&&t.id_token,t&&e._settings.validateSubOnSilentRenew&&(i.Log.debug(\"UserManager.signinSilent, subject prior to silent renew: \",t.profile.sub),r.current_sub=t.profile.sub),e._signinSilentIframe(r))})},e.prototype._useRefreshToken=function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(r).then(function(t){return t?t.access_token?e._loadUser().then(function(r){if(r){var n=Promise.resolve();return t.id_token&&(n=e._validateIdTokenFromTokenRefreshToken(r.profile,t.id_token)),n.then(function(){return i.Log.debug(\"UserManager._useRefreshToken: refresh token response success\"),r.id_token=t.id_token,r.access_token=t.access_token,r.refresh_token=t.refresh_token||r.refresh_token,r.expires_in=t.expires_in,e.storeUser(r).then(function(){return e._events.load(r),r})})}return null}):(i.Log.error(\"UserManager._useRefreshToken: No access token returned from token endpoint\"),Promise.reject(\"No access token returned from token endpoint\")):(i.Log.error(\"UserManager._useRefreshToken: No response returned from token endpoint\"),Promise.reject(\"No response returned from token endpoint\"))})},e.prototype._validateIdTokenFromTokenRefreshToken=function t(e,r){var n=this;return this._metadataService.getIssuer().then(function(t){return n._joseUtil.validateJwtAttributes(r,t,n._settings.client_id,n._settings.clockSkew).then(function(t){return t?t.sub!==e.sub?(i.Log.error(\"UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub\"),Promise.reject(new Error(\"sub in id_token does not match current sub\"))):t.auth_time&&t.auth_time!==e.auth_time?(i.Log.error(\"UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time\"),Promise.reject(new Error(\"auth_time in id_token does not match original auth_time\"))):t.azp&&t.azp!==e.azp?(i.Log.error(\"UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp\"),Promise.reject(new Error(\"azp in id_token does not match original azp\"))):!t.azp&&e.azp?(i.Log.error(\"UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token\"),Promise.reject(new Error(\"azp not in id_token, but present in original id_token\"))):void 0:(i.Log.error(\"UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token\"),Promise.reject(new Error(\"Failed to validate id_token\")))})})},e.prototype._signinSilentIframe=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return r?(e.redirect_uri=r,e.prompt=e.prompt||\"none\",this._signin(e,this._iframeNavigator,{startUrl:r,silentRequestTimeout:e.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(t){return t&&(t.profile&&t.profile.sub?i.Log.info(\"UserManager.signinSilent: successful, signed in sub: \",t.profile.sub):i.Log.info(\"UserManager.signinSilent: no sub\")),t})):(i.Log.error(\"UserManager.signinSilent: No silent_redirect_uri configured\"),Promise.reject(new Error(\"No silent_redirect_uri configured\")))},e.prototype.signinSilentCallback=function t(e){return this._signinCallback(e,this._iframeNavigator).then(function(t){return t&&(t.profile&&t.profile.sub?i.Log.info(\"UserManager.signinSilentCallback: successful, signed in sub: \",t.profile.sub):i.Log.info(\"UserManager.signinSilentCallback: no sub\")),t})},e.prototype.signinCallback=function t(e){var r=this;return this.readSigninResponseState(e).then(function(t){var n=t.state;t.response;return\"si:r\"===n.request_type?r.signinRedirectCallback(e):\"si:p\"===n.request_type?r.signinPopupCallback(e):\"si:s\"===n.request_type?r.signinSilentCallback(e):Promise.reject(new Error(\"invalid response_type in state\"))})},e.prototype.signoutCallback=function t(e,r){var n=this;return this.readSignoutResponseState(e).then(function(t){var i=t.state,o=t.response;return i?\"so:r\"===i.request_type?n.signoutRedirectCallback(e):\"so:p\"===i.request_type?n.signoutPopupCallback(e,r):Promise.reject(new Error(\"invalid response_type in state\")):o})},e.prototype.querySessionStatus=function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(r=Object.assign({},r)).request_type=\"si:s\";var n=r.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return n?(r.redirect_uri=n,r.prompt=\"none\",r.response_type=r.response_type||this.settings.query_status_response_type,r.scope=r.scope||\"openid\",r.skipUserInfo=!0,this._signinStart(r,this._iframeNavigator,{startUrl:n,silentRequestTimeout:r.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(t){return e.processSigninResponse(t.url).then(function(t){if(i.Log.debug(\"UserManager.querySessionStatus: got signin response\"),t.session_state&&t.profile.sub)return i.Log.info(\"UserManager.querySessionStatus: querySessionStatus success for sub: \",t.profile.sub),{session_state:t.session_state,sub:t.profile.sub,sid:t.profile.sid};i.Log.info(\"querySessionStatus successful, user not authenticated\")}).catch(function(t){if(t.session_state&&e.settings.monitorAnonymousSession&&(\"login_required\"==t.message||\"consent_required\"==t.message||\"interaction_required\"==t.message||\"account_selection_required\"==t.message))return i.Log.info(\"UserManager.querySessionStatus: querySessionStatus success for anonymous user\"),{session_state:t.session_state};throw t})})):(i.Log.error(\"UserManager.querySessionStatus: No silent_redirect_uri configured\"),Promise.reject(new Error(\"No silent_redirect_uri configured\")))},e.prototype._signin=function t(e,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signinStart(e,r,i).then(function(t){return n._signinEnd(t.url,e)})},e.prototype._signinStart=function t(e,r){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.prepare(o).then(function(t){return i.Log.debug(\"UserManager._signinStart: got navigator window handle\"),n.createSigninRequest(e).then(function(e){return i.Log.debug(\"UserManager._signinStart: got signin request\"),o.url=e.url,o.id=e.state.id,t.navigate(o)}).catch(function(e){throw t.close&&(i.Log.debug(\"UserManager._signinStart: Error after preparing navigator, closing navigator window\"),t.close()),e})})},e.prototype._signinEnd=function t(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(e).then(function(t){i.Log.debug(\"UserManager._signinEnd: got signin response\");var e=new a.User(t);if(n.current_sub){if(n.current_sub!==e.profile.sub)return i.Log.debug(\"UserManager._signinEnd: current user does not match user returned from signin. sub from signin: \",e.profile.sub),Promise.reject(new Error(\"login_required\"));i.Log.debug(\"UserManager._signinEnd: current user matches user returned from signin\")}return r.storeUser(e).then(function(){return i.Log.debug(\"UserManager._signinEnd: user stored\"),r._events.load(e),e})})},e.prototype._signinCallback=function t(e,r){return i.Log.debug(\"UserManager._signinCallback\"),r.callback(e)},e.prototype.signoutRedirect=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type=\"so:r\";var r=e.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;r&&(e.post_logout_redirect_uri=r);var n={useReplaceToNavigate:e.useReplaceToNavigate};return this._signoutStart(e,this._redirectNavigator,n).then(function(){i.Log.info(\"UserManager.signoutRedirect: successful\")})},e.prototype.signoutRedirectCallback=function t(e){return this._signoutEnd(e||this._redirectNavigator.url).then(function(t){return i.Log.info(\"UserManager.signoutRedirectCallback: successful\"),t})},e.prototype.signoutPopup=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type=\"so:p\";var r=e.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return e.post_logout_redirect_uri=r,e.display=\"popup\",e.post_logout_redirect_uri&&(e.state=e.state||{}),this._signout(e,this._popupNavigator,{startUrl:r,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){i.Log.info(\"UserManager.signoutPopup: successful\")})},e.prototype.signoutPopupCallback=function t(e,r){void 0===r&&\"boolean\"==typeof e&&(r=e,e=null);return this._popupNavigator.callback(e,r,\"?\").then(function(){i.Log.info(\"UserManager.signoutPopupCallback: successful\")})},e.prototype._signout=function t(e,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signoutStart(e,r,i).then(function(t){return n._signoutEnd(t.url)})},e.prototype._signoutStart=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this,n=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.prepare(o).then(function(t){return i.Log.debug(\"UserManager._signoutStart: got navigator window handle\"),r._loadUser().then(function(n){return i.Log.debug(\"UserManager._signoutStart: loaded current user from storage\"),(r._settings.revokeAccessTokenOnSignout?r._revokeInternal(n):Promise.resolve()).then(function(){var s=e.id_token_hint||n&&n.id_token;return s&&(i.Log.debug(\"UserManager._signoutStart: Setting id_token into signout request\"),e.id_token_hint=s),r.removeUser().then(function(){return i.Log.debug(\"UserManager._signoutStart: user removed, creating signout request\"),r.createSignoutRequest(e).then(function(e){return i.Log.debug(\"UserManager._signoutStart: got signout request\"),o.url=e.url,e.state&&(o.id=e.state.id),t.navigate(o)})})})}).catch(function(e){throw t.close&&(i.Log.debug(\"UserManager._signoutStart: Error after preparing navigator, closing navigator window\"),t.close()),e})})},e.prototype._signoutEnd=function t(e){return this.processSignoutResponse(e).then(function(t){return i.Log.debug(\"UserManager._signoutEnd: got signout response\"),t})},e.prototype.revokeAccessToken=function t(){var e=this;return this._loadUser().then(function(t){return e._revokeInternal(t,!0).then(function(r){if(r)return i.Log.debug(\"UserManager.revokeAccessToken: removing token properties from user and re-storing\"),t.access_token=null,t.refresh_token=null,t.expires_at=null,t.token_type=null,e.storeUser(t).then(function(){i.Log.debug(\"UserManager.revokeAccessToken: user stored\"),e._events.load(t)})})}).then(function(){i.Log.info(\"UserManager.revokeAccessToken: access token revoked successfully\")})},e.prototype._revokeInternal=function t(e,r){var n=this;if(e){var o=e.access_token,s=e.refresh_token;return this._revokeAccessTokenInternal(o,r).then(function(t){return n._revokeRefreshTokenInternal(s,r).then(function(e){return t||e||i.Log.debug(\"UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format\"),t||e})})}return Promise.resolve(!1)},e.prototype._revokeAccessTokenInternal=function t(e,r){return!e||e.indexOf(\".\")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(e,r).then(function(){return!0})},e.prototype._revokeRefreshTokenInternal=function t(e,r){return e?this._tokenRevocationClient.revoke(e,r,\"refresh_token\").then(function(){return!0}):Promise.resolve(!1)},e.prototype.startSilentRenew=function t(){this._silentRenewService.start()},e.prototype.stopSilentRenew=function t(){this._silentRenewService.stop()},e.prototype._loadUser=function t(){return this._userStore.get(this._userStoreKey).then(function(t){return t?(i.Log.debug(\"UserManager._loadUser: user storageString loaded\"),a.User.fromStorageString(t)):(i.Log.debug(\"UserManager._loadUser: no user storageString\"),null)})},e.prototype.storeUser=function t(e){if(e){i.Log.debug(\"UserManager.storeUser: storing user\");var r=e.toStorageString();return this._userStore.set(this._userStoreKey,r)}return i.Log.debug(\"storeUser.storeUser: removing user\"),this._userStore.remove(this._userStoreKey)},n(e,[{key:\"_redirectNavigator\",get:function t(){return this.settings.redirectNavigator}},{key:\"_popupNavigator\",get:function t(){return this.settings.popupNavigator}},{key:\"_iframeNavigator\",get:function t(){return this.settings.iframeNavigator}},{key:\"_userStore\",get:function t(){return this.settings.userStore}},{key:\"events\",get:function t(){return this._events}},{key:\"_userStoreKey\",get:function t(){return\"user:\"+this.settings.authority+\":\"+this.settings.client_id}}]),e}(o.OidcClient)},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.UserManagerSettings=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=(r(0),r(5)),o=r(42),s=r(43),a=r(45),u=r(6),c=r(1),h=r(12);var l=60,f=2e3;e.UserManagerSettings=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.popup_redirect_uri,i=r.popup_post_logout_redirect_uri,d=r.popupWindowFeatures,g=r.popupWindowTarget,p=r.silent_redirect_uri,v=r.silentRequestTimeout,y=r.automaticSilentRenew,m=void 0!==y&&y,_=r.validateSubOnSilentRenew,S=void 0!==_&&_,F=r.includeIdTokenInSilentRenew,b=void 0===F||F,w=r.monitorSession,E=void 0===w||w,x=r.monitorAnonymousSession,k=void 0!==x&&x,A=r.checkSessionInterval,P=void 0===A?f:A,C=r.stopCheckSessionOnError,T=void 0===C||C,R=r.query_status_response_type,I=r.revokeAccessTokenOnSignout,D=void 0!==I&&I,U=r.accessTokenExpiringNotificationTime,L=void 0===U?l:U,B=r.redirectNavigator,N=void 0===B?new o.RedirectNavigator:B,O=r.popupNavigator,j=void 0===O?new s.PopupNavigator:O,H=r.iframeNavigator,M=void 0===H?new a.IFrameNavigator:H,K=r.userStore,V=void 0===K?new u.WebStorageStateStore({store:c.Global.sessionStorage}):K;!function q(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var J=function W(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,arguments[0]));return J._popup_redirect_uri=n,J._popup_post_logout_redirect_uri=i,J._popupWindowFeatures=d,J._popupWindowTarget=g,J._silent_redirect_uri=p,J._silentRequestTimeout=v,J._automaticSilentRenew=m,J._validateSubOnSilentRenew=S,J._includeIdTokenInSilentRenew=b,J._accessTokenExpiringNotificationTime=L,J._monitorSession=E,J._monitorAnonymousSession=k,J._checkSessionInterval=P,J._stopCheckSessionOnError=T,R?J._query_status_response_type=R:arguments[0]&&arguments[0].response_type?J._query_status_response_type=h.SigninRequest.isOidc(arguments[0].response_type)?\"id_token\":\"code\":J._query_status_response_type=\"id_token\",J._revokeAccessTokenOnSignout=D,J._redirectNavigator=N,J._popupNavigator=j,J._iframeNavigator=M,J._userStore=V,J}return function r(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:\"popup_redirect_uri\",get:function t(){return this._popup_redirect_uri}},{key:\"popup_post_logout_redirect_uri\",get:function t(){return this._popup_post_logout_redirect_uri}},{key:\"popupWindowFeatures\",get:function t(){return this._popupWindowFeatures}},{key:\"popupWindowTarget\",get:function t(){return this._popupWindowTarget}},{key:\"silent_redirect_uri\",get:function t(){return this._silent_redirect_uri}},{key:\"silentRequestTimeout\",get:function t(){return this._silentRequestTimeout}},{key:\"automaticSilentRenew\",get:function t(){return this._automaticSilentRenew}},{key:\"validateSubOnSilentRenew\",get:function t(){return this._validateSubOnSilentRenew}},{key:\"includeIdTokenInSilentRenew\",get:function t(){return this._includeIdTokenInSilentRenew}},{key:\"accessTokenExpiringNotificationTime\",get:function t(){return this._accessTokenExpiringNotificationTime}},{key:\"monitorSession\",get:function t(){return this._monitorSession}},{key:\"monitorAnonymousSession\",get:function t(){return this._monitorAnonymousSession}},{key:\"checkSessionInterval\",get:function t(){return this._checkSessionInterval}},{key:\"stopCheckSessionOnError\",get:function t(){return this._stopCheckSessionOnError}},{key:\"query_status_response_type\",get:function t(){return this._query_status_response_type}},{key:\"revokeAccessTokenOnSignout\",get:function t(){return this._revokeAccessTokenOnSignout}},{key:\"redirectNavigator\",get:function t(){return this._redirectNavigator}},{key:\"popupNavigator\",get:function t(){return this._popupNavigator}},{key:\"iframeNavigator\",get:function t(){return this._iframeNavigator}},{key:\"userStore\",get:function t(){return this._userStore}}]),e}(i.OidcClientSettings)},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.RedirectNavigator=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);e.RedirectNavigator=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t.prototype.prepare=function t(){return Promise.resolve(this)},t.prototype.navigate=function t(e){return e&&e.url?(e.useReplaceToNavigate?window.location.replace(e.url):window.location=e.url,Promise.resolve()):(i.Log.error(\"RedirectNavigator.navigate: No url provided\"),Promise.reject(new Error(\"No url provided\")))},n(t,[{key:\"url\",get:function t(){return window.location.href}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.PopupNavigator=void 0;var n=r(0),i=r(44);e.PopupNavigator=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t.prototype.prepare=function t(e){var r=new i.PopupWindow(e);return Promise.resolve(r)},t.prototype.callback=function t(e,r,o){n.Log.debug(\"PopupNavigator.callback\");try{return i.PopupWindow.notifyOpener(e,r,o),Promise.resolve()}catch(t){return Promise.reject(t)}},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.PopupWindow=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(3);var s=500,a=\"location=no,toolbar=no,width=500,height=500,left=100,top=100;\",u=\"_blank\";e.PopupWindow=function(){function t(e){var r=this;!function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e});var o=e.popupWindowTarget||u,c=e.popupWindowFeatures||a;this._popup=window.open(\"\",o,c),this._popup&&(i.Log.debug(\"PopupWindow.ctor: popup successfully created\"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),s))}return t.prototype.navigate=function t(e){return this._popup?e&&e.url?(i.Log.debug(\"PopupWindow.navigate: Setting URL in popup\"),this._id=e.id,this._id&&(window[\"popupCallback_\"+e.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=e.url):(this._error(\"PopupWindow.navigate: no url provided\"),this._error(\"No url provided\")):this._error(\"PopupWindow.navigate: Error opening popup window\"),this.promise},t.prototype._success=function t(e){i.Log.debug(\"PopupWindow.callback: Successful response from popup window\"),this._cleanup(),this._resolve(e)},t.prototype._error=function t(e){i.Log.error(\"PopupWindow.error: \",e),this._cleanup(),this._reject(new Error(e))},t.prototype.close=function t(){this._cleanup(!1)},t.prototype._cleanup=function t(e){i.Log.debug(\"PopupWindow.cleanup\"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window[\"popupCallback_\"+this._id],this._popup&&!e&&this._popup.close(),this._popup=null},t.prototype._checkForPopupClosed=function t(){this._popup&&!this._popup.closed||this._error(\"Popup window closed\")},t.prototype._callback=function t(e,r){this._cleanup(r),e?(i.Log.debug(\"PopupWindow.callback success\"),this._success({url:e})):(i.Log.debug(\"PopupWindow.callback: Invalid response from popup\"),this._error(\"Invalid response from popup\"))},t.notifyOpener=function t(e,r,n){if(window.opener){if(e=e||window.location.href){var s=o.UrlUtility.parseUrlFragment(e,n);if(s.state){var a=\"popupCallback_\"+s.state,u=window.opener[a];u?(i.Log.debug(\"PopupWindow.notifyOpener: passing url message to opener\"),u(e,r)):i.Log.warn(\"PopupWindow.notifyOpener: no matching callback found on opener\")}else i.Log.warn(\"PopupWindow.notifyOpener: no state found in response url\")}}else i.Log.warn(\"PopupWindow.notifyOpener: no window.opener. Can't complete notification.\")},n(t,[{key:\"promise\",get:function t(){return this._promise}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.IFrameNavigator=void 0;var n=r(0),i=r(46);e.IFrameNavigator=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t.prototype.prepare=function t(e){var r=new i.IFrameWindow(e);return Promise.resolve(r)},t.prototype.callback=function t(e){n.Log.debug(\"IFrameNavigator.callback\");try{return i.IFrameWindow.notifyParent(e),Promise.resolve()}catch(t){return Promise.reject(t)}},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.IFrameWindow=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0);e.IFrameWindow=function(){function t(e){var r=this;!function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e}),this._boundMessageEvent=this._message.bind(this),window.addEventListener(\"message\",this._boundMessageEvent,!1),this._frame=window.document.createElement(\"iframe\"),this._frame.style.visibility=\"hidden\",this._frame.style.position=\"absolute\",this._frame.style.display=\"none\",this._frame.style.width=0,this._frame.style.height=0,window.document.body.appendChild(this._frame)}return t.prototype.navigate=function t(e){if(e&&e.url){var r=e.silentRequestTimeout||1e4;i.Log.debug(\"IFrameWindow.navigate: Using timeout of:\",r),this._timer=window.setTimeout(this._timeout.bind(this),r),this._frame.src=e.url}else this._error(\"No url provided\");return this.promise},t.prototype._success=function t(e){this._cleanup(),i.Log.debug(\"IFrameWindow: Successful response from frame window\"),this._resolve(e)},t.prototype._error=function t(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},t.prototype.close=function t(){this._cleanup()},t.prototype._cleanup=function t(){this._frame&&(i.Log.debug(\"IFrameWindow: cleanup\"),window.removeEventListener(\"message\",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},t.prototype._timeout=function t(){i.Log.debug(\"IFrameWindow.timeout\"),this._error(\"Frame window timed out\")},t.prototype._message=function t(e){if(i.Log.debug(\"IFrameWindow.message\"),this._timer&&e.origin===this._origin&&e.source===this._frame.contentWindow){var r=e.data;r?this._success({url:r}):this._error(\"Invalid response from frame\")}},t.notifyParent=function t(e){i.Log.debug(\"IFrameWindow.notifyParent\"),window.frameElement&&(e=e||window.location.href)&&(i.Log.debug(\"IFrameWindow.notifyParent: posting url message to parent\"),window.parent.postMessage(e,location.protocol+\"//\"+location.host))},n(t,[{key:\"promise\",get:function t(){return this._promise}},{key:\"_origin\",get:function t(){return location.protocol+\"//\"+location.host}}]),t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.UserManagerEvents=void 0;var n=r(0),i=r(16),o=r(17);e.UserManagerEvents=function(t){function e(r){!function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var i=function s(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,r));return i._userLoaded=new o.Event(\"User loaded\"),i._userUnloaded=new o.Event(\"User unloaded\"),i._silentRenewError=new o.Event(\"Silent renew error\"),i._userSignedIn=new o.Event(\"User signed in\"),i._userSignedOut=new o.Event(\"User signed out\"),i._userSessionChanged=new o.Event(\"User session changed\"),i}return function r(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.load=function e(r){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.Log.debug(\"UserManagerEvents.load\"),t.prototype.load.call(this,r),i&&this._userLoaded.raise(r)},e.prototype.unload=function e(){n.Log.debug(\"UserManagerEvents.unload\"),t.prototype.unload.call(this),this._userUnloaded.raise()},e.prototype.addUserLoaded=function t(e){this._userLoaded.addHandler(e)},e.prototype.removeUserLoaded=function t(e){this._userLoaded.removeHandler(e)},e.prototype.addUserUnloaded=function t(e){this._userUnloaded.addHandler(e)},e.prototype.removeUserUnloaded=function t(e){this._userUnloaded.removeHandler(e)},e.prototype.addSilentRenewError=function t(e){this._silentRenewError.addHandler(e)},e.prototype.removeSilentRenewError=function t(e){this._silentRenewError.removeHandler(e)},e.prototype._raiseSilentRenewError=function t(e){n.Log.debug(\"UserManagerEvents._raiseSilentRenewError\",e.message),this._silentRenewError.raise(e)},e.prototype.addUserSignedIn=function t(e){this._userSignedIn.addHandler(e)},e.prototype.removeUserSignedIn=function t(e){this._userSignedIn.removeHandler(e)},e.prototype._raiseUserSignedIn=function t(){n.Log.debug(\"UserManagerEvents._raiseUserSignedIn\"),this._userSignedIn.raise()},e.prototype.addUserSignedOut=function t(e){this._userSignedOut.addHandler(e)},e.prototype.removeUserSignedOut=function t(e){this._userSignedOut.removeHandler(e)},e.prototype._raiseUserSignedOut=function t(){n.Log.debug(\"UserManagerEvents._raiseUserSignedOut\"),this._userSignedOut.raise()},e.prototype.addUserSessionChanged=function t(e){this._userSessionChanged.addHandler(e)},e.prototype.removeUserSessionChanged=function t(e){this._userSessionChanged.removeHandler(e)},e.prototype._raiseUserSessionChanged=function t(){n.Log.debug(\"UserManagerEvents._raiseUserSessionChanged\"),this._userSessionChanged.raise()},e}(i.AccessTokenEvents)},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.Timer=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(1),s=r(17);e.Timer=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.timer,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function s(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);var a=function u(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,t.call(this,r));return a._timer=n,a._nowFunc=i||function(){return Date.now()/1e3},a}return function r(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.init=function t(e){e<=0&&(e=1),e=parseInt(e);var r=this.now+e;if(this.expiration===r&&this._timerHandle)i.Log.debug(\"Timer.init timer \"+this._name+\" skipping initialization since already initialized for expiration:\",this.expiration);else{this.cancel(),i.Log.debug(\"Timer.init timer \"+this._name+\" for duration:\",e),this._expiration=r;var n=5;e<n&&(n=e),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*n)}},e.prototype.cancel=function t(){this._timerHandle&&(i.Log.debug(\"Timer.cancel: \",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},e.prototype._callback=function e(){var r=this._expiration-this.now;i.Log.debug(\"Timer.callback; \"+this._name+\" timer expires in:\",r),this._expiration<=this.now&&(this.cancel(),t.prototype.raise.call(this))},n(e,[{key:\"now\",get:function t(){return parseInt(this._nowFunc())}},{key:\"expiration\",get:function t(){return this._expiration}}]),e}(s.Event)},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.SilentRenewService=void 0;var n=r(0);e.SilentRenewService=function(){function t(e){!function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this._userManager=e}return t.prototype.start=function t(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(t){}).catch(function(t){n.Log.error(\"SilentRenewService.start: Error from getUser:\",t.message)}))},t.prototype.stop=function t(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},t.prototype._tokenExpiring=function t(){var e=this;this._userManager.signinSilent().then(function(t){n.Log.debug(\"SilentRenewService._tokenExpiring: Silent token renewal successful\")},function(t){n.Log.error(\"SilentRenewService._tokenExpiring: Error from signinSilent:\",t.message),e._userManager.events._raiseSilentRenewError(t)})},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.CordovaPopupNavigator=void 0;var n=r(21);e.CordovaPopupNavigator=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t.prototype.prepare=function t(e){var r=new n.CordovaPopupWindow(e);return Promise.resolve(r)},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.CordovaIFrameNavigator=void 0;var n=r(21);e.CordovaIFrameNavigator=function(){function t(){!function e(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,t)}return t.prototype.prepare=function t(e){e.popupWindowFeatures=\"hidden=yes\";var r=new n.CordovaPopupWindow(e);return Promise.resolve(r)},t}()},function(t,e,r){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Version=\"1.10.1\"}])});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2lkYy1jbGllbnQvbGliL29pZGMtY2xpZW50Lm1pbi5qcz9kZDE3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGlCQUFpQixHQUFHLElBQWlELG9CQUFvQixLQUFLLGFBQWlJLENBQUMsaUJBQWlCLG1CQUFtQixTQUFTLGNBQWMsNEJBQTRCLFlBQVkscUJBQXFCLDJEQUEyRCx1Q0FBdUMscUNBQXFDLG9CQUFvQixFQUFFLGlCQUFpQiw0RkFBNEYsZUFBZSx3Q0FBd0MsU0FBUyxFQUFFLG1CQUFtQiw4QkFBOEIscURBQXFELDBCQUEwQiw2Q0FBNkMsc0JBQXNCLDZEQUE2RCxZQUFZLGVBQWUsU0FBUyxpQkFBaUIsbUNBQW1DLGlCQUFpQixjQUFjLFVBQVUsc0JBQXNCLG1CQUFtQixpREFBaUQsa0JBQWtCLGtCQUFrQixhQUFhLHNDQUFzQyxTQUFTLEVBQUUsaUJBQWlCLGdCQUFnQixZQUFZLFdBQVcsS0FBSyxXQUFXLCtHQUErRyx1QkFBdUIsd0NBQXdDLEdBQUcsT0FBTyxvQkFBb0Isb0JBQW9CLG9CQUFvQixzQkFBc0IsbUJBQW1CLGtCQUFrQixhQUFhLGlCQUFpQiw4RUFBOEUsU0FBUyw0QkFBNEIsUUFBUSxzQkFBc0IsU0FBUywwQ0FBMEMsSUFBSSxzQkFBc0IsZ0NBQWdDLHFCQUFxQixTQUFTLDBDQUEwQyxJQUFJLHNCQUFzQiwrQkFBK0IscUJBQXFCLFNBQVMsMENBQTBDLElBQUksc0JBQXNCLCtCQUErQixzQkFBc0IsU0FBUywwQ0FBMEMsSUFBSSxzQkFBc0IsZ0NBQWdDLFlBQVksNEJBQTRCLFVBQVUsRUFBRSw2QkFBNkIsVUFBVSxFQUFFLDRCQUE0QixVQUFVLEVBQUUsNEJBQTRCLFVBQVUsRUFBRSw2QkFBNkIsVUFBVSxFQUFFLDZCQUE2QixTQUFTLG1CQUFtQixzREFBc0QsS0FBSyxFQUFFLDhCQUE4QixTQUFTLG1CQUFtQiw0R0FBNEcsS0FBSyxLQUFLLFlBQVksaUJBQWlCLGFBQWEs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dUNBQXVDLG9EQUFvRCwwQ0FBMEMsbURBQW1ELDJGQUEyRixHQUFHLHNCQUFzQixpQkFBaUIsYUFBYSxzQ0FBc0MsU0FBUyxpQkFBaUIsaUJBQWlCLGdCQUFnQixZQUFZLFdBQVcsS0FBSyxXQUFXLCtHQUErRyx1QkFBdUIsd0NBQXdDLHlCQUF5QixvQkFBb0IsY0FBYyw0SUFBNEksaUJBQWlCLDhFQUE4RSxTQUFTLHNCQUFzQiw0RkFBNEYsdURBQXVELHNCQUFzQiwyQ0FBMkMsc0JBQXNCLEdBQUcsdUJBQXVCLDJIQUEySCwwQ0FBMEMsYUFBYSxtREFBbUQsc0VBQXNFLHFDQUFxQywwQkFBMEIsaUJBQWlCLDJLQUEySyxLQUFLLGdHQUFnRyxRQUFRLHVGQUF1RixpQ0FBaUMsa0lBQWtJLG9DQUFvQyxnQ0FBZ0MsNEJBQTRCLCtHQUErRyxPQUFPLDJCQUEyQixrQ0FBa0MsRUFBRSxrQ0FBa0MseUJBQXlCLEtBQUssVUFBVSxpQkFBaUIsYUFBYSxzQ0FBc0MsU0FBUyw4QkFBOEIsV0FBVyxnQ0FBZ0MsY0FBYyxpQkFBaUIsOEVBQThFLDZCQUE2QixzQ0FBc0MsNktBQTZLLG9CQUFvQix1RUFBdUUsR0FBRywrQkFBK0IsMkdBQTJHLHlDQUF5QyxXQUFXLGtEQUFrRCxrRkFBa0YsYUFBYSxxSUFBcUksRUFBRSxHQUFHLEdBQUcsaUJBQWlCLGFBQWEsc0NBQXNDLFNBQVMsaUNBQWlDLFlBQVksbUNBQW1DLGFBQWEsaUJBQWlCLDhFQUE4RSxTQUFTLHlDQUF5QyxrQ0FBa0MsMEJBQTBCLEdBQUcsR0FBRyxpQkFBaUIsYUFBYSxzQ0FBc0MsU0FBUyxrQ0FBa0MsWUFBWSxvQ0FBb0MsYUFBYSxpQkFBaUIsOEVBQThFLFNBQVMseUNBQXlDLG1DQUFtQyxrQ0FBa0MsMEJBQTBCLEdBQUcsR0FBRyxpQkFBaUIsYUFBYSxzQ0FBc0MsU0FBUyxFQUFFLG1CQUFtQixHQUFHIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL29pZGMtY2xpZW50L2xpYi9vaWRjLWNsaWVudC5taW4uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24gdChlLHIpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPXIoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10scik7ZWxzZXt2YXIgbj1yKCk7Zm9yKHZhciBpIGluIG4pKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHM6ZSlbaV09bltpXX19KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9e307ZnVuY3Rpb24gcihuKXtpZihlW25dKXJldHVybiBlW25dLmV4cG9ydHM7dmFyIGk9ZVtuXT17aTpuLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbbl0uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsciksaS5sPSEwLGkuZXhwb3J0c31yZXR1cm4gci5tPXQsci5jPWUsci5kPWZ1bmN0aW9uKHQsZSxuKXtyLm8odCxlKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7ZW51bWVyYWJsZTohMCxnZXQ6bn0pfSxyLnI9ZnVuY3Rpb24odCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sci50PWZ1bmN0aW9uKHQsZSl7aWYoMSZlJiYodD1yKHQpKSw4JmUpcmV0dXJuIHQ7aWYoNCZlJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoci5yKG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KSwyJmUmJlwic3RyaW5nXCIhPXR5cGVvZiB0KWZvcih2YXIgaSBpbiB0KXIuZChuLGksZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LmJpbmQobnVsbCxpKSk7cmV0dXJuIG59LHIubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24gZSgpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uIGUoKXtyZXR1cm4gdH07cmV0dXJuIHIuZChlLFwiYVwiLGUpLGV9LHIubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sci5wPVwiXCIscihyLnM9MjIpfShbZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCk7dmFyIGk9e2RlYnVnOmZ1bmN0aW9uIHQoKXt9LGluZm86ZnVuY3Rpb24gdCgpe30sd2FybjpmdW5jdGlvbiB0KCl7fSxlcnJvcjpmdW5jdGlvbiB0KCl7fX0sbz12b2lkIDAscz12b2lkIDA7KGUuTG9nPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbiBlKHQscil7aWYoISh0IGluc3RhbmNlb2YgcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KX1yZXR1cm4gdC5yZXNldD1mdW5jdGlvbiB0KCl7cz0zLG89aX0sdC5kZWJ1Zz1mdW5jdGlvbiB0KCl7aWYocz49NCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgscj1BcnJheShlKSxuPTA7bjxlO24rKylyW25dPWFyZ3VtZW50c1tuXTtvLmRlYnVnLmFwcGx5KG8sQXJyYXkuZnJvbShyKSl9fSx0LmluZm89ZnVuY3Rpb24gdCgpe2lmKHM+PTMpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHI9QXJyYXkoZSksbj0wO248ZTtuKyspcltuXT1hcmd1bWVudHNbbl07by5pbmZvLmFwcGx5KG8sQXJyYXkuZnJvbShyKSl9fSx0Lndhcm49ZnVuY3Rpb24gdCgpe2lmKHM+PTIpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHI9QXJyYXkoZSksbj0wO248ZTtuKyspcltuXT1hcmd1bWVudHNbbl07by53YXJuLmFwcGx5KG8sQXJyYXkuZnJvbShyKSl9fSx0LmVycm9yPWZ1bmN0aW9uIHQoKXtpZihzPj0xKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxyPUFycmF5KGUpLG49MDtuPGU7bisrKXJbbl09YXJndW1lbnRzW25dO28uZXJyb3IuYXBwbHkobyxBcnJheS5mcm9tKHIpKX19LG4odCxudWxsLFt7a2V5OlwiTk9ORVwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIDB9fSx7a2V5OlwiRVJST1JcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiAxfX0se2tleTpcIldBUk5cIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiAyfX0se2tleTpcIklORk9cIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiAzfX0se2tleTpcIkRFQlVHXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gNH19LHtrZXk6XCJsZXZlbFwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHN9LHNldDpmdW5jdGlvbiB0KGUpe2lmKCEoMDw9ZSYmZTw9NCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBsb2cgbGV2ZWxcIik7cz1lfX0se2tleTpcImxvZ2dlclwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIG99LHNldDpmdW5jdGlvbiB0KGUpe2lmKCFlLmRlYnVnJiZlLmluZm8mJihlLmRlYnVnPWUuaW5mbyksIShlLmRlYnVnJiZlLmluZm8mJmUud2FybiYmZS5lcnJvcikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBsb2dnZXJcIik7bz1lfX1dKSx0fSgpKS5yZXNldCgpfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKTt2YXIgaT17c2V0SW50ZXJ2YWw6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0LnRvU3RyaW5nKCl9LGV9KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHNldEludGVydmFsKHQsZSl9KSxjbGVhckludGVydmFsOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHQudG9TdHJpbmcoKX0sZX0oZnVuY3Rpb24odCl7cmV0dXJuIGNsZWFySW50ZXJ2YWwodCl9KX0sbz0hMSxzPW51bGw7ZS5HbG9iYWw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uIGUodCxyKXtpZighKHQgaW5zdGFuY2VvZiByKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpfXJldHVybiB0Ll90ZXN0aW5nPWZ1bmN0aW9uIHQoKXtvPSEwfSx0LnNldFhNTEh0dHBSZXF1ZXN0PWZ1bmN0aW9uIHQoZSl7cz1lfSxuKHQsbnVsbCxbe2tleTpcImxvY2F0aW9uXCIsZ2V0OmZ1bmN0aW9uIHQoKXtpZighbylyZXR1cm4gbG9jYXRpb259fSx7a2V5OlwibG9jYWxTdG9yYWdlXCIsZ2V0OmZ1bmN0aW9uIHQoKXtpZighbyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdylyZXR1cm4gbG9jYWxTdG9yYWdlfX0se2tleTpcInNlc3Npb25TdG9yYWdlXCIsZ2V0OmZ1bmN0aW9uIHQoKXtpZighbyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdylyZXR1cm4gc2Vzc2lvblN0b3JhZ2V9fSx7a2V5OlwiWE1MSHR0cFJlcXVlc3RcIixnZXQ6ZnVuY3Rpb24gdCgpe2lmKCFvJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXJldHVybiBzfHxYTUxIdHRwUmVxdWVzdH19LHtrZXk6XCJ0aW1lclwiLGdldDpmdW5jdGlvbiB0KCl7aWYoIW8pcmV0dXJuIGl9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLk1ldGFkYXRhU2VydmljZT12b2lkIDA7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxpPXIoMCksbz1yKDcpO2UuTWV0YWRhdGFTZXJ2aWNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06by5Kc29uU2VydmljZTtpZihmdW5jdGlvbiBuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSwhZSl0aHJvdyBpLkxvZy5lcnJvcihcIk1ldGFkYXRhU2VydmljZTogTm8gc2V0dGluZ3MgcGFzc2VkIHRvIE1ldGFkYXRhU2VydmljZVwiKSxuZXcgRXJyb3IoXCJzZXR0aW5nc1wiKTt0aGlzLl9zZXR0aW5ncz1lLHRoaXMuX2pzb25TZXJ2aWNlPW5ldyByKFtcImFwcGxpY2F0aW9uL2p3ay1zZXQranNvblwiXSl9cmV0dXJuIHQucHJvdG90eXBlLmdldE1ldGFkYXRhPWZ1bmN0aW9uIHQoKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9zZXR0aW5ncy5tZXRhZGF0YT8oaS5Mb2cuZGVidWcoXCJNZXRhZGF0YVNlcnZpY2UuZ2V0TWV0YWRhdGE6IFJldHVybmluZyBtZXRhZGF0YSBmcm9tIHNldHRpbmdzXCIpLFByb21pc2UucmVzb2x2ZSh0aGlzLl9zZXR0aW5ncy5tZXRhZGF0YSkpOnRoaXMubWV0YWRhdGFVcmw/KGkuTG9nLmRlYnVnKFwiTWV0YWRhdGFTZXJ2aWNlLmdldE1ldGFkYXRhOiBnZXR0aW5nIG1ldGFkYXRhIGZyb21cIix0aGlzLm1ldGFkYXRhVXJsKSx0aGlzLl9qc29uU2VydmljZS5nZXRKc29uKHRoaXMubWV0YWRhdGFVcmwpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGkuTG9nLmRlYnVnKFwiTWV0YWRhdGFTZXJ2aWNlLmdldE1ldGFkYXRhOiBqc29uIHJlY2VpdmVkXCIpLGUuX3NldHRpbmdzLm1ldGFkYXRhPXQsdH0pKTooaS5Mb2cuZXJyb3IoXCJNZXRhZGF0YVNlcnZpY2UuZ2V0TWV0YWRhdGE6IE5vIGF1dGhvcml0eSBvciBtZXRhZGF0YVVybCBjb25maWd1cmVkIG9uIHNldHRpbmdzXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIGF1dGhvcml0eSBvciBtZXRhZGF0YVVybCBjb25maWd1cmVkIG9uIHNldHRpbmdzXCIpKSl9LHQucHJvdG90eXBlLmdldElzc3Vlcj1mdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2dldE1ldGFkYXRhUHJvcGVydHkoXCJpc3N1ZXJcIil9LHQucHJvdG90eXBlLmdldEF1dGhvcml6YXRpb25FbmRwb2ludD1mdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2dldE1ldGFkYXRhUHJvcGVydHkoXCJhdXRob3JpemF0aW9uX2VuZHBvaW50XCIpfSx0LnByb3RvdHlwZS5nZXRVc2VySW5mb0VuZHBvaW50PWZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fZ2V0TWV0YWRhdGFQcm9wZXJ0eShcInVzZXJpbmZvX2VuZHBvaW50XCIpfSx0LnByb3RvdHlwZS5nZXRUb2tlbkVuZHBvaW50PWZ1bmN0aW9uIHQoKXt2YXIgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLl9nZXRNZXRhZGF0YVByb3BlcnR5KFwidG9rZW5fZW5kcG9pbnRcIixlKX0sdC5wcm90b3R5cGUuZ2V0Q2hlY2tTZXNzaW9uSWZyYW1lPWZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fZ2V0TWV0YWRhdGFQcm9wZXJ0eShcImNoZWNrX3Nlc3Npb25faWZyYW1lXCIsITApfSx0LnByb3RvdHlwZS5nZXRFbmRTZXNzaW9uRW5kcG9pbnQ9ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9nZXRNZXRhZGF0YVByb3BlcnR5KFwiZW5kX3Nlc3Npb25fZW5kcG9pbnRcIiwhMCl9LHQucHJvdG90eXBlLmdldFJldm9jYXRpb25FbmRwb2ludD1mdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2dldE1ldGFkYXRhUHJvcGVydHkoXCJyZXZvY2F0aW9uX2VuZHBvaW50XCIsITApfSx0LnByb3RvdHlwZS5nZXRLZXlzRW5kcG9pbnQ9ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9nZXRNZXRhZGF0YVByb3BlcnR5KFwiandrc191cmlcIiwhMCl9LHQucHJvdG90eXBlLl9nZXRNZXRhZGF0YVByb3BlcnR5PWZ1bmN0aW9uIHQoZSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtyZXR1cm4gaS5Mb2cuZGVidWcoXCJNZXRhZGF0YVNlcnZpY2UuZ2V0TWV0YWRhdGFQcm9wZXJ0eSBmb3I6IFwiK2UpLHRoaXMuZ2V0TWV0YWRhdGEoKS50aGVuKGZ1bmN0aW9uKHQpe2lmKGkuTG9nLmRlYnVnKFwiTWV0YWRhdGFTZXJ2aWNlLmdldE1ldGFkYXRhUHJvcGVydHk6IG1ldGFkYXRhIHJlY2lldmVkXCIpLHZvaWQgMD09PXRbZV0pe2lmKCEwPT09cilyZXR1cm4gdm9pZCBpLkxvZy53YXJuKFwiTWV0YWRhdGFTZXJ2aWNlLmdldE1ldGFkYXRhUHJvcGVydHk6IE1ldGFkYXRhIGRvZXMgbm90IGNvbnRhaW4gb3B0aW9uYWwgcHJvcGVydHkgXCIrZSk7dGhyb3cgaS5Mb2cuZXJyb3IoXCJNZXRhZGF0YVNlcnZpY2UuZ2V0TWV0YWRhdGFQcm9wZXJ0eTogTWV0YWRhdGEgZG9lcyBub3QgY29udGFpbiBwcm9wZXJ0eSBcIitlKSxuZXcgRXJyb3IoXCJNZXRhZGF0YSBkb2VzIG5vdCBjb250YWluIHByb3BlcnR5IFwiK2UpfXJldHVybiB0W2VdfSl9LHQucHJvdG90eXBlLmdldFNpZ25pbmdLZXlzPWZ1bmN0aW9uIHQoKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9zZXR0aW5ncy5zaWduaW5nS2V5cz8oaS5Mb2cuZGVidWcoXCJNZXRhZGF0YVNlcnZpY2UuZ2V0U2lnbmluZ0tleXM6IFJldHVybmluZyBzaWduaW5nS2V5cyBmcm9tIHNldHRpbmdzXCIpLFByb21pc2UucmVzb2x2ZSh0aGlzLl9zZXR0aW5ncy5zaWduaW5nS2V5cykpOnRoaXMuX2dldE1ldGFkYXRhUHJvcGVydHkoXCJqd2tzX3VyaVwiKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLkxvZy5kZWJ1ZyhcIk1ldGFkYXRhU2VydmljZS5nZXRTaWduaW5nS2V5czogandrc191cmkgcmVjZWl2ZWRcIix0KSxlLl9qc29uU2VydmljZS5nZXRKc29uKHQpLnRoZW4oZnVuY3Rpb24odCl7aWYoaS5Mb2cuZGVidWcoXCJNZXRhZGF0YVNlcnZpY2UuZ2V0U2lnbmluZ0tleXM6IGtleSBzZXQgcmVjZWl2ZWRcIix0KSwhdC5rZXlzKXRocm93IGkuTG9nLmVycm9yKFwiTWV0YWRhdGFTZXJ2aWNlLmdldFNpZ25pbmdLZXlzOiBNaXNzaW5nIGtleXMgb24ga2V5c2V0XCIpLG5ldyBFcnJvcihcIk1pc3Npbmcga2V5cyBvbiBrZXlzZXRcIik7cmV0dXJuIGUuX3NldHRpbmdzLnNpZ25pbmdLZXlzPXQua2V5cyxlLl9zZXR0aW5ncy5zaWduaW5nS2V5c30pfSl9LG4odCxbe2tleTpcIm1ldGFkYXRhVXJsXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fbWV0YWRhdGFVcmx8fCh0aGlzLl9zZXR0aW5ncy5tZXRhZGF0YVVybD90aGlzLl9tZXRhZGF0YVVybD10aGlzLl9zZXR0aW5ncy5tZXRhZGF0YVVybDoodGhpcy5fbWV0YWRhdGFVcmw9dGhpcy5fc2V0dGluZ3MuYXV0aG9yaXR5LHRoaXMuX21ldGFkYXRhVXJsJiZ0aGlzLl9tZXRhZGF0YVVybC5pbmRleE9mKFwiLndlbGwta25vd24vb3BlbmlkLWNvbmZpZ3VyYXRpb25cIik8MCYmKFwiL1wiIT09dGhpcy5fbWV0YWRhdGFVcmxbdGhpcy5fbWV0YWRhdGFVcmwubGVuZ3RoLTFdJiYodGhpcy5fbWV0YWRhdGFVcmwrPVwiL1wiKSx0aGlzLl9tZXRhZGF0YVVybCs9XCIud2VsbC1rbm93bi9vcGVuaWQtY29uZmlndXJhdGlvblwiKSkpLHRoaXMuX21ldGFkYXRhVXJsfX1dKSx0fSgpfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5VcmxVdGlsaXR5PXZvaWQgMDt2YXIgbj1yKDApLGk9cigxKTtlLlVybFV0aWxpdHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uIGUodCxyKXtpZighKHQgaW5zdGFuY2VvZiByKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpfXJldHVybiB0LmFkZFF1ZXJ5UGFyYW09ZnVuY3Rpb24gdChlLHIsbil7cmV0dXJuIGUuaW5kZXhPZihcIj9cIik8MCYmKGUrPVwiP1wiKSxcIj9cIiE9PWVbZS5sZW5ndGgtMV0mJihlKz1cIiZcIiksZSs9ZW5jb2RlVVJJQ29tcG9uZW50KHIpLGUrPVwiPVwiLGUrPWVuY29kZVVSSUNvbXBvbmVudChuKX0sdC5wYXJzZVVybEZyYWdtZW50PWZ1bmN0aW9uIHQoZSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiI1wiLG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOmkuR2xvYmFsO1wic3RyaW5nXCIhPXR5cGVvZiBlJiYoZT1vLmxvY2F0aW9uLmhyZWYpO3ZhciBzPWUubGFzdEluZGV4T2Yocik7cz49MCYmKGU9ZS5zdWJzdHIocysxKSksXCI/XCI9PT1yJiYocz1lLmluZGV4T2YoXCIjXCIpKT49MCYmKGU9ZS5zdWJzdHIoMCxzKSk7Zm9yKHZhciBhLHU9e30sYz0vKFteJj1dKyk9KFteJl0qKS9nLGg9MDthPWMuZXhlYyhlKTspaWYodVtkZWNvZGVVUklDb21wb25lbnQoYVsxXSldPWRlY29kZVVSSUNvbXBvbmVudChhWzJdKSxoKys+NTApcmV0dXJuIG4uTG9nLmVycm9yKFwiVXJsVXRpbGl0eS5wYXJzZVVybEZyYWdtZW50OiByZXNwb25zZSBleGNlZWRlZCBleHBlY3RlZCBudW1iZXIgb2YgcGFyYW1ldGVyc1wiLGUpLHtlcnJvcjpcIlJlc3BvbnNlIGV4Y2VlZGVkIGV4cGVjdGVkIG51bWJlciBvZiBwYXJhbWV0ZXJzXCJ9O2Zvcih2YXIgbCBpbiB1KXJldHVybiB1O3JldHVybnt9fSx0fSgpfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5Kb3NlVXRpbD12b2lkIDA7dmFyIG49cigyNSksaT1mdW5jdGlvbiBvKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX0ocigzMikpO2UuSm9zZVV0aWw9KDAsaS5kZWZhdWx0KSh7andzOm4uandzLEtleVV0aWw6bi5LZXlVdGlsLFg1MDk6bi5YNTA5LGNyeXB0bzpuLmNyeXB0byxoZXh0b2I2NHU6bi5oZXh0b2I2NHUsYjY0dG9oZXg6bi5iNjR0b2hleCxBbGxvd2VkU2lnbmluZ0FsZ3M6bi5BbGxvd2VkU2lnbmluZ0FsZ3N9KX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuT2lkY0NsaWVudFNldHRpbmdzPXZvaWQgMDt2YXIgbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksbz1yKDApLHM9cig2KSxhPXIoMjMpLHU9cigyKTt2YXIgYz1cImlkX3Rva2VuXCIsaD1cIm9wZW5pZFwiLGw9OTAwLGY9MzAwO2UuT2lkY0NsaWVudFNldHRpbmdzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxyPWUuYXV0aG9yaXR5LGk9ZS5tZXRhZGF0YVVybCxvPWUubWV0YWRhdGEsZD1lLnNpZ25pbmdLZXlzLGc9ZS5jbGllbnRfaWQscD1lLmNsaWVudF9zZWNyZXQsdj1lLnJlc3BvbnNlX3R5cGUseT12b2lkIDA9PT12P2M6dixtPWUuc2NvcGUsXz12b2lkIDA9PT1tP2g6bSxTPWUucmVkaXJlY3RfdXJpLEY9ZS5wb3N0X2xvZ291dF9yZWRpcmVjdF91cmksYj1lLnByb21wdCx3PWUuZGlzcGxheSxFPWUubWF4X2FnZSx4PWUudWlfbG9jYWxlcyxrPWUuYWNyX3ZhbHVlcyxBPWUucmVzb3VyY2UsUD1lLnJlc3BvbnNlX21vZGUsQz1lLmZpbHRlclByb3RvY29sQ2xhaW1zLFQ9dm9pZCAwPT09Q3x8QyxSPWUubG9hZFVzZXJJbmZvLEk9dm9pZCAwPT09Unx8UixEPWUuc3RhbGVTdGF0ZUFnZSxVPXZvaWQgMD09PUQ/bDpELEw9ZS5jbG9ja1NrZXcsQj12b2lkIDA9PT1MP2Y6TCxOPWUudXNlckluZm9Kd3RJc3N1ZXIsTz12b2lkIDA9PT1OP1wiT1BcIjpOLGo9ZS5zdGF0ZVN0b3JlLEg9dm9pZCAwPT09aj9uZXcgcy5XZWJTdG9yYWdlU3RhdGVTdG9yZTpqLE09ZS5SZXNwb25zZVZhbGlkYXRvckN0b3IsSz12b2lkIDA9PT1NP2EuUmVzcG9uc2VWYWxpZGF0b3I6TSxWPWUuTWV0YWRhdGFTZXJ2aWNlQ3RvcixxPXZvaWQgMD09PVY/dS5NZXRhZGF0YVNlcnZpY2U6VixKPWUuZXh0cmFRdWVyeVBhcmFtcyxXPXZvaWQgMD09PUo/e306Six6PWUuZXh0cmFUb2tlblBhcmFtcyxZPXZvaWQgMD09PXo/e306ejshZnVuY3Rpb24gRyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5fYXV0aG9yaXR5PXIsdGhpcy5fbWV0YWRhdGFVcmw9aSx0aGlzLl9tZXRhZGF0YT1vLHRoaXMuX3NpZ25pbmdLZXlzPWQsdGhpcy5fY2xpZW50X2lkPWcsdGhpcy5fY2xpZW50X3NlY3JldD1wLHRoaXMuX3Jlc3BvbnNlX3R5cGU9eSx0aGlzLl9zY29wZT1fLHRoaXMuX3JlZGlyZWN0X3VyaT1TLHRoaXMuX3Bvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaT1GLHRoaXMuX3Byb21wdD1iLHRoaXMuX2Rpc3BsYXk9dyx0aGlzLl9tYXhfYWdlPUUsdGhpcy5fdWlfbG9jYWxlcz14LHRoaXMuX2Fjcl92YWx1ZXM9ayx0aGlzLl9yZXNvdXJjZT1BLHRoaXMuX3Jlc3BvbnNlX21vZGU9UCx0aGlzLl9maWx0ZXJQcm90b2NvbENsYWltcz0hIVQsdGhpcy5fbG9hZFVzZXJJbmZvPSEhSSx0aGlzLl9zdGFsZVN0YXRlQWdlPVUsdGhpcy5fY2xvY2tTa2V3PUIsdGhpcy5fdXNlckluZm9Kd3RJc3N1ZXI9Tyx0aGlzLl9zdGF0ZVN0b3JlPUgsdGhpcy5fdmFsaWRhdG9yPW5ldyBLKHRoaXMpLHRoaXMuX21ldGFkYXRhU2VydmljZT1uZXcgcSh0aGlzKSx0aGlzLl9leHRyYVF1ZXJ5UGFyYW1zPVwib2JqZWN0XCI9PT0odm9pZCAwPT09Vz9cInVuZGVmaW5lZFwiOm4oVykpP1c6e30sdGhpcy5fZXh0cmFUb2tlblBhcmFtcz1cIm9iamVjdFwiPT09KHZvaWQgMD09PVk/XCJ1bmRlZmluZWRcIjpuKFkpKT9ZOnt9fXJldHVybiBpKHQsW3trZXk6XCJjbGllbnRfaWRcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9jbGllbnRfaWR9LHNldDpmdW5jdGlvbiB0KGUpe2lmKHRoaXMuX2NsaWVudF9pZCl0aHJvdyBvLkxvZy5lcnJvcihcIk9pZGNDbGllbnRTZXR0aW5ncy5zZXRfY2xpZW50X2lkOiBjbGllbnRfaWQgaGFzIGFscmVhZHkgYmVlbiBhc3NpZ25lZC5cIiksbmV3IEVycm9yKFwiY2xpZW50X2lkIGhhcyBhbHJlYWR5IGJlZW4gYXNzaWduZWQuXCIpO3RoaXMuX2NsaWVudF9pZD1lfX0se2tleTpcImNsaWVudF9zZWNyZXRcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9jbGllbnRfc2VjcmV0fX0se2tleTpcInJlc3BvbnNlX3R5cGVcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9yZXNwb25zZV90eXBlfX0se2tleTpcInNjb3BlXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fc2NvcGV9fSx7a2V5OlwicmVkaXJlY3RfdXJpXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fcmVkaXJlY3RfdXJpfX0se2tleTpcInBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaVwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX3Bvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaX19LHtrZXk6XCJwcm9tcHRcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9wcm9tcHR9fSx7a2V5OlwiZGlzcGxheVwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2Rpc3BsYXl9fSx7a2V5OlwibWF4X2FnZVwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX21heF9hZ2V9fSx7a2V5OlwidWlfbG9jYWxlc1wiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX3VpX2xvY2FsZXN9fSx7a2V5OlwiYWNyX3ZhbHVlc1wiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2Fjcl92YWx1ZXN9fSx7a2V5OlwicmVzb3VyY2VcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9yZXNvdXJjZX19LHtrZXk6XCJyZXNwb25zZV9tb2RlXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fcmVzcG9uc2VfbW9kZX19LHtrZXk6XCJhdXRob3JpdHlcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9hdXRob3JpdHl9LHNldDpmdW5jdGlvbiB0KGUpe2lmKHRoaXMuX2F1dGhvcml0eSl0aHJvdyBvLkxvZy5lcnJvcihcIk9pZGNDbGllbnRTZXR0aW5ncy5zZXRfYXV0aG9yaXR5OiBhdXRob3JpdHkgaGFzIGFscmVhZHkgYmVlbiBhc3NpZ25lZC5cIiksbmV3IEVycm9yKFwiYXV0aG9yaXR5IGhhcyBhbHJlYWR5IGJlZW4gYXNzaWduZWQuXCIpO3RoaXMuX2F1dGhvcml0eT1lfX0se2tleTpcIm1ldGFkYXRhVXJsXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fbWV0YWRhdGFVcmx8fCh0aGlzLl9tZXRhZGF0YVVybD10aGlzLmF1dGhvcml0eSx0aGlzLl9tZXRhZGF0YVVybCYmdGhpcy5fbWV0YWRhdGFVcmwuaW5kZXhPZihcIi53ZWxsLWtub3duL29wZW5pZC1jb25maWd1cmF0aW9uXCIpPDAmJihcIi9cIiE9PXRoaXMuX21ldGFkYXRhVXJsW3RoaXMuX21ldGFkYXRhVXJsLmxlbmd0aC0xXSYmKHRoaXMuX21ldGFkYXRhVXJsKz1cIi9cIiksdGhpcy5fbWV0YWRhdGFVcmwrPVwiLndlbGwta25vd24vb3BlbmlkLWNvbmZpZ3VyYXRpb25cIikpLHRoaXMuX21ldGFkYXRhVXJsfX0se2tleTpcIm1ldGFkYXRhXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fbWV0YWRhdGF9LHNldDpmdW5jdGlvbiB0KGUpe3RoaXMuX21ldGFkYXRhPWV9fSx7a2V5Olwic2lnbmluZ0tleXNcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9zaWduaW5nS2V5c30sc2V0OmZ1bmN0aW9uIHQoZSl7dGhpcy5fc2lnbmluZ0tleXM9ZX19LHtrZXk6XCJmaWx0ZXJQcm90b2NvbENsYWltc1wiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2ZpbHRlclByb3RvY29sQ2xhaW1zfX0se2tleTpcImxvYWRVc2VySW5mb1wiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2xvYWRVc2VySW5mb319LHtrZXk6XCJzdGFsZVN0YXRlQWdlXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fc3RhbGVTdGF0ZUFnZX19LHtrZXk6XCJjbG9ja1NrZXdcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9jbG9ja1NrZXd9fSx7a2V5OlwidXNlckluZm9Kd3RJc3N1ZXJcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl91c2VySW5mb0p3dElzc3Vlcn19LHtrZXk6XCJzdGF0ZVN0b3JlXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fc3RhdGVTdG9yZX19LHtrZXk6XCJ2YWxpZGF0b3JcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl92YWxpZGF0b3J9fSx7a2V5OlwibWV0YWRhdGFTZXJ2aWNlXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fbWV0YWRhdGFTZXJ2aWNlfX0se2tleTpcImV4dHJhUXVlcnlQYXJhbXNcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9leHRyYVF1ZXJ5UGFyYW1zfSxzZXQ6ZnVuY3Rpb24gdChlKXtcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjpuKGUpKT90aGlzLl9leHRyYVF1ZXJ5UGFyYW1zPWU6dGhpcy5fZXh0cmFRdWVyeVBhcmFtcz17fX19LHtrZXk6XCJleHRyYVRva2VuUGFyYW1zXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fZXh0cmFUb2tlblBhcmFtc30sc2V0OmZ1bmN0aW9uIHQoZSl7XCJvYmplY3RcIj09PSh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6bihlKSk/dGhpcy5fZXh0cmFUb2tlblBhcmFtcz1lOnRoaXMuX2V4dHJhVG9rZW5QYXJhbXM9e319fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLldlYlN0b3JhZ2VTdGF0ZVN0b3JlPXZvaWQgMDt2YXIgbj1yKDApLGk9cigxKTtlLldlYlN0b3JhZ2VTdGF0ZVN0b3JlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxyPWUucHJlZml4LG49dm9pZCAwPT09cj9cIm9pZGMuXCI6cixvPWUuc3RvcmUscz12b2lkIDA9PT1vP2kuR2xvYmFsLmxvY2FsU3RvcmFnZTpvOyFmdW5jdGlvbiBhKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLl9zdG9yZT1zLHRoaXMuX3ByZWZpeD1ufXJldHVybiB0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24gdChlLHIpe3JldHVybiBuLkxvZy5kZWJ1ZyhcIldlYlN0b3JhZ2VTdGF0ZVN0b3JlLnNldFwiLGUpLGU9dGhpcy5fcHJlZml4K2UsdGhpcy5fc3RvcmUuc2V0SXRlbShlLHIpLFByb21pc2UucmVzb2x2ZSgpfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24gdChlKXtuLkxvZy5kZWJ1ZyhcIldlYlN0b3JhZ2VTdGF0ZVN0b3JlLmdldFwiLGUpLGU9dGhpcy5fcHJlZml4K2U7dmFyIHI9dGhpcy5fc3RvcmUuZ2V0SXRlbShlKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIpfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24gdChlKXtuLkxvZy5kZWJ1ZyhcIldlYlN0b3JhZ2VTdGF0ZVN0b3JlLnJlbW92ZVwiLGUpLGU9dGhpcy5fcHJlZml4K2U7dmFyIHI9dGhpcy5fc3RvcmUuZ2V0SXRlbShlKTtyZXR1cm4gdGhpcy5fc3RvcmUucmVtb3ZlSXRlbShlKSxQcm9taXNlLnJlc29sdmUocil9LHQucHJvdG90eXBlLmdldEFsbEtleXM9ZnVuY3Rpb24gdCgpe24uTG9nLmRlYnVnKFwiV2ViU3RvcmFnZVN0YXRlU3RvcmUuZ2V0QWxsS2V5c1wiKTtmb3IodmFyIGU9W10scj0wO3I8dGhpcy5fc3RvcmUubGVuZ3RoO3IrKyl7dmFyIGk9dGhpcy5fc3RvcmUua2V5KHIpOzA9PT1pLmluZGV4T2YodGhpcy5fcHJlZml4KSYmZS5wdXNoKGkuc3Vic3RyKHRoaXMuX3ByZWZpeC5sZW5ndGgpKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGUpfSx0fSgpfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5Kc29uU2VydmljZT12b2lkIDA7dmFyIG49cigwKSxpPXIoMSk7ZS5Kc29uU2VydmljZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbCxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTppLkdsb2JhbC5YTUxIdHRwUmVxdWVzdCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsOyFmdW5jdGlvbiBvKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSxlJiZBcnJheS5pc0FycmF5KGUpP3RoaXMuX2NvbnRlbnRUeXBlcz1lLnNsaWNlKCk6dGhpcy5fY29udGVudFR5cGVzPVtdLHRoaXMuX2NvbnRlbnRUeXBlcy5wdXNoKFwiYXBwbGljYXRpb24vanNvblwiKSxuJiZ0aGlzLl9jb250ZW50VHlwZXMucHVzaChcImFwcGxpY2F0aW9uL2p3dFwiKSx0aGlzLl9YTUxIdHRwUmVxdWVzdD1yLHRoaXMuX2p3dEhhbmRsZXI9bn1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0SnNvbj1mdW5jdGlvbiB0KGUscil7dmFyIGk9dGhpcztpZighZSl0aHJvdyBuLkxvZy5lcnJvcihcIkpzb25TZXJ2aWNlLmdldEpzb246IE5vIHVybCBwYXNzZWRcIiksbmV3IEVycm9yKFwidXJsXCIpO3JldHVybiBuLkxvZy5kZWJ1ZyhcIkpzb25TZXJ2aWNlLmdldEpzb24sIHVybDogXCIsZSksbmV3IFByb21pc2UoZnVuY3Rpb24odCxvKXt2YXIgcz1uZXcgaS5fWE1MSHR0cFJlcXVlc3Q7cy5vcGVuKFwiR0VUXCIsZSk7dmFyIGE9aS5fY29udGVudFR5cGVzLHU9aS5fand0SGFuZGxlcjtzLm9ubG9hZD1mdW5jdGlvbigpe2lmKG4uTG9nLmRlYnVnKFwiSnNvblNlcnZpY2UuZ2V0SnNvbjogSFRUUCByZXNwb25zZSByZWNlaXZlZCwgc3RhdHVzXCIscy5zdGF0dXMpLDIwMD09PXMuc3RhdHVzKXt2YXIgcj1zLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpO2lmKHIpe3ZhciBpPWEuZmluZChmdW5jdGlvbih0KXtpZihyLnN0YXJ0c1dpdGgodCkpcmV0dXJuITB9KTtpZihcImFwcGxpY2F0aW9uL2p3dFwiPT1pKXJldHVybiB2b2lkIHUocykudGhlbih0LG8pO2lmKGkpdHJ5e3JldHVybiB2b2lkIHQoSlNPTi5wYXJzZShzLnJlc3BvbnNlVGV4dCkpfWNhdGNoKHQpe3JldHVybiBuLkxvZy5lcnJvcihcIkpzb25TZXJ2aWNlLmdldEpzb246IEVycm9yIHBhcnNpbmcgSlNPTiByZXNwb25zZVwiLHQubWVzc2FnZSksdm9pZCBvKHQpfX1vKEVycm9yKFwiSW52YWxpZCByZXNwb25zZSBDb250ZW50LVR5cGU6IFwiK3IrXCIsIGZyb20gVVJMOiBcIitlKSl9ZWxzZSBvKEVycm9yKHMuc3RhdHVzVGV4dCtcIiAoXCIrcy5zdGF0dXMrXCIpXCIpKX0scy5vbmVycm9yPWZ1bmN0aW9uKCl7bi5Mb2cuZXJyb3IoXCJKc29uU2VydmljZS5nZXRKc29uOiBuZXR3b3JrIGVycm9yXCIpLG8oRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIpKX0sciYmKG4uTG9nLmRlYnVnKFwiSnNvblNlcnZpY2UuZ2V0SnNvbjogdG9rZW4gcGFzc2VkLCBzZXR0aW5nIEF1dGhvcml6YXRpb24gaGVhZGVyXCIpLHMuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIixcIkJlYXJlciBcIityKSkscy5zZW5kKCl9KX0sdC5wcm90b3R5cGUucG9zdEZvcm09ZnVuY3Rpb24gdChlLHIpe3ZhciBpPXRoaXM7aWYoIWUpdGhyb3cgbi5Mb2cuZXJyb3IoXCJKc29uU2VydmljZS5wb3N0Rm9ybTogTm8gdXJsIHBhc3NlZFwiKSxuZXcgRXJyb3IoXCJ1cmxcIik7cmV0dXJuIG4uTG9nLmRlYnVnKFwiSnNvblNlcnZpY2UucG9zdEZvcm0sIHVybDogXCIsZSksbmV3IFByb21pc2UoZnVuY3Rpb24odCxvKXt2YXIgcz1uZXcgaS5fWE1MSHR0cFJlcXVlc3Q7cy5vcGVuKFwiUE9TVFwiLGUpO3ZhciBhPWkuX2NvbnRlbnRUeXBlcztzLm9ubG9hZD1mdW5jdGlvbigpe2lmKG4uTG9nLmRlYnVnKFwiSnNvblNlcnZpY2UucG9zdEZvcm06IEhUVFAgcmVzcG9uc2UgcmVjZWl2ZWQsIHN0YXR1c1wiLHMuc3RhdHVzKSwyMDAhPT1zLnN0YXR1cyl7aWYoNDAwPT09cy5zdGF0dXMpaWYoaT1zLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpKWlmKGEuZmluZChmdW5jdGlvbih0KXtpZihpLnN0YXJ0c1dpdGgodCkpcmV0dXJuITB9KSl0cnl7dmFyIHI9SlNPTi5wYXJzZShzLnJlc3BvbnNlVGV4dCk7aWYociYmci5lcnJvcilyZXR1cm4gbi5Mb2cuZXJyb3IoXCJKc29uU2VydmljZS5wb3N0Rm9ybTogRXJyb3IgZnJvbSBzZXJ2ZXI6IFwiLHIuZXJyb3IpLHZvaWQgbyhuZXcgRXJyb3Ioci5lcnJvcikpfWNhdGNoKHQpe3JldHVybiBuLkxvZy5lcnJvcihcIkpzb25TZXJ2aWNlLnBvc3RGb3JtOiBFcnJvciBwYXJzaW5nIEpTT04gcmVzcG9uc2VcIix0Lm1lc3NhZ2UpLHZvaWQgbyh0KX1vKEVycm9yKHMuc3RhdHVzVGV4dCtcIiAoXCIrcy5zdGF0dXMrXCIpXCIpKX1lbHNle3ZhciBpO2lmKChpPXMuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIikpJiZhLmZpbmQoZnVuY3Rpb24odCl7aWYoaS5zdGFydHNXaXRoKHQpKXJldHVybiEwfSkpdHJ5e3JldHVybiB2b2lkIHQoSlNPTi5wYXJzZShzLnJlc3BvbnNlVGV4dCkpfWNhdGNoKHQpe3JldHVybiBuLkxvZy5lcnJvcihcIkpzb25TZXJ2aWNlLnBvc3RGb3JtOiBFcnJvciBwYXJzaW5nIEpTT04gcmVzcG9uc2VcIix0Lm1lc3NhZ2UpLHZvaWQgbyh0KX1vKEVycm9yKFwiSW52YWxpZCByZXNwb25zZSBDb250ZW50LVR5cGU6IFwiK2krXCIsIGZyb20gVVJMOiBcIitlKSl9fSxzLm9uZXJyb3I9ZnVuY3Rpb24oKXtuLkxvZy5lcnJvcihcIkpzb25TZXJ2aWNlLnBvc3RGb3JtOiBuZXR3b3JrIGVycm9yXCIpLG8oRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIpKX07dmFyIHU9XCJcIjtmb3IodmFyIGMgaW4gcil7dmFyIGg9cltjXTtoJiYodS5sZW5ndGg+MCYmKHUrPVwiJlwiKSx1Kz1lbmNvZGVVUklDb21wb25lbnQoYyksdSs9XCI9XCIsdSs9ZW5jb2RlVVJJQ29tcG9uZW50KGgpKX1zLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSxzLnNlbmQodSl9KX0sdH0oKX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuU3RhdGU9dm9pZCAwO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksaT1yKDApLG89ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19KHIoMTQpKTtlLlN0YXRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxyPWUuaWQsbj1lLmRhdGEsaT1lLmNyZWF0ZWQscz1lLnJlcXVlc3RfdHlwZTshZnVuY3Rpb24gYSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5faWQ9cnx8KDAsby5kZWZhdWx0KSgpLHRoaXMuX2RhdGE9bix0aGlzLl9jcmVhdGVkPVwibnVtYmVyXCI9PXR5cGVvZiBpJiZpPjA/aTpwYXJzZUludChEYXRlLm5vdygpLzFlMyksdGhpcy5fcmVxdWVzdF90eXBlPXN9cmV0dXJuIHQucHJvdG90eXBlLnRvU3RvcmFnZVN0cmluZz1mdW5jdGlvbiB0KCl7cmV0dXJuIGkuTG9nLmRlYnVnKFwiU3RhdGUudG9TdG9yYWdlU3RyaW5nXCIpLEpTT04uc3RyaW5naWZ5KHtpZDp0aGlzLmlkLGRhdGE6dGhpcy5kYXRhLGNyZWF0ZWQ6dGhpcy5jcmVhdGVkLHJlcXVlc3RfdHlwZTp0aGlzLnJlcXVlc3RfdHlwZX0pfSx0LmZyb21TdG9yYWdlU3RyaW5nPWZ1bmN0aW9uIGUocil7cmV0dXJuIGkuTG9nLmRlYnVnKFwiU3RhdGUuZnJvbVN0b3JhZ2VTdHJpbmdcIiksbmV3IHQoSlNPTi5wYXJzZShyKSl9LHQuY2xlYXJTdGFsZVN0YXRlPWZ1bmN0aW9uIGUocixuKXt2YXIgbz1EYXRlLm5vdygpLzFlMy1uO3JldHVybiByLmdldEFsbEtleXMoKS50aGVuKGZ1bmN0aW9uKGUpe2kuTG9nLmRlYnVnKFwiU3RhdGUuY2xlYXJTdGFsZVN0YXRlOiBnb3Qga2V5c1wiLGUpO2Zvcih2YXIgbj1bXSxzPWZ1bmN0aW9uIHMoYSl7dmFyIGM9ZVthXTt1PXIuZ2V0KGMpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIG49ITE7aWYoZSl0cnl7dmFyIHM9dC5mcm9tU3RvcmFnZVN0cmluZyhlKTtpLkxvZy5kZWJ1ZyhcIlN0YXRlLmNsZWFyU3RhbGVTdGF0ZTogZ290IGl0ZW0gZnJvbSBrZXk6IFwiLGMscy5jcmVhdGVkKSxzLmNyZWF0ZWQ8PW8mJihuPSEwKX1jYXRjaCh0KXtpLkxvZy5lcnJvcihcIlN0YXRlLmNsZWFyU3RhbGVTdGF0ZTogRXJyb3IgcGFyc2luZyBzdGF0ZSBmb3Iga2V5XCIsYyx0Lm1lc3NhZ2UpLG49ITB9ZWxzZSBpLkxvZy5kZWJ1ZyhcIlN0YXRlLmNsZWFyU3RhbGVTdGF0ZTogbm8gaXRlbSBpbiBzdG9yYWdlIGZvciBrZXk6IFwiLGMpLG49ITA7aWYobilyZXR1cm4gaS5Mb2cuZGVidWcoXCJTdGF0ZS5jbGVhclN0YWxlU3RhdGU6IHJlbW92ZWQgaXRlbSBmb3Iga2V5OiBcIixjKSxyLnJlbW92ZShjKX0pLG4ucHVzaCh1KX0sYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgdTtzKGEpfXJldHVybiBpLkxvZy5kZWJ1ZyhcIlN0YXRlLmNsZWFyU3RhbGVTdGF0ZTogd2FpdGluZyBvbiBwcm9taXNlIGNvdW50OlwiLG4ubGVuZ3RoKSxQcm9taXNlLmFsbChuKX0pfSxuKHQsW3trZXk6XCJpZFwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2lkfX0se2tleTpcImRhdGFcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9kYXRhfX0se2tleTpcImNyZWF0ZWRcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9jcmVhdGVkfX0se2tleTpcInJlcXVlc3RfdHlwZVwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX3JlcXVlc3RfdHlwZX19XSksdH0oKX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuT2lkY0NsaWVudD12b2lkIDA7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxpPXIoMCksbz1yKDUpLHM9cigxMSksYT1yKDEyKSx1PXIoMzYpLGM9cigzNyksaD1yKDM4KSxsPXIoMTMpLGY9cig4KTtlLk9pZGNDbGllbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9OyFmdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSxlIGluc3RhbmNlb2Ygby5PaWRjQ2xpZW50U2V0dGluZ3M/dGhpcy5fc2V0dGluZ3M9ZTp0aGlzLl9zZXR0aW5ncz1uZXcgby5PaWRjQ2xpZW50U2V0dGluZ3MoZSl9cmV0dXJuIHQucHJvdG90eXBlLmNyZWF0ZVNpZ25pblJlcXVlc3Q9ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXMscj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj1yLnJlc3BvbnNlX3R5cGUsbz1yLnNjb3BlLHM9ci5yZWRpcmVjdF91cmksdT1yLmRhdGEsYz1yLnN0YXRlLGg9ci5wcm9tcHQsbD1yLmRpc3BsYXksZj1yLm1heF9hZ2UsZD1yLnVpX2xvY2FsZXMsZz1yLmlkX3Rva2VuX2hpbnQscD1yLmxvZ2luX2hpbnQsdj1yLmFjcl92YWx1ZXMseT1yLnJlc291cmNlLG09ci5yZXF1ZXN0LF89ci5yZXF1ZXN0X3VyaSxTPXIucmVzcG9uc2VfbW9kZSxGPXIuZXh0cmFRdWVyeVBhcmFtcyxiPXIuZXh0cmFUb2tlblBhcmFtcyx3PXIucmVxdWVzdF90eXBlLEU9ci5za2lwVXNlckluZm8seD1hcmd1bWVudHNbMV07aS5Mb2cuZGVidWcoXCJPaWRjQ2xpZW50LmNyZWF0ZVNpZ25pblJlcXVlc3RcIik7dmFyIGs9dGhpcy5fc2V0dGluZ3MuY2xpZW50X2lkO249bnx8dGhpcy5fc2V0dGluZ3MucmVzcG9uc2VfdHlwZSxvPW98fHRoaXMuX3NldHRpbmdzLnNjb3BlLHM9c3x8dGhpcy5fc2V0dGluZ3MucmVkaXJlY3RfdXJpLGg9aHx8dGhpcy5fc2V0dGluZ3MucHJvbXB0LGw9bHx8dGhpcy5fc2V0dGluZ3MuZGlzcGxheSxmPWZ8fHRoaXMuX3NldHRpbmdzLm1heF9hZ2UsZD1kfHx0aGlzLl9zZXR0aW5ncy51aV9sb2NhbGVzLHY9dnx8dGhpcy5fc2V0dGluZ3MuYWNyX3ZhbHVlcyx5PXl8fHRoaXMuX3NldHRpbmdzLnJlc291cmNlLFM9U3x8dGhpcy5fc2V0dGluZ3MucmVzcG9uc2VfbW9kZSxGPUZ8fHRoaXMuX3NldHRpbmdzLmV4dHJhUXVlcnlQYXJhbXMsYj1ifHx0aGlzLl9zZXR0aW5ncy5leHRyYVRva2VuUGFyYW1zO3ZhciBBPXRoaXMuX3NldHRpbmdzLmF1dGhvcml0eTtyZXR1cm4gYS5TaWduaW5SZXF1ZXN0LmlzQ29kZShuKSYmXCJjb2RlXCIhPT1uP1Byb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk9wZW5JRCBDb25uZWN0IGh5YnJpZCBmbG93IGlzIG5vdCBzdXBwb3J0ZWRcIikpOnRoaXMuX21ldGFkYXRhU2VydmljZS5nZXRBdXRob3JpemF0aW9uRW5kcG9pbnQoKS50aGVuKGZ1bmN0aW9uKHQpe2kuTG9nLmRlYnVnKFwiT2lkY0NsaWVudC5jcmVhdGVTaWduaW5SZXF1ZXN0OiBSZWNlaXZlZCBhdXRob3JpemF0aW9uIGVuZHBvaW50XCIsdCk7dmFyIHI9bmV3IGEuU2lnbmluUmVxdWVzdCh7dXJsOnQsY2xpZW50X2lkOmsscmVkaXJlY3RfdXJpOnMscmVzcG9uc2VfdHlwZTpuLHNjb3BlOm8sZGF0YTp1fHxjLGF1dGhvcml0eTpBLHByb21wdDpoLGRpc3BsYXk6bCxtYXhfYWdlOmYsdWlfbG9jYWxlczpkLGlkX3Rva2VuX2hpbnQ6Zyxsb2dpbl9oaW50OnAsYWNyX3ZhbHVlczp2LHJlc291cmNlOnkscmVxdWVzdDptLHJlcXVlc3RfdXJpOl8sZXh0cmFRdWVyeVBhcmFtczpGLGV4dHJhVG9rZW5QYXJhbXM6YixyZXF1ZXN0X3R5cGU6dyxyZXNwb25zZV9tb2RlOlMsY2xpZW50X3NlY3JldDplLl9zZXR0aW5ncy5jbGllbnRfc2VjcmV0LHNraXBVc2VySW5mbzpFfSksUD1yLnN0YXRlO3JldHVybih4PXh8fGUuX3N0YXRlU3RvcmUpLnNldChQLmlkLFAudG9TdG9yYWdlU3RyaW5nKCkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcn0pfSl9LHQucHJvdG90eXBlLnJlYWRTaWduaW5SZXNwb25zZVN0YXRlPWZ1bmN0aW9uIHQoZSxyKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO2kuTG9nLmRlYnVnKFwiT2lkY0NsaWVudC5yZWFkU2lnbmluUmVzcG9uc2VTdGF0ZVwiKTt2YXIgbz1cInF1ZXJ5XCI9PT10aGlzLl9zZXR0aW5ncy5yZXNwb25zZV9tb2RlfHwhdGhpcy5fc2V0dGluZ3MucmVzcG9uc2VfbW9kZSYmYS5TaWduaW5SZXF1ZXN0LmlzQ29kZSh0aGlzLl9zZXR0aW5ncy5yZXNwb25zZV90eXBlKT9cIj9cIjpcIiNcIixzPW5ldyB1LlNpZ25pblJlc3BvbnNlKGUsbyk7cmV0dXJuIHMuc3RhdGU/KHI9cnx8dGhpcy5fc3RhdGVTdG9yZSwobj9yLnJlbW92ZS5iaW5kKHIpOnIuZ2V0LmJpbmQocikpKHMuc3RhdGUpLnRoZW4oZnVuY3Rpb24odCl7aWYoIXQpdGhyb3cgaS5Mb2cuZXJyb3IoXCJPaWRjQ2xpZW50LnJlYWRTaWduaW5SZXNwb25zZVN0YXRlOiBObyBtYXRjaGluZyBzdGF0ZSBmb3VuZCBpbiBzdG9yYWdlXCIpLG5ldyBFcnJvcihcIk5vIG1hdGNoaW5nIHN0YXRlIGZvdW5kIGluIHN0b3JhZ2VcIik7cmV0dXJue3N0YXRlOmwuU2lnbmluU3RhdGUuZnJvbVN0b3JhZ2VTdHJpbmcodCkscmVzcG9uc2U6c319KSk6KGkuTG9nLmVycm9yKFwiT2lkY0NsaWVudC5yZWFkU2lnbmluUmVzcG9uc2VTdGF0ZTogTm8gc3RhdGUgaW4gcmVzcG9uc2VcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gc3RhdGUgaW4gcmVzcG9uc2VcIikpKX0sdC5wcm90b3R5cGUucHJvY2Vzc1NpZ25pblJlc3BvbnNlPWZ1bmN0aW9uIHQoZSxyKXt2YXIgbj10aGlzO3JldHVybiBpLkxvZy5kZWJ1ZyhcIk9pZGNDbGllbnQucHJvY2Vzc1NpZ25pblJlc3BvbnNlXCIpLHRoaXMucmVhZFNpZ25pblJlc3BvbnNlU3RhdGUoZSxyLCEwKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBlPXQuc3RhdGUscj10LnJlc3BvbnNlO3JldHVybiBpLkxvZy5kZWJ1ZyhcIk9pZGNDbGllbnQucHJvY2Vzc1NpZ25pblJlc3BvbnNlOiBSZWNlaXZlZCBzdGF0ZSBmcm9tIHN0b3JhZ2U7IHZhbGlkYXRpbmcgcmVzcG9uc2VcIiksbi5fdmFsaWRhdG9yLnZhbGlkYXRlU2lnbmluUmVzcG9uc2UoZSxyKX0pfSx0LnByb3RvdHlwZS5jcmVhdGVTaWdub3V0UmVxdWVzdD1mdW5jdGlvbiB0KCl7dmFyIGU9dGhpcyxyPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxuPXIuaWRfdG9rZW5faGludCxvPXIuZGF0YSxzPXIuc3RhdGUsYT1yLnBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaSx1PXIuZXh0cmFRdWVyeVBhcmFtcyxoPXIucmVxdWVzdF90eXBlLGw9YXJndW1lbnRzWzFdO3JldHVybiBpLkxvZy5kZWJ1ZyhcIk9pZGNDbGllbnQuY3JlYXRlU2lnbm91dFJlcXVlc3RcIiksYT1hfHx0aGlzLl9zZXR0aW5ncy5wb3N0X2xvZ291dF9yZWRpcmVjdF91cmksdT11fHx0aGlzLl9zZXR0aW5ncy5leHRyYVF1ZXJ5UGFyYW1zLHRoaXMuX21ldGFkYXRhU2VydmljZS5nZXRFbmRTZXNzaW9uRW5kcG9pbnQoKS50aGVuKGZ1bmN0aW9uKHQpe2lmKCF0KXRocm93IGkuTG9nLmVycm9yKFwiT2lkY0NsaWVudC5jcmVhdGVTaWdub3V0UmVxdWVzdDogTm8gZW5kIHNlc3Npb24gZW5kcG9pbnQgdXJsIHJldHVybmVkXCIpLG5ldyBFcnJvcihcIm5vIGVuZCBzZXNzaW9uIGVuZHBvaW50XCIpO2kuTG9nLmRlYnVnKFwiT2lkY0NsaWVudC5jcmVhdGVTaWdub3V0UmVxdWVzdDogUmVjZWl2ZWQgZW5kIHNlc3Npb24gZW5kcG9pbnRcIix0KTt2YXIgcj1uZXcgYy5TaWdub3V0UmVxdWVzdCh7dXJsOnQsaWRfdG9rZW5faGludDpuLHBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaTphLGRhdGE6b3x8cyxleHRyYVF1ZXJ5UGFyYW1zOnUscmVxdWVzdF90eXBlOmh9KSxmPXIuc3RhdGU7cmV0dXJuIGYmJihpLkxvZy5kZWJ1ZyhcIk9pZGNDbGllbnQuY3JlYXRlU2lnbm91dFJlcXVlc3Q6IFNpZ25vdXQgcmVxdWVzdCBoYXMgc3RhdGUgdG8gcGVyc2lzdFwiKSwobD1sfHxlLl9zdGF0ZVN0b3JlKS5zZXQoZi5pZCxmLnRvU3RvcmFnZVN0cmluZygpKSkscn0pfSx0LnByb3RvdHlwZS5yZWFkU2lnbm91dFJlc3BvbnNlU3RhdGU9ZnVuY3Rpb24gdChlLHIpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07aS5Mb2cuZGVidWcoXCJPaWRjQ2xpZW50LnJlYWRTaWdub3V0UmVzcG9uc2VTdGF0ZVwiKTt2YXIgbz1uZXcgaC5TaWdub3V0UmVzcG9uc2UoZSk7aWYoIW8uc3RhdGUpcmV0dXJuIGkuTG9nLmRlYnVnKFwiT2lkY0NsaWVudC5yZWFkU2lnbm91dFJlc3BvbnNlU3RhdGU6IE5vIHN0YXRlIGluIHJlc3BvbnNlXCIpLG8uZXJyb3I/KGkuTG9nLndhcm4oXCJPaWRjQ2xpZW50LnJlYWRTaWdub3V0UmVzcG9uc2VTdGF0ZTogUmVzcG9uc2Ugd2FzIGVycm9yOiBcIixvLmVycm9yKSxQcm9taXNlLnJlamVjdChuZXcgcy5FcnJvclJlc3BvbnNlKG8pKSk6UHJvbWlzZS5yZXNvbHZlKHt1bmRlZmluZWQ6dm9pZCAwLHJlc3BvbnNlOm99KTt2YXIgYT1vLnN0YXRlO3JldHVybiByPXJ8fHRoaXMuX3N0YXRlU3RvcmUsKG4/ci5yZW1vdmUuYmluZChyKTpyLmdldC5iaW5kKHIpKShhKS50aGVuKGZ1bmN0aW9uKHQpe2lmKCF0KXRocm93IGkuTG9nLmVycm9yKFwiT2lkY0NsaWVudC5yZWFkU2lnbm91dFJlc3BvbnNlU3RhdGU6IE5vIG1hdGNoaW5nIHN0YXRlIGZvdW5kIGluIHN0b3JhZ2VcIiksbmV3IEVycm9yKFwiTm8gbWF0Y2hpbmcgc3RhdGUgZm91bmQgaW4gc3RvcmFnZVwiKTtyZXR1cm57c3RhdGU6Zi5TdGF0ZS5mcm9tU3RvcmFnZVN0cmluZyh0KSxyZXNwb25zZTpvfX0pfSx0LnByb3RvdHlwZS5wcm9jZXNzU2lnbm91dFJlc3BvbnNlPWZ1bmN0aW9uIHQoZSxyKXt2YXIgbj10aGlzO3JldHVybiBpLkxvZy5kZWJ1ZyhcIk9pZGNDbGllbnQucHJvY2Vzc1NpZ25vdXRSZXNwb25zZVwiKSx0aGlzLnJlYWRTaWdub3V0UmVzcG9uc2VTdGF0ZShlLHIsITApLnRoZW4oZnVuY3Rpb24odCl7dmFyIGU9dC5zdGF0ZSxyPXQucmVzcG9uc2U7cmV0dXJuIGU/KGkuTG9nLmRlYnVnKFwiT2lkY0NsaWVudC5wcm9jZXNzU2lnbm91dFJlc3BvbnNlOiBSZWNlaXZlZCBzdGF0ZSBmcm9tIHN0b3JhZ2U7IHZhbGlkYXRpbmcgcmVzcG9uc2VcIiksbi5fdmFsaWRhdG9yLnZhbGlkYXRlU2lnbm91dFJlc3BvbnNlKGUscikpOihpLkxvZy5kZWJ1ZyhcIk9pZGNDbGllbnQucHJvY2Vzc1NpZ25vdXRSZXNwb25zZTogTm8gc3RhdGUgZnJvbSBzdG9yYWdlOyBza2lwcGluZyB2YWxpZGF0aW5nIHJlc3BvbnNlXCIpLHIpfSl9LHQucHJvdG90eXBlLmNsZWFyU3RhbGVTdGF0ZT1mdW5jdGlvbiB0KGUpe3JldHVybiBpLkxvZy5kZWJ1ZyhcIk9pZGNDbGllbnQuY2xlYXJTdGFsZVN0YXRlXCIpLGU9ZXx8dGhpcy5fc3RhdGVTdG9yZSxmLlN0YXRlLmNsZWFyU3RhbGVTdGF0ZShlLHRoaXMuc2V0dGluZ3Muc3RhbGVTdGF0ZUFnZSl9LG4odCxbe2tleTpcIl9zdGF0ZVN0b3JlXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5zZXR0aW5ncy5zdGF0ZVN0b3JlfX0se2tleTpcIl92YWxpZGF0b3JcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLnNldHRpbmdzLnZhbGlkYXRvcn19LHtrZXk6XCJfbWV0YWRhdGFTZXJ2aWNlXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5zZXR0aW5ncy5tZXRhZGF0YVNlcnZpY2V9fSx7a2V5Olwic2V0dGluZ3NcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9zZXR0aW5nc319LHtrZXk6XCJtZXRhZGF0YVNlcnZpY2VcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9tZXRhZGF0YVNlcnZpY2V9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLlRva2VuQ2xpZW50PXZvaWQgMDt2YXIgbj1yKDcpLGk9cigyKSxvPXIoMCk7ZS5Ub2tlbkNsaWVudD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm4uSnNvblNlcnZpY2Uscz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06aS5NZXRhZGF0YVNlcnZpY2U7aWYoZnVuY3Rpb24gYSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksIWUpdGhyb3cgby5Mb2cuZXJyb3IoXCJUb2tlbkNsaWVudC5jdG9yOiBObyBzZXR0aW5ncyBwYXNzZWRcIiksbmV3IEVycm9yKFwic2V0dGluZ3NcIik7dGhpcy5fc2V0dGluZ3M9ZSx0aGlzLl9qc29uU2VydmljZT1uZXcgcix0aGlzLl9tZXRhZGF0YVNlcnZpY2U9bmV3IHModGhpcy5fc2V0dGluZ3MpfXJldHVybiB0LnByb3RvdHlwZS5leGNoYW5nZUNvZGU9ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXMscj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuKHI9T2JqZWN0LmFzc2lnbih7fSxyKSkuZ3JhbnRfdHlwZT1yLmdyYW50X3R5cGV8fFwiYXV0aG9yaXphdGlvbl9jb2RlXCIsci5jbGllbnRfaWQ9ci5jbGllbnRfaWR8fHRoaXMuX3NldHRpbmdzLmNsaWVudF9pZCxyLnJlZGlyZWN0X3VyaT1yLnJlZGlyZWN0X3VyaXx8dGhpcy5fc2V0dGluZ3MucmVkaXJlY3RfdXJpLHIuY29kZT9yLnJlZGlyZWN0X3VyaT9yLmNvZGVfdmVyaWZpZXI/ci5jbGllbnRfaWQ/dGhpcy5fbWV0YWRhdGFTZXJ2aWNlLmdldFRva2VuRW5kcG9pbnQoITEpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG8uTG9nLmRlYnVnKFwiVG9rZW5DbGllbnQuZXhjaGFuZ2VDb2RlOiBSZWNlaXZlZCB0b2tlbiBlbmRwb2ludFwiKSxlLl9qc29uU2VydmljZS5wb3N0Rm9ybSh0LHIpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG8uTG9nLmRlYnVnKFwiVG9rZW5DbGllbnQuZXhjaGFuZ2VDb2RlOiByZXNwb25zZSByZWNlaXZlZFwiKSx0fSl9KTooby5Mb2cuZXJyb3IoXCJUb2tlbkNsaWVudC5leGNoYW5nZUNvZGU6IE5vIGNsaWVudF9pZCBwYXNzZWRcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiQSBjbGllbnRfaWQgaXMgcmVxdWlyZWRcIikpKTooby5Mb2cuZXJyb3IoXCJUb2tlbkNsaWVudC5leGNoYW5nZUNvZGU6IE5vIGNvZGVfdmVyaWZpZXIgcGFzc2VkXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkEgY29kZV92ZXJpZmllciBpcyByZXF1aXJlZFwiKSkpOihvLkxvZy5lcnJvcihcIlRva2VuQ2xpZW50LmV4Y2hhbmdlQ29kZTogTm8gcmVkaXJlY3RfdXJpIHBhc3NlZFwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJBIHJlZGlyZWN0X3VyaSBpcyByZXF1aXJlZFwiKSkpOihvLkxvZy5lcnJvcihcIlRva2VuQ2xpZW50LmV4Y2hhbmdlQ29kZTogTm8gY29kZSBwYXNzZWRcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiQSBjb2RlIGlzIHJlcXVpcmVkXCIpKSl9LHQucHJvdG90eXBlLmV4Y2hhbmdlUmVmcmVzaFRva2VuPWZ1bmN0aW9uIHQoKXt2YXIgZT10aGlzLHI9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybihyPU9iamVjdC5hc3NpZ24oe30scikpLmdyYW50X3R5cGU9ci5ncmFudF90eXBlfHxcInJlZnJlc2hfdG9rZW5cIixyLmNsaWVudF9pZD1yLmNsaWVudF9pZHx8dGhpcy5fc2V0dGluZ3MuY2xpZW50X2lkLHIuY2xpZW50X3NlY3JldD1yLmNsaWVudF9zZWNyZXR8fHRoaXMuX3NldHRpbmdzLmNsaWVudF9zZWNyZXQsci5yZWZyZXNoX3Rva2VuP3IuY2xpZW50X2lkP3RoaXMuX21ldGFkYXRhU2VydmljZS5nZXRUb2tlbkVuZHBvaW50KCExKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBvLkxvZy5kZWJ1ZyhcIlRva2VuQ2xpZW50LmV4Y2hhbmdlUmVmcmVzaFRva2VuOiBSZWNlaXZlZCB0b2tlbiBlbmRwb2ludFwiKSxlLl9qc29uU2VydmljZS5wb3N0Rm9ybSh0LHIpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG8uTG9nLmRlYnVnKFwiVG9rZW5DbGllbnQuZXhjaGFuZ2VSZWZyZXNoVG9rZW46IHJlc3BvbnNlIHJlY2VpdmVkXCIpLHR9KX0pOihvLkxvZy5lcnJvcihcIlRva2VuQ2xpZW50LmV4Y2hhbmdlUmVmcmVzaFRva2VuOiBObyBjbGllbnRfaWQgcGFzc2VkXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkEgY2xpZW50X2lkIGlzIHJlcXVpcmVkXCIpKSk6KG8uTG9nLmVycm9yKFwiVG9rZW5DbGllbnQuZXhjaGFuZ2VSZWZyZXNoVG9rZW46IE5vIHJlZnJlc2hfdG9rZW4gcGFzc2VkXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkEgcmVmcmVzaF90b2tlbiBpcyByZXF1aXJlZFwiKSkpfSx0fSgpfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5FcnJvclJlc3BvbnNlPXZvaWQgMDt2YXIgbj1yKDApO2UuRXJyb3JSZXNwb25zZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGk9ci5lcnJvcixvPXIuZXJyb3JfZGVzY3JpcHRpb24scz1yLmVycm9yX3VyaSxhPXIuc3RhdGUsdT1yLnNlc3Npb25fc3RhdGU7aWYoZnVuY3Rpb24gYyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksIWkpdGhyb3cgbi5Mb2cuZXJyb3IoXCJObyBlcnJvciBwYXNzZWQgdG8gRXJyb3JSZXNwb25zZVwiKSxuZXcgRXJyb3IoXCJlcnJvclwiKTt2YXIgaD1mdW5jdGlvbiBsKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9KHRoaXMsdC5jYWxsKHRoaXMsb3x8aSkpO3JldHVybiBoLm5hbWU9XCJFcnJvclJlc3BvbnNlXCIsaC5lcnJvcj1pLGguZXJyb3JfZGVzY3JpcHRpb249byxoLmVycm9yX3VyaT1zLGguc3RhdGU9YSxoLnNlc3Npb25fc3RhdGU9dSxofXJldHVybiBmdW5jdGlvbiByKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9KGUsdCksZX0oRXJyb3IpfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5TaWduaW5SZXF1ZXN0PXZvaWQgMDt2YXIgbj1yKDApLGk9cigzKSxvPXIoMTMpO2UuU2lnbmluUmVxdWVzdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9ZS51cmwscz1lLmNsaWVudF9pZCxhPWUucmVkaXJlY3RfdXJpLHU9ZS5yZXNwb25zZV90eXBlLGM9ZS5zY29wZSxoPWUuYXV0aG9yaXR5LGw9ZS5kYXRhLGY9ZS5wcm9tcHQsZD1lLmRpc3BsYXksZz1lLm1heF9hZ2UscD1lLnVpX2xvY2FsZXMsdj1lLmlkX3Rva2VuX2hpbnQseT1lLmxvZ2luX2hpbnQsbT1lLmFjcl92YWx1ZXMsXz1lLnJlc291cmNlLFM9ZS5yZXNwb25zZV9tb2RlLEY9ZS5yZXF1ZXN0LGI9ZS5yZXF1ZXN0X3VyaSx3PWUuZXh0cmFRdWVyeVBhcmFtcyxFPWUucmVxdWVzdF90eXBlLHg9ZS5jbGllbnRfc2VjcmV0LGs9ZS5leHRyYVRva2VuUGFyYW1zLEE9ZS5za2lwVXNlckluZm87aWYoZnVuY3Rpb24gUCh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksIXIpdGhyb3cgbi5Mb2cuZXJyb3IoXCJTaWduaW5SZXF1ZXN0LmN0b3I6IE5vIHVybCBwYXNzZWRcIiksbmV3IEVycm9yKFwidXJsXCIpO2lmKCFzKXRocm93IG4uTG9nLmVycm9yKFwiU2lnbmluUmVxdWVzdC5jdG9yOiBObyBjbGllbnRfaWQgcGFzc2VkXCIpLG5ldyBFcnJvcihcImNsaWVudF9pZFwiKTtpZighYSl0aHJvdyBuLkxvZy5lcnJvcihcIlNpZ25pblJlcXVlc3QuY3RvcjogTm8gcmVkaXJlY3RfdXJpIHBhc3NlZFwiKSxuZXcgRXJyb3IoXCJyZWRpcmVjdF91cmlcIik7aWYoIXUpdGhyb3cgbi5Mb2cuZXJyb3IoXCJTaWduaW5SZXF1ZXN0LmN0b3I6IE5vIHJlc3BvbnNlX3R5cGUgcGFzc2VkXCIpLG5ldyBFcnJvcihcInJlc3BvbnNlX3R5cGVcIik7aWYoIWMpdGhyb3cgbi5Mb2cuZXJyb3IoXCJTaWduaW5SZXF1ZXN0LmN0b3I6IE5vIHNjb3BlIHBhc3NlZFwiKSxuZXcgRXJyb3IoXCJzY29wZVwiKTtpZighaCl0aHJvdyBuLkxvZy5lcnJvcihcIlNpZ25pblJlcXVlc3QuY3RvcjogTm8gYXV0aG9yaXR5IHBhc3NlZFwiKSxuZXcgRXJyb3IoXCJhdXRob3JpdHlcIik7dmFyIEM9dC5pc09pZGModSksVD10LmlzQ29kZSh1KTtTfHwoUz10LmlzQ29kZSh1KT9cInF1ZXJ5XCI6bnVsbCksdGhpcy5zdGF0ZT1uZXcgby5TaWduaW5TdGF0ZSh7bm9uY2U6QyxkYXRhOmwsY2xpZW50X2lkOnMsYXV0aG9yaXR5OmgscmVkaXJlY3RfdXJpOmEsY29kZV92ZXJpZmllcjpULHJlcXVlc3RfdHlwZTpFLHJlc3BvbnNlX21vZGU6UyxjbGllbnRfc2VjcmV0Ongsc2NvcGU6YyxleHRyYVRva2VuUGFyYW1zOmssc2tpcFVzZXJJbmZvOkF9KSxyPWkuVXJsVXRpbGl0eS5hZGRRdWVyeVBhcmFtKHIsXCJjbGllbnRfaWRcIixzKSxyPWkuVXJsVXRpbGl0eS5hZGRRdWVyeVBhcmFtKHIsXCJyZWRpcmVjdF91cmlcIixhKSxyPWkuVXJsVXRpbGl0eS5hZGRRdWVyeVBhcmFtKHIsXCJyZXNwb25zZV90eXBlXCIsdSkscj1pLlVybFV0aWxpdHkuYWRkUXVlcnlQYXJhbShyLFwic2NvcGVcIixjKSxyPWkuVXJsVXRpbGl0eS5hZGRRdWVyeVBhcmFtKHIsXCJzdGF0ZVwiLHRoaXMuc3RhdGUuaWQpLEMmJihyPWkuVXJsVXRpbGl0eS5hZGRRdWVyeVBhcmFtKHIsXCJub25jZVwiLHRoaXMuc3RhdGUubm9uY2UpKSxUJiYocj1pLlVybFV0aWxpdHkuYWRkUXVlcnlQYXJhbShyLFwiY29kZV9jaGFsbGVuZ2VcIix0aGlzLnN0YXRlLmNvZGVfY2hhbGxlbmdlKSxyPWkuVXJsVXRpbGl0eS5hZGRRdWVyeVBhcmFtKHIsXCJjb2RlX2NoYWxsZW5nZV9tZXRob2RcIixcIlMyNTZcIikpO3ZhciBSPXtwcm9tcHQ6ZixkaXNwbGF5OmQsbWF4X2FnZTpnLHVpX2xvY2FsZXM6cCxpZF90b2tlbl9oaW50OnYsbG9naW5faGludDp5LGFjcl92YWx1ZXM6bSxyZXNvdXJjZTpfLHJlcXVlc3Q6RixyZXF1ZXN0X3VyaTpiLHJlc3BvbnNlX21vZGU6U307Zm9yKHZhciBJIGluIFIpUltJXSYmKHI9aS5VcmxVdGlsaXR5LmFkZFF1ZXJ5UGFyYW0ocixJLFJbSV0pKTtmb3IodmFyIEQgaW4gdylyPWkuVXJsVXRpbGl0eS5hZGRRdWVyeVBhcmFtKHIsRCx3W0RdKTt0aGlzLnVybD1yfXJldHVybiB0LmlzT2lkYz1mdW5jdGlvbiB0KGUpe3JldHVybiEhZS5zcGxpdCgvXFxzKy9nKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuXCJpZF90b2tlblwiPT09dH0pWzBdfSx0LmlzT0F1dGg9ZnVuY3Rpb24gdChlKXtyZXR1cm4hIWUuc3BsaXQoL1xccysvZykuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVyblwidG9rZW5cIj09PXR9KVswXX0sdC5pc0NvZGU9ZnVuY3Rpb24gdChlKXtyZXR1cm4hIWUuc3BsaXQoL1xccysvZykuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVyblwiY29kZVwiPT09dH0pWzBdfSx0fSgpfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5TaWduaW5TdGF0ZT12b2lkIDA7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxpPXIoMCksbz1yKDgpLHM9cig0KSxhPWZ1bmN0aW9uIHUodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShyKDE0KSk7ZS5TaWduaW5TdGF0ZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LG49ci5ub25jZSxpPXIuYXV0aG9yaXR5LG89ci5jbGllbnRfaWQsdT1yLnJlZGlyZWN0X3VyaSxjPXIuY29kZV92ZXJpZmllcixoPXIucmVzcG9uc2VfbW9kZSxsPXIuY2xpZW50X3NlY3JldCxmPXIuc2NvcGUsZD1yLmV4dHJhVG9rZW5QYXJhbXMsZz1yLnNraXBVc2VySW5mbzshZnVuY3Rpb24gcCh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSk7dmFyIHY9ZnVuY3Rpb24geSh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfSh0aGlzLHQuY2FsbCh0aGlzLGFyZ3VtZW50c1swXSkpO2lmKCEwPT09bj92Ll9ub25jZT0oMCxhLmRlZmF1bHQpKCk6biYmKHYuX25vbmNlPW4pLCEwPT09Yz92Ll9jb2RlX3ZlcmlmaWVyPSgwLGEuZGVmYXVsdCkoKSsoMCxhLmRlZmF1bHQpKCkrKDAsYS5kZWZhdWx0KSgpOmMmJih2Ll9jb2RlX3ZlcmlmaWVyPWMpLHYuY29kZV92ZXJpZmllcil7dmFyIG09cy5Kb3NlVXRpbC5oYXNoU3RyaW5nKHYuY29kZV92ZXJpZmllcixcIlNIQTI1NlwiKTt2Ll9jb2RlX2NoYWxsZW5nZT1zLkpvc2VVdGlsLmhleFRvQmFzZTY0VXJsKG0pfXJldHVybiB2Ll9yZWRpcmVjdF91cmk9dSx2Ll9hdXRob3JpdHk9aSx2Ll9jbGllbnRfaWQ9byx2Ll9yZXNwb25zZV9tb2RlPWgsdi5fY2xpZW50X3NlY3JldD1sLHYuX3Njb3BlPWYsdi5fZXh0cmFUb2tlblBhcmFtcz1kLHYuX3NraXBVc2VySW5mbz1nLHZ9cmV0dXJuIGZ1bmN0aW9uIHIodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX0oZSx0KSxlLnByb3RvdHlwZS50b1N0b3JhZ2VTdHJpbmc9ZnVuY3Rpb24gdCgpe3JldHVybiBpLkxvZy5kZWJ1ZyhcIlNpZ25pblN0YXRlLnRvU3RvcmFnZVN0cmluZ1wiKSxKU09OLnN0cmluZ2lmeSh7aWQ6dGhpcy5pZCxkYXRhOnRoaXMuZGF0YSxjcmVhdGVkOnRoaXMuY3JlYXRlZCxyZXF1ZXN0X3R5cGU6dGhpcy5yZXF1ZXN0X3R5cGUsbm9uY2U6dGhpcy5ub25jZSxjb2RlX3ZlcmlmaWVyOnRoaXMuY29kZV92ZXJpZmllcixyZWRpcmVjdF91cmk6dGhpcy5yZWRpcmVjdF91cmksYXV0aG9yaXR5OnRoaXMuYXV0aG9yaXR5LGNsaWVudF9pZDp0aGlzLmNsaWVudF9pZCxyZXNwb25zZV9tb2RlOnRoaXMucmVzcG9uc2VfbW9kZSxjbGllbnRfc2VjcmV0OnRoaXMuY2xpZW50X3NlY3JldCxzY29wZTp0aGlzLnNjb3BlLGV4dHJhVG9rZW5QYXJhbXM6dGhpcy5leHRyYVRva2VuUGFyYW1zLHNraXBVc2VySW5mbzp0aGlzLnNraXBVc2VySW5mb30pfSxlLmZyb21TdG9yYWdlU3RyaW5nPWZ1bmN0aW9uIHQocil7cmV0dXJuIGkuTG9nLmRlYnVnKFwiU2lnbmluU3RhdGUuZnJvbVN0b3JhZ2VTdHJpbmdcIiksbmV3IGUoSlNPTi5wYXJzZShyKSl9LG4oZSxbe2tleTpcIm5vbmNlXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fbm9uY2V9fSx7a2V5OlwiYXV0aG9yaXR5XCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fYXV0aG9yaXR5fX0se2tleTpcImNsaWVudF9pZFwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2NsaWVudF9pZH19LHtrZXk6XCJyZWRpcmVjdF91cmlcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9yZWRpcmVjdF91cml9fSx7a2V5OlwiY29kZV92ZXJpZmllclwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2NvZGVfdmVyaWZpZXJ9fSx7a2V5OlwiY29kZV9jaGFsbGVuZ2VcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9jb2RlX2NoYWxsZW5nZX19LHtrZXk6XCJyZXNwb25zZV9tb2RlXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fcmVzcG9uc2VfbW9kZX19LHtrZXk6XCJjbGllbnRfc2VjcmV0XCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fY2xpZW50X3NlY3JldH19LHtrZXk6XCJzY29wZVwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX3Njb3BlfX0se2tleTpcImV4dHJhVG9rZW5QYXJhbXNcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9leHRyYVRva2VuUGFyYW1zfX0se2tleTpcInNraXBVc2VySW5mb1wiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX3NraXBVc2VySW5mb319XSksZX0oby5TdGF0ZSl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9ZnVuY3Rpb24gbigpe3JldHVybigwLGkuZGVmYXVsdCkoKS5yZXBsYWNlKC8tL2csXCJcIil9O3ZhciBpPWZ1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fShyKDMzKSk7dC5leHBvcnRzPWUuZGVmYXVsdH0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuVXNlcj12b2lkIDA7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxpPXIoMCk7ZS5Vc2VyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1lLmlkX3Rva2VuLG49ZS5zZXNzaW9uX3N0YXRlLGk9ZS5hY2Nlc3NfdG9rZW4sbz1lLnJlZnJlc2hfdG9rZW4scz1lLnRva2VuX3R5cGUsYT1lLnNjb3BlLHU9ZS5wcm9maWxlLGM9ZS5leHBpcmVzX2F0LGg9ZS5zdGF0ZTshZnVuY3Rpb24gbCh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5pZF90b2tlbj1yLHRoaXMuc2Vzc2lvbl9zdGF0ZT1uLHRoaXMuYWNjZXNzX3Rva2VuPWksdGhpcy5yZWZyZXNoX3Rva2VuPW8sdGhpcy50b2tlbl90eXBlPXMsdGhpcy5zY29wZT1hLHRoaXMucHJvZmlsZT11LHRoaXMuZXhwaXJlc19hdD1jLHRoaXMuc3RhdGU9aH1yZXR1cm4gdC5wcm90b3R5cGUudG9TdG9yYWdlU3RyaW5nPWZ1bmN0aW9uIHQoKXtyZXR1cm4gaS5Mb2cuZGVidWcoXCJVc2VyLnRvU3RvcmFnZVN0cmluZ1wiKSxKU09OLnN0cmluZ2lmeSh7aWRfdG9rZW46dGhpcy5pZF90b2tlbixzZXNzaW9uX3N0YXRlOnRoaXMuc2Vzc2lvbl9zdGF0ZSxhY2Nlc3NfdG9rZW46dGhpcy5hY2Nlc3NfdG9rZW4scmVmcmVzaF90b2tlbjp0aGlzLnJlZnJlc2hfdG9rZW4sdG9rZW5fdHlwZTp0aGlzLnRva2VuX3R5cGUsc2NvcGU6dGhpcy5zY29wZSxwcm9maWxlOnRoaXMucHJvZmlsZSxleHBpcmVzX2F0OnRoaXMuZXhwaXJlc19hdH0pfSx0LmZyb21TdG9yYWdlU3RyaW5nPWZ1bmN0aW9uIGUocil7cmV0dXJuIGkuTG9nLmRlYnVnKFwiVXNlci5mcm9tU3RvcmFnZVN0cmluZ1wiKSxuZXcgdChKU09OLnBhcnNlKHIpKX0sbih0LFt7a2V5OlwiZXhwaXJlc19pblwiLGdldDpmdW5jdGlvbiB0KCl7aWYodGhpcy5leHBpcmVzX2F0KXt2YXIgZT1wYXJzZUludChEYXRlLm5vdygpLzFlMyk7cmV0dXJuIHRoaXMuZXhwaXJlc19hdC1lfX0sc2V0OmZ1bmN0aW9uIHQoZSl7dmFyIHI9cGFyc2VJbnQoZSk7aWYoXCJudW1iZXJcIj09dHlwZW9mIHImJnI+MCl7dmFyIG49cGFyc2VJbnQoRGF0ZS5ub3coKS8xZTMpO3RoaXMuZXhwaXJlc19hdD1uK3J9fX0se2tleTpcImV4cGlyZWRcIixnZXQ6ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXMuZXhwaXJlc19pbjtpZih2b2lkIDAhPT1lKXJldHVybiBlPD0wfX0se2tleTpcInNjb3Blc1wiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuKHRoaXMuc2NvcGV8fFwiXCIpLnNwbGl0KFwiIFwiKX19XSksdH0oKX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuQWNjZXNzVG9rZW5FdmVudHM9dm9pZCAwO3ZhciBuPXIoMCksaT1yKDQ4KTt2YXIgbz02MDtlLkFjY2Vzc1Rva2VuRXZlbnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxyPWUuYWNjZXNzVG9rZW5FeHBpcmluZ05vdGlmaWNhdGlvblRpbWUsbj12b2lkIDA9PT1yP286cixzPWUuYWNjZXNzVG9rZW5FeHBpcmluZ1RpbWVyLGE9dm9pZCAwPT09cz9uZXcgaS5UaW1lcihcIkFjY2VzcyB0b2tlbiBleHBpcmluZ1wiKTpzLHU9ZS5hY2Nlc3NUb2tlbkV4cGlyZWRUaW1lcixjPXZvaWQgMD09PXU/bmV3IGkuVGltZXIoXCJBY2Nlc3MgdG9rZW4gZXhwaXJlZFwiKTp1OyFmdW5jdGlvbiBoKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLl9hY2Nlc3NUb2tlbkV4cGlyaW5nTm90aWZpY2F0aW9uVGltZT1uLHRoaXMuX2FjY2Vzc1Rva2VuRXhwaXJpbmc9YSx0aGlzLl9hY2Nlc3NUb2tlbkV4cGlyZWQ9Y31yZXR1cm4gdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbiB0KGUpe2lmKGUuYWNjZXNzX3Rva2VuJiZ2b2lkIDAhPT1lLmV4cGlyZXNfaW4pe3ZhciByPWUuZXhwaXJlc19pbjtpZihuLkxvZy5kZWJ1ZyhcIkFjY2Vzc1Rva2VuRXZlbnRzLmxvYWQ6IGFjY2VzcyB0b2tlbiBwcmVzZW50LCByZW1haW5pbmcgZHVyYXRpb246XCIscikscj4wKXt2YXIgaT1yLXRoaXMuX2FjY2Vzc1Rva2VuRXhwaXJpbmdOb3RpZmljYXRpb25UaW1lO2k8PTAmJihpPTEpLG4uTG9nLmRlYnVnKFwiQWNjZXNzVG9rZW5FdmVudHMubG9hZDogcmVnaXN0ZXJpbmcgZXhwaXJpbmcgdGltZXIgaW46XCIsaSksdGhpcy5fYWNjZXNzVG9rZW5FeHBpcmluZy5pbml0KGkpfWVsc2Ugbi5Mb2cuZGVidWcoXCJBY2Nlc3NUb2tlbkV2ZW50cy5sb2FkOiBjYW5jZWxpbmcgZXhpc3RpbmcgZXhwaXJpbmcgdGltZXIgYmVjYXNlIHdlJ3JlIHBhc3QgZXhwaXJhdGlvbi5cIiksdGhpcy5fYWNjZXNzVG9rZW5FeHBpcmluZy5jYW5jZWwoKTt2YXIgbz1yKzE7bi5Mb2cuZGVidWcoXCJBY2Nlc3NUb2tlbkV2ZW50cy5sb2FkOiByZWdpc3RlcmluZyBleHBpcmVkIHRpbWVyIGluOlwiLG8pLHRoaXMuX2FjY2Vzc1Rva2VuRXhwaXJlZC5pbml0KG8pfWVsc2UgdGhpcy5fYWNjZXNzVG9rZW5FeHBpcmluZy5jYW5jZWwoKSx0aGlzLl9hY2Nlc3NUb2tlbkV4cGlyZWQuY2FuY2VsKCl9LHQucHJvdG90eXBlLnVubG9hZD1mdW5jdGlvbiB0KCl7bi5Mb2cuZGVidWcoXCJBY2Nlc3NUb2tlbkV2ZW50cy51bmxvYWQ6IGNhbmNlbGluZyBleGlzdGluZyBhY2Nlc3MgdG9rZW4gdGltZXJzXCIpLHRoaXMuX2FjY2Vzc1Rva2VuRXhwaXJpbmcuY2FuY2VsKCksdGhpcy5fYWNjZXNzVG9rZW5FeHBpcmVkLmNhbmNlbCgpfSx0LnByb3RvdHlwZS5hZGRBY2Nlc3NUb2tlbkV4cGlyaW5nPWZ1bmN0aW9uIHQoZSl7dGhpcy5fYWNjZXNzVG9rZW5FeHBpcmluZy5hZGRIYW5kbGVyKGUpfSx0LnByb3RvdHlwZS5yZW1vdmVBY2Nlc3NUb2tlbkV4cGlyaW5nPWZ1bmN0aW9uIHQoZSl7dGhpcy5fYWNjZXNzVG9rZW5FeHBpcmluZy5yZW1vdmVIYW5kbGVyKGUpfSx0LnByb3RvdHlwZS5hZGRBY2Nlc3NUb2tlbkV4cGlyZWQ9ZnVuY3Rpb24gdChlKXt0aGlzLl9hY2Nlc3NUb2tlbkV4cGlyZWQuYWRkSGFuZGxlcihlKX0sdC5wcm90b3R5cGUucmVtb3ZlQWNjZXNzVG9rZW5FeHBpcmVkPWZ1bmN0aW9uIHQoZSl7dGhpcy5fYWNjZXNzVG9rZW5FeHBpcmVkLnJlbW92ZUhhbmRsZXIoZSl9LHR9KCl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLkV2ZW50PXZvaWQgMDt2YXIgbj1yKDApO2UuRXZlbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpeyFmdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLl9uYW1lPWUsdGhpcy5fY2FsbGJhY2tzPVtdfXJldHVybiB0LnByb3RvdHlwZS5hZGRIYW5kbGVyPWZ1bmN0aW9uIHQoZSl7dGhpcy5fY2FsbGJhY2tzLnB1c2goZSl9LHQucHJvdG90eXBlLnJlbW92ZUhhbmRsZXI9ZnVuY3Rpb24gdChlKXt2YXIgcj10aGlzLl9jYWxsYmFja3MuZmluZEluZGV4KGZ1bmN0aW9uKHQpe3JldHVybiB0PT09ZX0pO3I+PTAmJnRoaXMuX2NhbGxiYWNrcy5zcGxpY2UociwxKX0sdC5wcm90b3R5cGUucmFpc2U9ZnVuY3Rpb24gdCgpe24uTG9nLmRlYnVnKFwiRXZlbnQ6IFJhaXNpbmcgZXZlbnQ6IFwiK3RoaXMuX25hbWUpO2Zvcih2YXIgZT0wO2U8dGhpcy5fY2FsbGJhY2tzLmxlbmd0aDtlKyspe3ZhciByOyhyPXRoaXMuX2NhbGxiYWNrcylbZV0uYXBwbHkocixhcmd1bWVudHMpfX0sdH0oKX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuU2Vzc2lvbk1vbml0b3I9dm9pZCAwO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksaT1yKDApLG89cigxOSkscz1yKDEpO2UuU2Vzc2lvbk1vbml0b3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06by5DaGVja1Nlc3Npb25JRnJhbWUsYT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06cy5HbG9iYWwudGltZXI7aWYoZnVuY3Rpb24gdSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksIWUpdGhyb3cgaS5Mb2cuZXJyb3IoXCJTZXNzaW9uTW9uaXRvci5jdG9yOiBObyB1c2VyIG1hbmFnZXIgcGFzc2VkIHRvIFNlc3Npb25Nb25pdG9yXCIpLG5ldyBFcnJvcihcInVzZXJNYW5hZ2VyXCIpO3RoaXMuX3VzZXJNYW5hZ2VyPWUsdGhpcy5fQ2hlY2tTZXNzaW9uSUZyYW1lQ3Rvcj1uLHRoaXMuX3RpbWVyPWEsdGhpcy5fdXNlck1hbmFnZXIuZXZlbnRzLmFkZFVzZXJMb2FkZWQodGhpcy5fc3RhcnQuYmluZCh0aGlzKSksdGhpcy5fdXNlck1hbmFnZXIuZXZlbnRzLmFkZFVzZXJVbmxvYWRlZCh0aGlzLl9zdG9wLmJpbmQodGhpcykpLHRoaXMuX3VzZXJNYW5hZ2VyLmdldFVzZXIoKS50aGVuKGZ1bmN0aW9uKHQpe3Q/ci5fc3RhcnQodCk6ci5fc2V0dGluZ3MubW9uaXRvckFub255bW91c1Nlc3Npb24mJnIuX3VzZXJNYW5hZ2VyLnF1ZXJ5U2Vzc2lvblN0YXR1cygpLnRoZW4oZnVuY3Rpb24odCl7dmFyIGU9e3Nlc3Npb25fc3RhdGU6dC5zZXNzaW9uX3N0YXRlfTt0LnN1YiYmdC5zaWQmJihlLnByb2ZpbGU9e3N1Yjp0LnN1YixzaWQ6dC5zaWR9KSxyLl9zdGFydChlKX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2kuTG9nLmVycm9yKFwiU2Vzc2lvbk1vbml0b3IgY3RvcjogZXJyb3IgZnJvbSBxdWVyeVNlc3Npb25TdGF0dXM6XCIsdC5tZXNzYWdlKX0pfSkuY2F0Y2goZnVuY3Rpb24odCl7aS5Mb2cuZXJyb3IoXCJTZXNzaW9uTW9uaXRvciBjdG9yOiBlcnJvciBmcm9tIGdldFVzZXI6XCIsdC5tZXNzYWdlKX0pfXJldHVybiB0LnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24gdChlKXt2YXIgcj10aGlzLG49ZS5zZXNzaW9uX3N0YXRlO24mJihlLnByb2ZpbGU/KHRoaXMuX3N1Yj1lLnByb2ZpbGUuc3ViLHRoaXMuX3NpZD1lLnByb2ZpbGUuc2lkLGkuTG9nLmRlYnVnKFwiU2Vzc2lvbk1vbml0b3IuX3N0YXJ0OiBzZXNzaW9uX3N0YXRlOlwiLG4sXCIsIHN1YjpcIix0aGlzLl9zdWIpKToodGhpcy5fc3ViPXZvaWQgMCx0aGlzLl9zaWQ9dm9pZCAwLGkuTG9nLmRlYnVnKFwiU2Vzc2lvbk1vbml0b3IuX3N0YXJ0OiBzZXNzaW9uX3N0YXRlOlwiLG4sXCIsIGFub255bW91cyB1c2VyXCIpKSx0aGlzLl9jaGVja1Nlc3Npb25JRnJhbWU/dGhpcy5fY2hlY2tTZXNzaW9uSUZyYW1lLnN0YXJ0KG4pOnRoaXMuX21ldGFkYXRhU2VydmljZS5nZXRDaGVja1Nlc3Npb25JZnJhbWUoKS50aGVuKGZ1bmN0aW9uKHQpe2lmKHQpe2kuTG9nLmRlYnVnKFwiU2Vzc2lvbk1vbml0b3IuX3N0YXJ0OiBJbml0aWFsaXppbmcgY2hlY2sgc2Vzc2lvbiBpZnJhbWVcIik7dmFyIGU9ci5fY2xpZW50X2lkLG89ci5fY2hlY2tTZXNzaW9uSW50ZXJ2YWwscz1yLl9zdG9wQ2hlY2tTZXNzaW9uT25FcnJvcjtyLl9jaGVja1Nlc3Npb25JRnJhbWU9bmV3IHIuX0NoZWNrU2Vzc2lvbklGcmFtZUN0b3Ioci5fY2FsbGJhY2suYmluZChyKSxlLHQsbyxzKSxyLl9jaGVja1Nlc3Npb25JRnJhbWUubG9hZCgpLnRoZW4oZnVuY3Rpb24oKXtyLl9jaGVja1Nlc3Npb25JRnJhbWUuc3RhcnQobil9KX1lbHNlIGkuTG9nLndhcm4oXCJTZXNzaW9uTW9uaXRvci5fc3RhcnQ6IE5vIGNoZWNrIHNlc3Npb24gaWZyYW1lIGZvdW5kIGluIHRoZSBtZXRhZGF0YVwiKX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2kuTG9nLmVycm9yKFwiU2Vzc2lvbk1vbml0b3IuX3N0YXJ0OiBFcnJvciBmcm9tIGdldENoZWNrU2Vzc2lvbklmcmFtZTpcIix0Lm1lc3NhZ2UpfSkpfSx0LnByb3RvdHlwZS5fc3RvcD1mdW5jdGlvbiB0KCl7dmFyIGU9dGhpcztpZih0aGlzLl9zdWI9dm9pZCAwLHRoaXMuX3NpZD12b2lkIDAsdGhpcy5fY2hlY2tTZXNzaW9uSUZyYW1lJiYoaS5Mb2cuZGVidWcoXCJTZXNzaW9uTW9uaXRvci5fc3RvcFwiKSx0aGlzLl9jaGVja1Nlc3Npb25JRnJhbWUuc3RvcCgpKSx0aGlzLl9zZXR0aW5ncy5tb25pdG9yQW5vbnltb3VzU2Vzc2lvbil2YXIgcj10aGlzLl90aW1lci5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UuX3RpbWVyLmNsZWFySW50ZXJ2YWwociksZS5fdXNlck1hbmFnZXIucXVlcnlTZXNzaW9uU3RhdHVzKCkudGhlbihmdW5jdGlvbih0KXt2YXIgcj17c2Vzc2lvbl9zdGF0ZTp0LnNlc3Npb25fc3RhdGV9O3Quc3ViJiZ0LnNpZCYmKHIucHJvZmlsZT17c3ViOnQuc3ViLHNpZDp0LnNpZH0pLGUuX3N0YXJ0KHIpfSkuY2F0Y2goZnVuY3Rpb24odCl7aS5Mb2cuZXJyb3IoXCJTZXNzaW9uTW9uaXRvcjogZXJyb3IgZnJvbSBxdWVyeVNlc3Npb25TdGF0dXM6XCIsdC5tZXNzYWdlKX0pfSwxZTMpfSx0LnByb3RvdHlwZS5fY2FsbGJhY2s9ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXM7dGhpcy5fdXNlck1hbmFnZXIucXVlcnlTZXNzaW9uU3RhdHVzKCkudGhlbihmdW5jdGlvbih0KXt2YXIgcj0hMDt0P3Quc3ViPT09ZS5fc3ViPyhyPSExLGUuX2NoZWNrU2Vzc2lvbklGcmFtZS5zdGFydCh0LnNlc3Npb25fc3RhdGUpLHQuc2lkPT09ZS5fc2lkP2kuTG9nLmRlYnVnKFwiU2Vzc2lvbk1vbml0b3IuX2NhbGxiYWNrOiBTYW1lIHN1YiBzdGlsbCBsb2dnZWQgaW4gYXQgT1AsIHJlc3RhcnRpbmcgY2hlY2sgc2Vzc2lvbiBpZnJhbWU7IHNlc3Npb25fc3RhdGU6XCIsdC5zZXNzaW9uX3N0YXRlKTooaS5Mb2cuZGVidWcoXCJTZXNzaW9uTW9uaXRvci5fY2FsbGJhY2s6IFNhbWUgc3ViIHN0aWxsIGxvZ2dlZCBpbiBhdCBPUCwgc2Vzc2lvbiBzdGF0ZSBoYXMgY2hhbmdlZCwgcmVzdGFydGluZyBjaGVjayBzZXNzaW9uIGlmcmFtZTsgc2Vzc2lvbl9zdGF0ZTpcIix0LnNlc3Npb25fc3RhdGUpLGUuX3VzZXJNYW5hZ2VyLmV2ZW50cy5fcmFpc2VVc2VyU2Vzc2lvbkNoYW5nZWQoKSkpOmkuTG9nLmRlYnVnKFwiU2Vzc2lvbk1vbml0b3IuX2NhbGxiYWNrOiBEaWZmZXJlbnQgc3ViamVjdCBzaWduZWQgaW50byBPUDpcIix0LnN1Yik6aS5Mb2cuZGVidWcoXCJTZXNzaW9uTW9uaXRvci5fY2FsbGJhY2s6IFN1YmplY3Qgbm8gbG9uZ2VyIHNpZ25lZCBpbnRvIE9QXCIpLHImJihlLl9zdWI/KGkuTG9nLmRlYnVnKFwiU2Vzc2lvbk1vbml0b3IuX2NhbGxiYWNrOiBTZXNzaW9uTW9uaXRvci5fY2FsbGJhY2s7IHJhaXNpbmcgc2lnbmVkIG91dCBldmVudFwiKSxlLl91c2VyTWFuYWdlci5ldmVudHMuX3JhaXNlVXNlclNpZ25lZE91dCgpKTooaS5Mb2cuZGVidWcoXCJTZXNzaW9uTW9uaXRvci5fY2FsbGJhY2s6IFNlc3Npb25Nb25pdG9yLl9jYWxsYmFjazsgcmFpc2luZyBzaWduZWQgaW4gZXZlbnRcIiksZS5fdXNlck1hbmFnZXIuZXZlbnRzLl9yYWlzZVVzZXJTaWduZWRJbigpKSl9KS5jYXRjaChmdW5jdGlvbih0KXtlLl9zdWImJihpLkxvZy5kZWJ1ZyhcIlNlc3Npb25Nb25pdG9yLl9jYWxsYmFjazogRXJyb3IgY2FsbGluZyBxdWVyeUN1cnJlbnRTaWduaW5TZXNzaW9uOyByYWlzaW5nIHNpZ25lZCBvdXQgZXZlbnRcIix0Lm1lc3NhZ2UpLGUuX3VzZXJNYW5hZ2VyLmV2ZW50cy5fcmFpc2VVc2VyU2lnbmVkT3V0KCkpfSl9LG4odCxbe2tleTpcIl9zZXR0aW5nc1wiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX3VzZXJNYW5hZ2VyLnNldHRpbmdzfX0se2tleTpcIl9tZXRhZGF0YVNlcnZpY2VcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl91c2VyTWFuYWdlci5tZXRhZGF0YVNlcnZpY2V9fSx7a2V5OlwiX2NsaWVudF9pZFwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX3NldHRpbmdzLmNsaWVudF9pZH19LHtrZXk6XCJfY2hlY2tTZXNzaW9uSW50ZXJ2YWxcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9zZXR0aW5ncy5jaGVja1Nlc3Npb25JbnRlcnZhbH19LHtrZXk6XCJfc3RvcENoZWNrU2Vzc2lvbk9uRXJyb3JcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9zZXR0aW5ncy5zdG9wQ2hlY2tTZXNzaW9uT25FcnJvcn19XSksdH0oKX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuQ2hlY2tTZXNzaW9uSUZyYW1lPXZvaWQgMDt2YXIgbj1yKDApO3ZhciBpPTJlMztlLkNoZWNrU2Vzc2lvbklGcmFtZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxyLG4sbyl7dmFyIHM9IShhcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSl8fGFyZ3VtZW50c1s0XTshZnVuY3Rpb24gYSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5fY2FsbGJhY2s9ZSx0aGlzLl9jbGllbnRfaWQ9cix0aGlzLl91cmw9bix0aGlzLl9pbnRlcnZhbD1vfHxpLHRoaXMuX3N0b3BPbkVycm9yPXM7dmFyIHU9bi5pbmRleE9mKFwiL1wiLG4uaW5kZXhPZihcIi8vXCIpKzIpO3RoaXMuX2ZyYW1lX29yaWdpbj1uLnN1YnN0cigwLHUpLHRoaXMuX2ZyYW1lPXdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpLHRoaXMuX2ZyYW1lLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0aGlzLl9mcmFtZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5fZnJhbWUuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLl9mcmFtZS5zdHlsZS53aWR0aD0wLHRoaXMuX2ZyYW1lLnN0eWxlLmhlaWdodD0wLHRoaXMuX2ZyYW1lLnNyYz1ufXJldHVybiB0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uIHQoKXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0KXtlLl9mcmFtZS5vbmxvYWQ9ZnVuY3Rpb24oKXt0KCl9LHdpbmRvdy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUuX2ZyYW1lKSxlLl9ib3VuZE1lc3NhZ2VFdmVudD1lLl9tZXNzYWdlLmJpbmQoZSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZS5fYm91bmRNZXNzYWdlRXZlbnQsITEpfSl9LHQucHJvdG90eXBlLl9tZXNzYWdlPWZ1bmN0aW9uIHQoZSl7ZS5vcmlnaW49PT10aGlzLl9mcmFtZV9vcmlnaW4mJmUuc291cmNlPT09dGhpcy5fZnJhbWUuY29udGVudFdpbmRvdyYmKFwiZXJyb3JcIj09PWUuZGF0YT8obi5Mb2cuZXJyb3IoXCJDaGVja1Nlc3Npb25JRnJhbWU6IGVycm9yIG1lc3NhZ2UgZnJvbSBjaGVjayBzZXNzaW9uIG9wIGlmcmFtZVwiKSx0aGlzLl9zdG9wT25FcnJvciYmdGhpcy5zdG9wKCkpOlwiY2hhbmdlZFwiPT09ZS5kYXRhPyhuLkxvZy5kZWJ1ZyhcIkNoZWNrU2Vzc2lvbklGcmFtZTogY2hhbmdlZCBtZXNzYWdlIGZyb20gY2hlY2sgc2Vzc2lvbiBvcCBpZnJhbWVcIiksdGhpcy5zdG9wKCksdGhpcy5fY2FsbGJhY2soKSk6bi5Mb2cuZGVidWcoXCJDaGVja1Nlc3Npb25JRnJhbWU6IFwiK2UuZGF0YStcIiBtZXNzYWdlIGZyb20gY2hlY2sgc2Vzc2lvbiBvcCBpZnJhbWVcIikpfSx0LnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbiB0KGUpe3ZhciByPXRoaXM7aWYodGhpcy5fc2Vzc2lvbl9zdGF0ZSE9PWUpe24uTG9nLmRlYnVnKFwiQ2hlY2tTZXNzaW9uSUZyYW1lLnN0YXJ0XCIpLHRoaXMuc3RvcCgpLHRoaXMuX3Nlc3Npb25fc3RhdGU9ZTt2YXIgaT1mdW5jdGlvbiB0KCl7ci5fZnJhbWUuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZShyLl9jbGllbnRfaWQrXCIgXCIrci5fc2Vzc2lvbl9zdGF0ZSxyLl9mcmFtZV9vcmlnaW4pfTtpKCksdGhpcy5fdGltZXI9d2luZG93LnNldEludGVydmFsKGksdGhpcy5faW50ZXJ2YWwpfX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbiB0KCl7dGhpcy5fc2Vzc2lvbl9zdGF0ZT1udWxsLHRoaXMuX3RpbWVyJiYobi5Mb2cuZGVidWcoXCJDaGVja1Nlc3Npb25JRnJhbWUuc3RvcFwiKSx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl90aW1lciksdGhpcy5fdGltZXI9bnVsbCl9LHR9KCl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLlRva2VuUmV2b2NhdGlvbkNsaWVudD12b2lkIDA7dmFyIG49cigwKSxpPXIoMiksbz1yKDEpO2UuVG9rZW5SZXZvY2F0aW9uQ2xpZW50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06by5HbG9iYWwuWE1MSHR0cFJlcXVlc3Qscz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06aS5NZXRhZGF0YVNlcnZpY2U7aWYoZnVuY3Rpb24gYSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksIWUpdGhyb3cgbi5Mb2cuZXJyb3IoXCJUb2tlblJldm9jYXRpb25DbGllbnQuY3RvcjogTm8gc2V0dGluZ3MgcHJvdmlkZWRcIiksbmV3IEVycm9yKFwiTm8gc2V0dGluZ3MgcHJvdmlkZWQuXCIpO3RoaXMuX3NldHRpbmdzPWUsdGhpcy5fWE1MSHR0cFJlcXVlc3RDdG9yPXIsdGhpcy5fbWV0YWRhdGFTZXJ2aWNlPW5ldyBzKHRoaXMuX3NldHRpbmdzKX1yZXR1cm4gdC5wcm90b3R5cGUucmV2b2tlPWZ1bmN0aW9uIHQoZSxyKXt2YXIgaT10aGlzLG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlwiYWNjZXNzX3Rva2VuXCI7aWYoIWUpdGhyb3cgbi5Mb2cuZXJyb3IoXCJUb2tlblJldm9jYXRpb25DbGllbnQucmV2b2tlOiBObyB0b2tlbiBwcm92aWRlZFwiKSxuZXcgRXJyb3IoXCJObyB0b2tlbiBwcm92aWRlZC5cIik7aWYoXCJhY2Nlc3NfdG9rZW5cIiE9PW8mJlwicmVmcmVzaF90b2tlblwiIT1vKXRocm93IG4uTG9nLmVycm9yKFwiVG9rZW5SZXZvY2F0aW9uQ2xpZW50LnJldm9rZTogSW52YWxpZCB0b2tlbiB0eXBlXCIpLG5ldyBFcnJvcihcIkludmFsaWQgdG9rZW4gdHlwZS5cIik7cmV0dXJuIHRoaXMuX21ldGFkYXRhU2VydmljZS5nZXRSZXZvY2F0aW9uRW5kcG9pbnQoKS50aGVuKGZ1bmN0aW9uKHQpe2lmKHQpe24uTG9nLmRlYnVnKFwiVG9rZW5SZXZvY2F0aW9uQ2xpZW50LnJldm9rZTogUmV2b2tpbmcgXCIrbyk7dmFyIHM9aS5fc2V0dGluZ3MuY2xpZW50X2lkLGE9aS5fc2V0dGluZ3MuY2xpZW50X3NlY3JldDtyZXR1cm4gaS5fcmV2b2tlKHQscyxhLGUsbyl9aWYocil0aHJvdyBuLkxvZy5lcnJvcihcIlRva2VuUmV2b2NhdGlvbkNsaWVudC5yZXZva2U6IFJldm9jYXRpb24gbm90IHN1cHBvcnRlZFwiKSxuZXcgRXJyb3IoXCJSZXZvY2F0aW9uIG5vdCBzdXBwb3J0ZWRcIil9KX0sdC5wcm90b3R5cGUuX3Jldm9rZT1mdW5jdGlvbiB0KGUscixpLG8scyl7dmFyIGE9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCx1KXt2YXIgYz1uZXcgYS5fWE1MSHR0cFJlcXVlc3RDdG9yO2Mub3BlbihcIlBPU1RcIixlKSxjLm9ubG9hZD1mdW5jdGlvbigpe24uTG9nLmRlYnVnKFwiVG9rZW5SZXZvY2F0aW9uQ2xpZW50LnJldm9rZTogSFRUUCByZXNwb25zZSByZWNlaXZlZCwgc3RhdHVzXCIsYy5zdGF0dXMpLDIwMD09PWMuc3RhdHVzP3QoKTp1KEVycm9yKGMuc3RhdHVzVGV4dCtcIiAoXCIrYy5zdGF0dXMrXCIpXCIpKX0sYy5vbmVycm9yPWZ1bmN0aW9uKCl7bi5Mb2cuZGVidWcoXCJUb2tlblJldm9jYXRpb25DbGllbnQucmV2b2tlOiBOZXR3b3JrIEVycm9yLlwiKSx1KFwiTmV0d29yayBFcnJvclwiKX07dmFyIGg9XCJjbGllbnRfaWQ9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHIpO2kmJihoKz1cIiZjbGllbnRfc2VjcmV0PVwiK2VuY29kZVVSSUNvbXBvbmVudChpKSksaCs9XCImdG9rZW5fdHlwZV9oaW50PVwiK2VuY29kZVVSSUNvbXBvbmVudChzKSxoKz1cIiZ0b2tlbj1cIitlbmNvZGVVUklDb21wb25lbnQobyksYy5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiksYy5zZW5kKGgpfSl9LHR9KCl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLkNvcmRvdmFQb3B1cFdpbmRvdz12b2lkIDA7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxpPXIoMCk7dmFyIG89XCJsb2NhdGlvbj1ubyx0b29sYmFyPW5vLHpvb209bm9cIixzPVwiX2JsYW5rXCI7ZS5Db3Jkb3ZhUG9wdXBXaW5kb3c9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPXRoaXM7IWZ1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuX3Byb21pc2U9bmV3IFByb21pc2UoZnVuY3Rpb24odCxlKXtyLl9yZXNvbHZlPXQsci5fcmVqZWN0PWV9KSx0aGlzLmZlYXR1cmVzPWUucG9wdXBXaW5kb3dGZWF0dXJlc3x8byx0aGlzLnRhcmdldD1lLnBvcHVwV2luZG93VGFyZ2V0fHxzLHRoaXMucmVkaXJlY3RfdXJpPWUuc3RhcnRVcmwsaS5Mb2cuZGVidWcoXCJDb3Jkb3ZhUG9wdXBXaW5kb3cuY3RvcjogcmVkaXJlY3RfdXJpOiBcIit0aGlzLnJlZGlyZWN0X3VyaSl9cmV0dXJuIHQucHJvdG90eXBlLl9pc0luQXBwQnJvd3Nlckluc3RhbGxlZD1mdW5jdGlvbiB0KGUpe3JldHVybltcImNvcmRvdmEtcGx1Z2luLWluYXBwYnJvd3NlclwiLFwiY29yZG92YS1wbHVnaW4taW5hcHBicm93c2VyLmluYXBwYnJvd3NlclwiLFwib3JnLmFwYWNoZS5jb3Jkb3ZhLmluYXBwYnJvd3NlclwiXS5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiBlLmhhc093blByb3BlcnR5KHQpfSl9LHQucHJvdG90eXBlLm5hdmlnYXRlPWZ1bmN0aW9uIHQoZSl7aWYoZSYmZS51cmwpe2lmKCF3aW5kb3cuY29yZG92YSlyZXR1cm4gdGhpcy5fZXJyb3IoXCJjb3Jkb3ZhIGlzIHVuZGVmaW5lZFwiKTt2YXIgcj13aW5kb3cuY29yZG92YS5yZXF1aXJlKFwiY29yZG92YS9wbHVnaW5fbGlzdFwiKS5tZXRhZGF0YTtpZighMT09PXRoaXMuX2lzSW5BcHBCcm93c2VySW5zdGFsbGVkKHIpKXJldHVybiB0aGlzLl9lcnJvcihcIkluQXBwQnJvd3NlciBwbHVnaW4gbm90IGZvdW5kXCIpO3RoaXMuX3BvcHVwPWNvcmRvdmEuSW5BcHBCcm93c2VyLm9wZW4oZS51cmwsdGhpcy50YXJnZXQsdGhpcy5mZWF0dXJlcyksdGhpcy5fcG9wdXA/KGkuTG9nLmRlYnVnKFwiQ29yZG92YVBvcHVwV2luZG93Lm5hdmlnYXRlOiBwb3B1cCBzdWNjZXNzZnVsbHkgY3JlYXRlZFwiKSx0aGlzLl9leGl0Q2FsbGJhY2tFdmVudD10aGlzLl9leGl0Q2FsbGJhY2suYmluZCh0aGlzKSx0aGlzLl9sb2FkU3RhcnRDYWxsYmFja0V2ZW50PXRoaXMuX2xvYWRTdGFydENhbGxiYWNrLmJpbmQodGhpcyksdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImV4aXRcIix0aGlzLl9leGl0Q2FsbGJhY2tFdmVudCwhMSksdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRzdGFydFwiLHRoaXMuX2xvYWRTdGFydENhbGxiYWNrRXZlbnQsITEpKTp0aGlzLl9lcnJvcihcIkVycm9yIG9wZW5pbmcgcG9wdXAgd2luZG93XCIpfWVsc2UgdGhpcy5fZXJyb3IoXCJObyB1cmwgcHJvdmlkZWRcIik7cmV0dXJuIHRoaXMucHJvbWlzZX0sdC5wcm90b3R5cGUuX2xvYWRTdGFydENhbGxiYWNrPWZ1bmN0aW9uIHQoZSl7MD09PWUudXJsLmluZGV4T2YodGhpcy5yZWRpcmVjdF91cmkpJiZ0aGlzLl9zdWNjZXNzKHt1cmw6ZS51cmx9KX0sdC5wcm90b3R5cGUuX2V4aXRDYWxsYmFjaz1mdW5jdGlvbiB0KGUpe3RoaXMuX2Vycm9yKGUpfSx0LnByb3RvdHlwZS5fc3VjY2Vzcz1mdW5jdGlvbiB0KGUpe3RoaXMuX2NsZWFudXAoKSxpLkxvZy5kZWJ1ZyhcIkNvcmRvdmFQb3B1cFdpbmRvdzogU3VjY2Vzc2Z1bCByZXNwb25zZSBmcm9tIGNvcmRvdmEgcG9wdXAgd2luZG93XCIpLHRoaXMuX3Jlc29sdmUoZSl9LHQucHJvdG90eXBlLl9lcnJvcj1mdW5jdGlvbiB0KGUpe3RoaXMuX2NsZWFudXAoKSxpLkxvZy5lcnJvcihlKSx0aGlzLl9yZWplY3QobmV3IEVycm9yKGUpKX0sdC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24gdCgpe3RoaXMuX2NsZWFudXAoKX0sdC5wcm90b3R5cGUuX2NsZWFudXA9ZnVuY3Rpb24gdCgpe3RoaXMuX3BvcHVwJiYoaS5Mb2cuZGVidWcoXCJDb3Jkb3ZhUG9wdXBXaW5kb3c6IGNsZWFuaW5nIHVwIHBvcHVwXCIpLHRoaXMuX3BvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJleGl0XCIsdGhpcy5fZXhpdENhbGxiYWNrRXZlbnQsITEpLHRoaXMuX3BvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2Fkc3RhcnRcIix0aGlzLl9sb2FkU3RhcnRDYWxsYmFja0V2ZW50LCExKSx0aGlzLl9wb3B1cC5jbG9zZSgpKSx0aGlzLl9wb3B1cD1udWxsfSxuKHQsW3trZXk6XCJwcm9taXNlXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fcHJvbWlzZX19XSksdH0oKX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMCksaT1yKDkpLG89cig1KSxzPXIoNiksYT1yKDM5KSx1PXIoNDApLGM9cigxNiksaD1yKDIpLGw9cig1MCksZj1yKDUxKSxkPXIoMTkpLGc9cigyMCkscD1yKDE4KSx2PXIoMSkseT1yKDE1KSxtPXIoNTIpO2UuZGVmYXVsdD17VmVyc2lvbjptLlZlcnNpb24sTG9nOm4uTG9nLE9pZGNDbGllbnQ6aS5PaWRjQ2xpZW50LE9pZGNDbGllbnRTZXR0aW5nczpvLk9pZGNDbGllbnRTZXR0aW5ncyxXZWJTdG9yYWdlU3RhdGVTdG9yZTpzLldlYlN0b3JhZ2VTdGF0ZVN0b3JlLEluTWVtb3J5V2ViU3RvcmFnZTphLkluTWVtb3J5V2ViU3RvcmFnZSxVc2VyTWFuYWdlcjp1LlVzZXJNYW5hZ2VyLEFjY2Vzc1Rva2VuRXZlbnRzOmMuQWNjZXNzVG9rZW5FdmVudHMsTWV0YWRhdGFTZXJ2aWNlOmguTWV0YWRhdGFTZXJ2aWNlLENvcmRvdmFQb3B1cE5hdmlnYXRvcjpsLkNvcmRvdmFQb3B1cE5hdmlnYXRvcixDb3Jkb3ZhSUZyYW1lTmF2aWdhdG9yOmYuQ29yZG92YUlGcmFtZU5hdmlnYXRvcixDaGVja1Nlc3Npb25JRnJhbWU6ZC5DaGVja1Nlc3Npb25JRnJhbWUsVG9rZW5SZXZvY2F0aW9uQ2xpZW50OmcuVG9rZW5SZXZvY2F0aW9uQ2xpZW50LFNlc3Npb25Nb25pdG9yOnAuU2Vzc2lvbk1vbml0b3IsR2xvYmFsOnYuR2xvYmFsLFVzZXI6eS5Vc2VyfSx0LmV4cG9ydHM9ZS5kZWZhdWx0fSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5SZXNwb25zZVZhbGlkYXRvcj12b2lkIDA7dmFyIG49XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0saT1yKDApLG89cigyKSxzPXIoMjQpLGE9cigxMCksdT1yKDExKSxjPXIoNCk7dmFyIGg9W1wibm9uY2VcIixcImF0X2hhc2hcIixcImlhdFwiLFwibmJmXCIsXCJleHBcIixcImF1ZFwiLFwiaXNzXCIsXCJjX2hhc2hcIl07ZS5SZXNwb25zZVZhbGlkYXRvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm8uTWV0YWRhdGFTZXJ2aWNlLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnMuVXNlckluZm9TZXJ2aWNlLHU9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOmMuSm9zZVV0aWwsaD1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06YS5Ub2tlbkNsaWVudDtpZihmdW5jdGlvbiBsKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSwhZSl0aHJvdyBpLkxvZy5lcnJvcihcIlJlc3BvbnNlVmFsaWRhdG9yLmN0b3I6IE5vIHNldHRpbmdzIHBhc3NlZCB0byBSZXNwb25zZVZhbGlkYXRvclwiKSxuZXcgRXJyb3IoXCJzZXR0aW5nc1wiKTt0aGlzLl9zZXR0aW5ncz1lLHRoaXMuX21ldGFkYXRhU2VydmljZT1uZXcgcih0aGlzLl9zZXR0aW5ncyksdGhpcy5fdXNlckluZm9TZXJ2aWNlPW5ldyBuKHRoaXMuX3NldHRpbmdzKSx0aGlzLl9qb3NlVXRpbD11LHRoaXMuX3Rva2VuQ2xpZW50PW5ldyBoKHRoaXMuX3NldHRpbmdzKX1yZXR1cm4gdC5wcm90b3R5cGUudmFsaWRhdGVTaWduaW5SZXNwb25zZT1mdW5jdGlvbiB0KGUscil7dmFyIG49dGhpcztyZXR1cm4gaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci52YWxpZGF0ZVNpZ25pblJlc3BvbnNlXCIpLHRoaXMuX3Byb2Nlc3NTaWduaW5QYXJhbXMoZSxyKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLkxvZy5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLnZhbGlkYXRlU2lnbmluUmVzcG9uc2U6IHN0YXRlIHByb2Nlc3NlZFwiKSxuLl92YWxpZGF0ZVRva2VucyhlLHQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGkuTG9nLmRlYnVnKFwiUmVzcG9uc2VWYWxpZGF0b3IudmFsaWRhdGVTaWduaW5SZXNwb25zZTogdG9rZW5zIHZhbGlkYXRlZFwiKSxuLl9wcm9jZXNzQ2xhaW1zKGUsdCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci52YWxpZGF0ZVNpZ25pblJlc3BvbnNlOiBjbGFpbXMgcHJvY2Vzc2VkXCIpLHR9KX0pfSl9LHQucHJvdG90eXBlLnZhbGlkYXRlU2lnbm91dFJlc3BvbnNlPWZ1bmN0aW9uIHQoZSxyKXtyZXR1cm4gZS5pZCE9PXIuc3RhdGU/KGkuTG9nLmVycm9yKFwiUmVzcG9uc2VWYWxpZGF0b3IudmFsaWRhdGVTaWdub3V0UmVzcG9uc2U6IFN0YXRlIGRvZXMgbm90IG1hdGNoXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlN0YXRlIGRvZXMgbm90IG1hdGNoXCIpKSk6KGkuTG9nLmRlYnVnKFwiUmVzcG9uc2VWYWxpZGF0b3IudmFsaWRhdGVTaWdub3V0UmVzcG9uc2U6IHN0YXRlIHZhbGlkYXRlZFwiKSxyLnN0YXRlPWUuZGF0YSxyLmVycm9yPyhpLkxvZy53YXJuKFwiUmVzcG9uc2VWYWxpZGF0b3IudmFsaWRhdGVTaWdub3V0UmVzcG9uc2U6IFJlc3BvbnNlIHdhcyBlcnJvclwiLHIuZXJyb3IpLFByb21pc2UucmVqZWN0KG5ldyB1LkVycm9yUmVzcG9uc2UocikpKTpQcm9taXNlLnJlc29sdmUocikpfSx0LnByb3RvdHlwZS5fcHJvY2Vzc1NpZ25pblBhcmFtcz1mdW5jdGlvbiB0KGUscil7aWYoZS5pZCE9PXIuc3RhdGUpcmV0dXJuIGkuTG9nLmVycm9yKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3Byb2Nlc3NTaWduaW5QYXJhbXM6IFN0YXRlIGRvZXMgbm90IG1hdGNoXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlN0YXRlIGRvZXMgbm90IG1hdGNoXCIpKTtpZighZS5jbGllbnRfaWQpcmV0dXJuIGkuTG9nLmVycm9yKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3Byb2Nlc3NTaWduaW5QYXJhbXM6IE5vIGNsaWVudF9pZCBvbiBzdGF0ZVwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyBjbGllbnRfaWQgb24gc3RhdGVcIikpO2lmKCFlLmF1dGhvcml0eSlyZXR1cm4gaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc1NpZ25pblBhcmFtczogTm8gYXV0aG9yaXR5IG9uIHN0YXRlXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIGF1dGhvcml0eSBvbiBzdGF0ZVwiKSk7aWYodGhpcy5fc2V0dGluZ3MuYXV0aG9yaXR5KXtpZih0aGlzLl9zZXR0aW5ncy5hdXRob3JpdHkmJnRoaXMuX3NldHRpbmdzLmF1dGhvcml0eSE9PWUuYXV0aG9yaXR5KXJldHVybiBpLkxvZy5lcnJvcihcIlJlc3BvbnNlVmFsaWRhdG9yLl9wcm9jZXNzU2lnbmluUGFyYW1zOiBhdXRob3JpdHkgbWlzbWF0Y2ggb24gc2V0dGluZ3MgdnMuIHNpZ25pbiBzdGF0ZVwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJhdXRob3JpdHkgbWlzbWF0Y2ggb24gc2V0dGluZ3MgdnMuIHNpZ25pbiBzdGF0ZVwiKSl9ZWxzZSB0aGlzLl9zZXR0aW5ncy5hdXRob3JpdHk9ZS5hdXRob3JpdHk7aWYodGhpcy5fc2V0dGluZ3MuY2xpZW50X2lkKXtpZih0aGlzLl9zZXR0aW5ncy5jbGllbnRfaWQmJnRoaXMuX3NldHRpbmdzLmNsaWVudF9pZCE9PWUuY2xpZW50X2lkKXJldHVybiBpLkxvZy5lcnJvcihcIlJlc3BvbnNlVmFsaWRhdG9yLl9wcm9jZXNzU2lnbmluUGFyYW1zOiBjbGllbnRfaWQgbWlzbWF0Y2ggb24gc2V0dGluZ3MgdnMuIHNpZ25pbiBzdGF0ZVwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJjbGllbnRfaWQgbWlzbWF0Y2ggb24gc2V0dGluZ3MgdnMuIHNpZ25pbiBzdGF0ZVwiKSl9ZWxzZSB0aGlzLl9zZXR0aW5ncy5jbGllbnRfaWQ9ZS5jbGllbnRfaWQ7cmV0dXJuIGkuTG9nLmRlYnVnKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3Byb2Nlc3NTaWduaW5QYXJhbXM6IHN0YXRlIHZhbGlkYXRlZFwiKSxyLnN0YXRlPWUuZGF0YSxyLmVycm9yPyhpLkxvZy53YXJuKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3Byb2Nlc3NTaWduaW5QYXJhbXM6IFJlc3BvbnNlIHdhcyBlcnJvclwiLHIuZXJyb3IpLFByb21pc2UucmVqZWN0KG5ldyB1LkVycm9yUmVzcG9uc2UocikpKTplLm5vbmNlJiYhci5pZF90b2tlbj8oaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc1NpZ25pblBhcmFtczogRXhwZWN0aW5nIGlkX3Rva2VuIGluIHJlc3BvbnNlXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIGlkX3Rva2VuIGluIHJlc3BvbnNlXCIpKSk6IWUubm9uY2UmJnIuaWRfdG9rZW4/KGkuTG9nLmVycm9yKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3Byb2Nlc3NTaWduaW5QYXJhbXM6IE5vdCBleHBlY3RpbmcgaWRfdG9rZW4gaW4gcmVzcG9uc2VcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiVW5leHBlY3RlZCBpZF90b2tlbiBpbiByZXNwb25zZVwiKSkpOmUuY29kZV92ZXJpZmllciYmIXIuY29kZT8oaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc1NpZ25pblBhcmFtczogRXhwZWN0aW5nIGNvZGUgaW4gcmVzcG9uc2VcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gY29kZSBpbiByZXNwb25zZVwiKSkpOiFlLmNvZGVfdmVyaWZpZXImJnIuY29kZT8oaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc1NpZ25pblBhcmFtczogTm90IGV4cGVjdGluZyBjb2RlIGluIHJlc3BvbnNlXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgY29kZSBpbiByZXNwb25zZVwiKSkpOihyLnNjb3BlfHwoci5zY29wZT1lLnNjb3BlKSxQcm9taXNlLnJlc29sdmUocikpfSx0LnByb3RvdHlwZS5fcHJvY2Vzc0NsYWltcz1mdW5jdGlvbiB0KGUscil7dmFyIG49dGhpcztpZihyLmlzT3BlbklkQ29ubmVjdCl7aWYoaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc0NsYWltczogcmVzcG9uc2UgaXMgT0lEQywgcHJvY2Vzc2luZyBjbGFpbXNcIiksci5wcm9maWxlPXRoaXMuX2ZpbHRlclByb3RvY29sQ2xhaW1zKHIucHJvZmlsZSksITAhPT1lLnNraXBVc2VySW5mbyYmdGhpcy5fc2V0dGluZ3MubG9hZFVzZXJJbmZvJiZyLmFjY2Vzc190b2tlbilyZXR1cm4gaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc0NsYWltczogbG9hZGluZyB1c2VyIGluZm9cIiksdGhpcy5fdXNlckluZm9TZXJ2aWNlLmdldENsYWltcyhyLmFjY2Vzc190b2tlbikudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc0NsYWltczogdXNlciBpbmZvIGNsYWltcyByZWNlaXZlZCBmcm9tIHVzZXIgaW5mbyBlbmRwb2ludFwiKSx0LnN1YiE9PXIucHJvZmlsZS5zdWI/KGkuTG9nLmVycm9yKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3Byb2Nlc3NDbGFpbXM6IHN1YiBmcm9tIHVzZXIgaW5mbyBlbmRwb2ludCBkb2VzIG5vdCBtYXRjaCBzdWIgaW4gYWNjZXNzX3Rva2VuXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcInN1YiBmcm9tIHVzZXIgaW5mbyBlbmRwb2ludCBkb2VzIG5vdCBtYXRjaCBzdWIgaW4gYWNjZXNzX3Rva2VuXCIpKSk6KHIucHJvZmlsZT1uLl9tZXJnZUNsYWltcyhyLnByb2ZpbGUsdCksaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc0NsYWltczogdXNlciBpbmZvIGNsYWltcyByZWNlaXZlZCwgdXBkYXRlZCBwcm9maWxlOlwiLHIucHJvZmlsZSkscil9KTtpLkxvZy5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLl9wcm9jZXNzQ2xhaW1zOiBub3QgbG9hZGluZyB1c2VyIGluZm9cIil9ZWxzZSBpLkxvZy5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLl9wcm9jZXNzQ2xhaW1zOiByZXNwb25zZSBpcyBub3QgT0lEQywgbm90IHByb2Nlc3NpbmcgY2xhaW1zXCIpO3JldHVybiBQcm9taXNlLnJlc29sdmUocil9LHQucHJvdG90eXBlLl9tZXJnZUNsYWltcz1mdW5jdGlvbiB0KGUscil7dmFyIGk9T2JqZWN0LmFzc2lnbih7fSxlKTtmb3IodmFyIG8gaW4gcil7dmFyIHM9cltvXTtBcnJheS5pc0FycmF5KHMpfHwocz1bc10pO2Zvcih2YXIgYT0wO2E8cy5sZW5ndGg7YSsrKXt2YXIgdT1zW2FdO2lbb10/QXJyYXkuaXNBcnJheShpW29dKT9pW29dLmluZGV4T2YodSk8MCYmaVtvXS5wdXNoKHUpOmlbb10hPT11JiYoXCJvYmplY3RcIj09PSh2b2lkIDA9PT11P1widW5kZWZpbmVkXCI6bih1KSk/aVtvXT10aGlzLl9tZXJnZUNsYWltcyhpW29dLHUpOmlbb109W2lbb10sdV0pOmlbb109dX19cmV0dXJuIGl9LHQucHJvdG90eXBlLl9maWx0ZXJQcm90b2NvbENsYWltcz1mdW5jdGlvbiB0KGUpe2kuTG9nLmRlYnVnKFwiUmVzcG9uc2VWYWxpZGF0b3IuX2ZpbHRlclByb3RvY29sQ2xhaW1zLCBpbmNvbWluZyBjbGFpbXM6XCIsZSk7dmFyIHI9T2JqZWN0LmFzc2lnbih7fSxlKTtyZXR1cm4gdGhpcy5fc2V0dGluZ3MuX2ZpbHRlclByb3RvY29sQ2xhaW1zPyhoLmZvckVhY2goZnVuY3Rpb24odCl7ZGVsZXRlIHJbdF19KSxpLkxvZy5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLl9maWx0ZXJQcm90b2NvbENsYWltczogcHJvdG9jb2wgY2xhaW1zIGZpbHRlcmVkXCIscikpOmkuTG9nLmRlYnVnKFwiUmVzcG9uc2VWYWxpZGF0b3IuX2ZpbHRlclByb3RvY29sQ2xhaW1zOiBwcm90b2NvbCBjbGFpbXMgbm90IGZpbHRlcmVkXCIpLHJ9LHQucHJvdG90eXBlLl92YWxpZGF0ZVRva2Vucz1mdW5jdGlvbiB0KGUscil7cmV0dXJuIHIuY29kZT8oaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVUb2tlbnM6IFZhbGlkYXRpbmcgY29kZVwiKSx0aGlzLl9wcm9jZXNzQ29kZShlLHIpKTpyLmlkX3Rva2VuP3IuYWNjZXNzX3Rva2VuPyhpLkxvZy5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZVRva2VuczogVmFsaWRhdGluZyBpZF90b2tlbiBhbmQgYWNjZXNzX3Rva2VuXCIpLHRoaXMuX3ZhbGlkYXRlSWRUb2tlbkFuZEFjY2Vzc1Rva2VuKGUscikpOihpLkxvZy5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZVRva2VuczogVmFsaWRhdGluZyBpZF90b2tlblwiKSx0aGlzLl92YWxpZGF0ZUlkVG9rZW4oZSxyKSk6KGkuTG9nLmRlYnVnKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3ZhbGlkYXRlVG9rZW5zOiBObyBjb2RlIHRvIHByb2Nlc3Mgb3IgaWRfdG9rZW4gdG8gdmFsaWRhdGVcIiksUHJvbWlzZS5yZXNvbHZlKHIpKX0sdC5wcm90b3R5cGUuX3Byb2Nlc3NDb2RlPWZ1bmN0aW9uIHQoZSxyKXt2YXIgbz10aGlzLHM9e2NsaWVudF9pZDplLmNsaWVudF9pZCxjbGllbnRfc2VjcmV0OmUuY2xpZW50X3NlY3JldCxjb2RlOnIuY29kZSxyZWRpcmVjdF91cmk6ZS5yZWRpcmVjdF91cmksY29kZV92ZXJpZmllcjplLmNvZGVfdmVyaWZpZXJ9O3JldHVybiBlLmV4dHJhVG9rZW5QYXJhbXMmJlwib2JqZWN0XCI9PT1uKGUuZXh0cmFUb2tlblBhcmFtcykmJk9iamVjdC5hc3NpZ24ocyxlLmV4dHJhVG9rZW5QYXJhbXMpLHRoaXMuX3Rva2VuQ2xpZW50LmV4Y2hhbmdlQ29kZShzKS50aGVuKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbiBpbiB0KXJbbl09dFtuXTtyZXR1cm4gci5pZF90b2tlbj8oaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc0NvZGU6IHRva2VuIHJlc3BvbnNlIHN1Y2Nlc3NmdWwsIHByb2Nlc3NpbmcgaWRfdG9rZW5cIiksby5fdmFsaWRhdGVJZFRva2VuQXR0cmlidXRlcyhlLHIpKTooaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fcHJvY2Vzc0NvZGU6IHRva2VuIHJlc3BvbnNlIHN1Y2Nlc3NmdWwsIHJldHVybmluZyByZXNwb25zZVwiKSxyKX0pfSx0LnByb3RvdHlwZS5fdmFsaWRhdGVJZFRva2VuQXR0cmlidXRlcz1mdW5jdGlvbiB0KGUscil7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5fbWV0YWRhdGFTZXJ2aWNlLmdldElzc3VlcigpLnRoZW4oZnVuY3Rpb24odCl7dmFyIG89ZS5jbGllbnRfaWQscz1uLl9zZXR0aW5ncy5jbG9ja1NrZXc7cmV0dXJuIGkuTG9nLmRlYnVnKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3ZhbGlkYXRlSWRUb2tlbkF0dHJpYnV0ZXM6IFZhbGlkYWluZyBKV1QgYXR0cmlidXRlczsgdXNpbmcgY2xvY2sgc2tldyAoaW4gc2Vjb25kcykgb2Y6IFwiLHMpLG4uX2pvc2VVdGlsLnZhbGlkYXRlSnd0QXR0cmlidXRlcyhyLmlkX3Rva2VuLHQsbyxzKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLm5vbmNlJiZlLm5vbmNlIT09dC5ub25jZT8oaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVJZFRva2VuQXR0cmlidXRlczogSW52YWxpZCBub25jZSBpbiBpZF90b2tlblwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJJbnZhbGlkIG5vbmNlIGluIGlkX3Rva2VuXCIpKSk6dC5zdWI/KHIucHJvZmlsZT10LHIpOihpLkxvZy5lcnJvcihcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZUlkVG9rZW5BdHRyaWJ1dGVzOiBObyBzdWIgcHJlc2VudCBpbiBpZF90b2tlblwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyBzdWIgcHJlc2VudCBpbiBpZF90b2tlblwiKSkpfSl9KX0sdC5wcm90b3R5cGUuX3ZhbGlkYXRlSWRUb2tlbkFuZEFjY2Vzc1Rva2VuPWZ1bmN0aW9uIHQoZSxyKXt2YXIgbj10aGlzO3JldHVybiB0aGlzLl92YWxpZGF0ZUlkVG9rZW4oZSxyKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuLl92YWxpZGF0ZUFjY2Vzc1Rva2VuKHQpfSl9LHQucHJvdG90eXBlLl92YWxpZGF0ZUlkVG9rZW49ZnVuY3Rpb24gdChlLHIpe3ZhciBuPXRoaXM7aWYoIWUubm9uY2UpcmV0dXJuIGkuTG9nLmVycm9yKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3ZhbGlkYXRlSWRUb2tlbjogTm8gbm9uY2Ugb24gc3RhdGVcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gbm9uY2Ugb24gc3RhdGVcIikpO3ZhciBvPXRoaXMuX2pvc2VVdGlsLnBhcnNlSnd0KHIuaWRfdG9rZW4pO2lmKCFvfHwhby5oZWFkZXJ8fCFvLnBheWxvYWQpcmV0dXJuIGkuTG9nLmVycm9yKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3ZhbGlkYXRlSWRUb2tlbjogRmFpbGVkIHRvIHBhcnNlIGlkX3Rva2VuXCIsbyksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIGlkX3Rva2VuXCIpKTtpZihlLm5vbmNlIT09by5wYXlsb2FkLm5vbmNlKXJldHVybiBpLkxvZy5lcnJvcihcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZUlkVG9rZW46IEludmFsaWQgbm9uY2UgaW4gaWRfdG9rZW5cIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiSW52YWxpZCBub25jZSBpbiBpZF90b2tlblwiKSk7dmFyIHM9by5oZWFkZXIua2lkO3JldHVybiB0aGlzLl9tZXRhZGF0YVNlcnZpY2UuZ2V0SXNzdWVyKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVJZFRva2VuOiBSZWNlaXZlZCBpc3N1ZXJcIiksbi5fbWV0YWRhdGFTZXJ2aWNlLmdldFNpZ25pbmdLZXlzKCkudGhlbihmdW5jdGlvbihhKXtpZighYSlyZXR1cm4gaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVJZFRva2VuOiBObyBzaWduaW5nIGtleXMgZnJvbSBtZXRhZGF0YVwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyBzaWduaW5nIGtleXMgZnJvbSBtZXRhZGF0YVwiKSk7aS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVJZFRva2VuOiBSZWNlaXZlZCBzaWduaW5nIGtleXNcIik7dmFyIHU9dm9pZCAwO2lmKHMpdT1hLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5raWQ9PT1zfSlbMF07ZWxzZXtpZigoYT1uLl9maWx0ZXJCeUFsZyhhLG8uaGVhZGVyLmFsZykpLmxlbmd0aD4xKXJldHVybiBpLkxvZy5lcnJvcihcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZUlkVG9rZW46IE5vIGtpZCBmb3VuZCBpbiBpZF90b2tlbiBhbmQgbW9yZSB0aGFuIG9uZSBrZXkgZm91bmQgaW4gbWV0YWRhdGFcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8ga2lkIGZvdW5kIGluIGlkX3Rva2VuIGFuZCBtb3JlIHRoYW4gb25lIGtleSBmb3VuZCBpbiBtZXRhZGF0YVwiKSk7dT1hWzBdfWlmKCF1KXJldHVybiBpLkxvZy5lcnJvcihcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZUlkVG9rZW46IE5vIGtleSBtYXRjaGluZyBraWQgb3IgYWxnIGZvdW5kIGluIHNpZ25pbmcga2V5c1wiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyBrZXkgbWF0Y2hpbmcga2lkIG9yIGFsZyBmb3VuZCBpbiBzaWduaW5nIGtleXNcIikpO3ZhciBjPWUuY2xpZW50X2lkLGg9bi5fc2V0dGluZ3MuY2xvY2tTa2V3O3JldHVybiBpLkxvZy5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZUlkVG9rZW46IFZhbGlkYWluZyBKV1Q7IHVzaW5nIGNsb2NrIHNrZXcgKGluIHNlY29uZHMpIG9mOiBcIixoKSxuLl9qb3NlVXRpbC52YWxpZGF0ZUp3dChyLmlkX3Rva2VuLHUsdCxjLGgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVJZFRva2VuOiBKV1QgdmFsaWRhdGlvbiBzdWNjZXNzZnVsXCIpLG8ucGF5bG9hZC5zdWI/KHIucHJvZmlsZT1vLnBheWxvYWQscik6KGkuTG9nLmVycm9yKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3ZhbGlkYXRlSWRUb2tlbjogTm8gc3ViIHByZXNlbnQgaW4gaWRfdG9rZW5cIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gc3ViIHByZXNlbnQgaW4gaWRfdG9rZW5cIikpKX0pfSl9KX0sdC5wcm90b3R5cGUuX2ZpbHRlckJ5QWxnPWZ1bmN0aW9uIHQoZSxyKXt2YXIgbj1udWxsO2lmKHIuc3RhcnRzV2l0aChcIlJTXCIpKW49XCJSU0FcIjtlbHNlIGlmKHIuc3RhcnRzV2l0aChcIlBTXCIpKW49XCJQU1wiO2Vsc2V7aWYoIXIuc3RhcnRzV2l0aChcIkVTXCIpKXJldHVybiBpLkxvZy5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLl9maWx0ZXJCeUFsZzogYWxnIG5vdCBzdXBwb3J0ZWQ6IFwiLHIpLFtdO249XCJFQ1wifXJldHVybiBpLkxvZy5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLl9maWx0ZXJCeUFsZzogTG9va2luZyBmb3Iga2V5cyB0aGF0IG1hdGNoIGt0eTogXCIsbiksZT1lLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5rdHk9PT1ufSksaS5Mb2cuZGVidWcoXCJSZXNwb25zZVZhbGlkYXRvci5fZmlsdGVyQnlBbGc6IE51bWJlciBvZiBrZXlzIHRoYXQgbWF0Y2gga3R5OiBcIixuLGUubGVuZ3RoKSxlfSx0LnByb3RvdHlwZS5fdmFsaWRhdGVBY2Nlc3NUb2tlbj1mdW5jdGlvbiB0KGUpe2lmKCFlLnByb2ZpbGUpcmV0dXJuIGkuTG9nLmVycm9yKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3ZhbGlkYXRlQWNjZXNzVG9rZW46IE5vIHByb2ZpbGUgbG9hZGVkIGZyb20gaWRfdG9rZW5cIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm8gcHJvZmlsZSBsb2FkZWQgZnJvbSBpZF90b2tlblwiKSk7aWYoIWUucHJvZmlsZS5hdF9oYXNoKXJldHVybiBpLkxvZy5lcnJvcihcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZUFjY2Vzc1Rva2VuOiBObyBhdF9oYXNoIGluIGlkX3Rva2VuXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIGF0X2hhc2ggaW4gaWRfdG9rZW5cIikpO2lmKCFlLmlkX3Rva2VuKXJldHVybiBpLkxvZy5lcnJvcihcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZUFjY2Vzc1Rva2VuOiBObyBpZF90b2tlblwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyBpZF90b2tlblwiKSk7dmFyIHI9dGhpcy5fam9zZVV0aWwucGFyc2VKd3QoZS5pZF90b2tlbik7aWYoIXJ8fCFyLmhlYWRlcilyZXR1cm4gaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVBY2Nlc3NUb2tlbjogRmFpbGVkIHRvIHBhcnNlIGlkX3Rva2VuXCIsciksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIGlkX3Rva2VuXCIpKTt2YXIgbj1yLmhlYWRlci5hbGc7aWYoIW58fDUhPT1uLmxlbmd0aClyZXR1cm4gaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVBY2Nlc3NUb2tlbjogVW5zdXBwb3J0ZWQgYWxnOlwiLG4pLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGFsZzogXCIrbikpO3ZhciBvPW4uc3Vic3RyKDIsMyk7aWYoIW8pcmV0dXJuIGkuTG9nLmVycm9yKFwiUmVzcG9uc2VWYWxpZGF0b3IuX3ZhbGlkYXRlQWNjZXNzVG9rZW46IFVuc3VwcG9ydGVkIGFsZzpcIixuLG8pLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGFsZzogXCIrbikpO2lmKDI1NiE9PShvPXBhcnNlSW50KG8pKSYmMzg0IT09byYmNTEyIT09bylyZXR1cm4gaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVBY2Nlc3NUb2tlbjogVW5zdXBwb3J0ZWQgYWxnOlwiLG4sbyksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgYWxnOiBcIituKSk7dmFyIHM9XCJzaGFcIitvLGE9dGhpcy5fam9zZVV0aWwuaGFzaFN0cmluZyhlLmFjY2Vzc190b2tlbixzKTtpZighYSlyZXR1cm4gaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVBY2Nlc3NUb2tlbjogYWNjZXNzX3Rva2VuIGhhc2ggZmFpbGVkOlwiLHMpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkZhaWxlZCB0byB2YWxpZGF0ZSBhdF9oYXNoXCIpKTt2YXIgdT1hLnN1YnN0cigwLGEubGVuZ3RoLzIpLGM9dGhpcy5fam9zZVV0aWwuaGV4VG9CYXNlNjRVcmwodSk7cmV0dXJuIGMhPT1lLnByb2ZpbGUuYXRfaGFzaD8oaS5Mb2cuZXJyb3IoXCJSZXNwb25zZVZhbGlkYXRvci5fdmFsaWRhdGVBY2Nlc3NUb2tlbjogRmFpbGVkIHRvIHZhbGlkYXRlIGF0X2hhc2hcIixjLGUucHJvZmlsZS5hdF9oYXNoKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJGYWlsZWQgdG8gdmFsaWRhdGUgYXRfaGFzaFwiKSkpOihpLkxvZy5kZWJ1ZyhcIlJlc3BvbnNlVmFsaWRhdG9yLl92YWxpZGF0ZUFjY2Vzc1Rva2VuOiBzdWNjZXNzXCIpLFByb21pc2UucmVzb2x2ZShlKSl9LHR9KCl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLlVzZXJJbmZvU2VydmljZT12b2lkIDA7dmFyIG49cig3KSxpPXIoMiksbz1yKDApLHM9cig0KTtlLlVzZXJJbmZvU2VydmljZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm4uSnNvblNlcnZpY2UsYT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06aS5NZXRhZGF0YVNlcnZpY2UsdT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106cy5Kb3NlVXRpbDtpZihmdW5jdGlvbiBjKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSwhZSl0aHJvdyBvLkxvZy5lcnJvcihcIlVzZXJJbmZvU2VydmljZS5jdG9yOiBObyBzZXR0aW5ncyBwYXNzZWRcIiksbmV3IEVycm9yKFwic2V0dGluZ3NcIik7dGhpcy5fc2V0dGluZ3M9ZSx0aGlzLl9qc29uU2VydmljZT1uZXcgcih2b2lkIDAsdm9pZCAwLHRoaXMuX2dldENsYWltc0Zyb21Kd3QuYmluZCh0aGlzKSksdGhpcy5fbWV0YWRhdGFTZXJ2aWNlPW5ldyBhKHRoaXMuX3NldHRpbmdzKSx0aGlzLl9qb3NlVXRpbD11fXJldHVybiB0LnByb3RvdHlwZS5nZXRDbGFpbXM9ZnVuY3Rpb24gdChlKXt2YXIgcj10aGlzO3JldHVybiBlP3RoaXMuX21ldGFkYXRhU2VydmljZS5nZXRVc2VySW5mb0VuZHBvaW50KCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gby5Mb2cuZGVidWcoXCJVc2VySW5mb1NlcnZpY2UuZ2V0Q2xhaW1zOiByZWNlaXZlZCB1c2VyaW5mbyB1cmxcIix0KSxyLl9qc29uU2VydmljZS5nZXRKc29uKHQsZSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gby5Mb2cuZGVidWcoXCJVc2VySW5mb1NlcnZpY2UuZ2V0Q2xhaW1zOiBjbGFpbXMgcmVjZWl2ZWRcIix0KSx0fSl9KTooby5Mb2cuZXJyb3IoXCJVc2VySW5mb1NlcnZpY2UuZ2V0Q2xhaW1zOiBObyB0b2tlbiBwYXNzZWRcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiQSB0b2tlbiBpcyByZXF1aXJlZFwiKSkpfSx0LnByb3RvdHlwZS5fZ2V0Q2xhaW1zRnJvbUp3dD1mdW5jdGlvbiB0KGUpe3ZhciByPXRoaXM7dHJ5e3ZhciBuPXRoaXMuX2pvc2VVdGlsLnBhcnNlSnd0KGUucmVzcG9uc2VUZXh0KTtpZighbnx8IW4uaGVhZGVyfHwhbi5wYXlsb2FkKXJldHVybiBvLkxvZy5lcnJvcihcIlVzZXJJbmZvU2VydmljZS5fZ2V0Q2xhaW1zRnJvbUp3dDogRmFpbGVkIHRvIHBhcnNlIEpXVFwiLG4pLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkZhaWxlZCB0byBwYXJzZSBpZF90b2tlblwiKSk7dmFyIGk9bi5oZWFkZXIua2lkLHM9dm9pZCAwO3N3aXRjaCh0aGlzLl9zZXR0aW5ncy51c2VySW5mb0p3dElzc3Vlcil7Y2FzZVwiT1BcIjpzPXRoaXMuX21ldGFkYXRhU2VydmljZS5nZXRJc3N1ZXIoKTticmVhaztjYXNlXCJBTllcIjpzPVByb21pc2UucmVzb2x2ZShuLnBheWxvYWQuaXNzKTticmVhaztkZWZhdWx0OnM9UHJvbWlzZS5yZXNvbHZlKHRoaXMuX3NldHRpbmdzLnVzZXJJbmZvSnd0SXNzdWVyKX1yZXR1cm4gcy50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBvLkxvZy5kZWJ1ZyhcIlVzZXJJbmZvU2VydmljZS5fZ2V0Q2xhaW1zRnJvbUp3dDogUmVjZWl2ZWQgaXNzdWVyOlwiK3QpLHIuX21ldGFkYXRhU2VydmljZS5nZXRTaWduaW5nS2V5cygpLnRoZW4oZnVuY3Rpb24ocyl7aWYoIXMpcmV0dXJuIG8uTG9nLmVycm9yKFwiVXNlckluZm9TZXJ2aWNlLl9nZXRDbGFpbXNGcm9tSnd0OiBObyBzaWduaW5nIGtleXMgZnJvbSBtZXRhZGF0YVwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyBzaWduaW5nIGtleXMgZnJvbSBtZXRhZGF0YVwiKSk7by5Mb2cuZGVidWcoXCJVc2VySW5mb1NlcnZpY2UuX2dldENsYWltc0Zyb21Kd3Q6IFJlY2VpdmVkIHNpZ25pbmcga2V5c1wiKTt2YXIgYT12b2lkIDA7aWYoaSlhPXMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtpZD09PWl9KVswXTtlbHNle2lmKChzPXIuX2ZpbHRlckJ5QWxnKHMsbi5oZWFkZXIuYWxnKSkubGVuZ3RoPjEpcmV0dXJuIG8uTG9nLmVycm9yKFwiVXNlckluZm9TZXJ2aWNlLl9nZXRDbGFpbXNGcm9tSnd0OiBObyBraWQgZm91bmQgaW4gaWRfdG9rZW4gYW5kIG1vcmUgdGhhbiBvbmUga2V5IGZvdW5kIGluIG1ldGFkYXRhXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIGtpZCBmb3VuZCBpbiBpZF90b2tlbiBhbmQgbW9yZSB0aGFuIG9uZSBrZXkgZm91bmQgaW4gbWV0YWRhdGFcIikpO2E9c1swXX1pZighYSlyZXR1cm4gby5Mb2cuZXJyb3IoXCJVc2VySW5mb1NlcnZpY2UuX2dldENsYWltc0Zyb21Kd3Q6IE5vIGtleSBtYXRjaGluZyBraWQgb3IgYWxnIGZvdW5kIGluIHNpZ25pbmcga2V5c1wiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyBrZXkgbWF0Y2hpbmcga2lkIG9yIGFsZyBmb3VuZCBpbiBzaWduaW5nIGtleXNcIikpO3ZhciB1PXIuX3NldHRpbmdzLmNsaWVudF9pZCxjPXIuX3NldHRpbmdzLmNsb2NrU2tldztyZXR1cm4gby5Mb2cuZGVidWcoXCJVc2VySW5mb1NlcnZpY2UuX2dldENsYWltc0Zyb21Kd3Q6IFZhbGlkYWluZyBKV1Q7IHVzaW5nIGNsb2NrIHNrZXcgKGluIHNlY29uZHMpIG9mOiBcIixjKSxyLl9qb3NlVXRpbC52YWxpZGF0ZUp3dChlLnJlc3BvbnNlVGV4dCxhLHQsdSxjLHZvaWQgMCwhMCkudGhlbihmdW5jdGlvbigpe3JldHVybiBvLkxvZy5kZWJ1ZyhcIlVzZXJJbmZvU2VydmljZS5fZ2V0Q2xhaW1zRnJvbUp3dDogSldUIHZhbGlkYXRpb24gc3VjY2Vzc2Z1bFwiKSxuLnBheWxvYWR9KX0pfSl9Y2F0Y2godCl7cmV0dXJuIG8uTG9nLmVycm9yKFwiVXNlckluZm9TZXJ2aWNlLl9nZXRDbGFpbXNGcm9tSnd0OiBFcnJvciBwYXJzaW5nIEpXVCByZXNwb25zZVwiLHQubWVzc2FnZSksdm9pZCByZWplY3QodCl9fSx0LnByb3RvdHlwZS5fZmlsdGVyQnlBbGc9ZnVuY3Rpb24gdChlLHIpe3ZhciBuPW51bGw7aWYoci5zdGFydHNXaXRoKFwiUlNcIikpbj1cIlJTQVwiO2Vsc2UgaWYoci5zdGFydHNXaXRoKFwiUFNcIikpbj1cIlBTXCI7ZWxzZXtpZighci5zdGFydHNXaXRoKFwiRVNcIikpcmV0dXJuIG8uTG9nLmRlYnVnKFwiVXNlckluZm9TZXJ2aWNlLl9maWx0ZXJCeUFsZzogYWxnIG5vdCBzdXBwb3J0ZWQ6IFwiLHIpLFtdO249XCJFQ1wifXJldHVybiBvLkxvZy5kZWJ1ZyhcIlVzZXJJbmZvU2VydmljZS5fZmlsdGVyQnlBbGc6IExvb2tpbmcgZm9yIGtleXMgdGhhdCBtYXRjaCBrdHk6IFwiLG4pLGU9ZS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQua3R5PT09bn0pLG8uTG9nLmRlYnVnKFwiVXNlckluZm9TZXJ2aWNlLl9maWx0ZXJCeUFsZzogTnVtYmVyIG9mIGtleXMgdGhhdCBtYXRjaCBrdHk6IFwiLG4sZS5sZW5ndGgpLGV9LHR9KCl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLkFsbG93ZWRTaWduaW5nQWxncz1lLmI2NHRvaGV4PWUuaGV4dG9iNjR1PWUuY3J5cHRvPWUuWDUwOT1lLktleVV0aWw9ZS5qd3M9dm9pZCAwO3ZhciBuPXIoMjYpO2UuandzPW4uandzLGUuS2V5VXRpbD1uLktFWVVUSUwsZS5YNTA5PW4uWDUwOSxlLmNyeXB0bz1uLmNyeXB0byxlLmhleHRvYjY0dT1uLmhleHRvYjY0dSxlLmI2NHRvaGV4PW4uYjY0dG9oZXgsZS5BbGxvd2VkU2lnbmluZ0FsZ3M9W1wiUlMyNTZcIixcIlJTMzg0XCIsXCJSUzUxMlwiLFwiUFMyNTZcIixcIlBTMzg0XCIsXCJQUzUxMlwiLFwiRVMyNTZcIixcIkVTMzg0XCIsXCJFUzUxMlwiXX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxuPXt1c2VyQWdlbnQ6ITF9LGk9e307XG4vKiFcbkNvcHlyaWdodCAoYykgMjAxMSwgWWFob28hIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbkNvZGUgbGljZW5zZWQgdW5kZXIgdGhlIEJTRCBMaWNlbnNlOlxuaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2xpY2Vuc2UuaHRtbFxudmVyc2lvbjogMi45LjBcbiovXG5pZih2b2lkIDA9PT1vKXZhciBvPXt9O28ubGFuZz17ZXh0ZW5kOmZ1bmN0aW9uIHQoZSxyLGkpe2lmKCFyfHwhZSl0aHJvdyBuZXcgRXJyb3IoXCJZQUhPTy5sYW5nLmV4dGVuZCBmYWlsZWQsIHBsZWFzZSBjaGVjayB0aGF0IGFsbCBkZXBlbmRlbmNpZXMgYXJlIGluY2x1ZGVkLlwiKTt2YXIgbz1mdW5jdGlvbiB0KCl7fTtpZihvLnByb3RvdHlwZT1yLnByb3RvdHlwZSxlLnByb3RvdHlwZT1uZXcgbyxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuc3VwZXJjbGFzcz1yLnByb3RvdHlwZSxyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj09T2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciYmKHIucHJvdG90eXBlLmNvbnN0cnVjdG9yPXIpLGkpe3ZhciBzO2ZvcihzIGluIGkpZS5wcm90b3R5cGVbc109aVtzXTt2YXIgYT1mdW5jdGlvbiB0KCl7fSx1PVtcInRvU3RyaW5nXCIsXCJ2YWx1ZU9mXCJdO3RyeXsvTVNJRS8udGVzdChuLnVzZXJBZ2VudCkmJihhPWZ1bmN0aW9uIHQoZSxyKXtmb3Iocz0wO3M8dS5sZW5ndGg7cys9MSl7dmFyIG49dVtzXSxpPXJbbl07XCJmdW5jdGlvblwiPT10eXBlb2YgaSYmaSE9T2JqZWN0LnByb3RvdHlwZVtuXSYmKGVbbl09aSl9fSl9Y2F0Y2godCl7fWEoZS5wcm90b3R5cGUsaSl9fX07XG4vKiEgQ3J5cHRvSlMgdjMuMS4yIGNvcmUtZml4LmpzXG4gKiBjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanNcbiAqIChjKSAyMDA5LTIwMTMgYnkgSmVmZiBNb3R0LiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzL3dpa2kvTGljZW5zZVxuICogVEhJUyBJUyBGSVggb2YgJ2NvcmUuanMnIHRvIGZpeCBIbWFjIGlzc3VlLlxuICogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvaXNzdWVzL2RldGFpbD9pZD04NFxuICogaHR0cHM6Ly9jcnlwdG8tanMuZ29vZ2xlY29kZS5jb20vc3ZuLWhpc3RvcnkvcjY2Ny9icmFuY2hlcy8zLngvc3JjL2NvcmUuanNcbiAqL1xudmFyIHMsYSx1LGMsaCxsLGYsZCxnLHAsdix5PXl8fChzPU1hdGgsdT0oYT17fSkubGliPXt9LGM9dS5CYXNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm57ZXh0ZW5kOmZ1bmN0aW9uIGUocil7dC5wcm90b3R5cGU9dGhpczt2YXIgbj1uZXcgdDtyZXR1cm4gciYmbi5taXhJbihyKSxuLmhhc093blByb3BlcnR5KFwiaW5pdFwiKXx8KG4uaW5pdD1mdW5jdGlvbigpe24uJHN1cGVyLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksbi5pbml0LnByb3RvdHlwZT1uLG4uJHN1cGVyPXRoaXMsbn0sY3JlYXRlOmZ1bmN0aW9uIHQoKXt2YXIgZT10aGlzLmV4dGVuZCgpO3JldHVybiBlLmluaXQuYXBwbHkoZSxhcmd1bWVudHMpLGV9LGluaXQ6ZnVuY3Rpb24gdCgpe30sbWl4SW46ZnVuY3Rpb24gdChlKXtmb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodGhpc1tyXT1lW3JdKTtlLmhhc093blByb3BlcnR5KFwidG9TdHJpbmdcIikmJih0aGlzLnRvU3RyaW5nPWUudG9TdHJpbmcpfSxjbG9uZTpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuaW5pdC5wcm90b3R5cGUuZXh0ZW5kKHRoaXMpfX19KCksaD11LldvcmRBcnJheT1jLmV4dGVuZCh7aW5pdDpmdW5jdGlvbiB0KGUscil7ZT10aGlzLndvcmRzPWV8fFtdLHRoaXMuc2lnQnl0ZXM9dm9pZCAwIT1yP3I6NCplLmxlbmd0aH0sdG9TdHJpbmc6ZnVuY3Rpb24gdChlKXtyZXR1cm4oZXx8Zikuc3RyaW5naWZ5KHRoaXMpfSxjb25jYXQ6ZnVuY3Rpb24gdChlKXt2YXIgcj10aGlzLndvcmRzLG49ZS53b3JkcyxpPXRoaXMuc2lnQnl0ZXMsbz1lLnNpZ0J5dGVzO2lmKHRoaXMuY2xhbXAoKSxpJTQpZm9yKHZhciBzPTA7czxvO3MrKyl7dmFyIGE9bltzPj4+Ml0+Pj4yNC1zJTQqOCYyNTU7cltpK3M+Pj4yXXw9YTw8MjQtKGkrcyklNCo4fWVsc2UgZm9yKHM9MDtzPG87cys9NClyW2krcz4+PjJdPW5bcz4+PjJdO3JldHVybiB0aGlzLnNpZ0J5dGVzKz1vLHRoaXN9LGNsYW1wOmZ1bmN0aW9uIHQoKXt2YXIgZT10aGlzLndvcmRzLHI9dGhpcy5zaWdCeXRlcztlW3I+Pj4yXSY9NDI5NDk2NzI5NTw8MzItciU0KjgsZS5sZW5ndGg9cy5jZWlsKHIvNCl9LGNsb25lOmZ1bmN0aW9uIHQoKXt2YXIgZT1jLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIGUud29yZHM9dGhpcy53b3Jkcy5zbGljZSgwKSxlfSxyYW5kb206ZnVuY3Rpb24gdChlKXtmb3IodmFyIHI9W10sbj0wO248ZTtuKz00KXIucHVzaCg0Mjk0OTY3Mjk2KnMucmFuZG9tKCl8MCk7cmV0dXJuIG5ldyBoLmluaXQocixlKX19KSxsPWEuZW5jPXt9LGY9bC5IZXg9e3N0cmluZ2lmeTpmdW5jdGlvbiB0KGUpe2Zvcih2YXIgcj1lLndvcmRzLG49ZS5zaWdCeXRlcyxpPVtdLG89MDtvPG47bysrKXt2YXIgcz1yW28+Pj4yXT4+PjI0LW8lNCo4JjI1NTtpLnB1c2goKHM+Pj40KS50b1N0cmluZygxNikpLGkucHVzaCgoMTUmcykudG9TdHJpbmcoMTYpKX1yZXR1cm4gaS5qb2luKFwiXCIpfSxwYXJzZTpmdW5jdGlvbiB0KGUpe2Zvcih2YXIgcj1lLmxlbmd0aCxuPVtdLGk9MDtpPHI7aSs9MiluW2k+Pj4zXXw9cGFyc2VJbnQoZS5zdWJzdHIoaSwyKSwxNik8PDI0LWklOCo0O3JldHVybiBuZXcgaC5pbml0KG4sci8yKX19LGQ9bC5MYXRpbjE9e3N0cmluZ2lmeTpmdW5jdGlvbiB0KGUpe2Zvcih2YXIgcj1lLndvcmRzLG49ZS5zaWdCeXRlcyxpPVtdLG89MDtvPG47bysrKXt2YXIgcz1yW28+Pj4yXT4+PjI0LW8lNCo4JjI1NTtpLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShzKSl9cmV0dXJuIGkuam9pbihcIlwiKX0scGFyc2U6ZnVuY3Rpb24gdChlKXtmb3IodmFyIHI9ZS5sZW5ndGgsbj1bXSxpPTA7aTxyO2krKyluW2k+Pj4yXXw9KDI1NSZlLmNoYXJDb2RlQXQoaSkpPDwyNC1pJTQqODtyZXR1cm4gbmV3IGguaW5pdChuLHIpfX0sZz1sLlV0Zjg9e3N0cmluZ2lmeTpmdW5jdGlvbiB0KGUpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShkLnN0cmluZ2lmeShlKSkpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIk1hbGZvcm1lZCBVVEYtOCBkYXRhXCIpfX0scGFyc2U6ZnVuY3Rpb24gdChlKXtyZXR1cm4gZC5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZSkpKX19LHA9dS5CdWZmZXJlZEJsb2NrQWxnb3JpdGhtPWMuZXh0ZW5kKHtyZXNldDpmdW5jdGlvbiB0KCl7dGhpcy5fZGF0YT1uZXcgaC5pbml0LHRoaXMuX25EYXRhQnl0ZXM9MH0sX2FwcGVuZDpmdW5jdGlvbiB0KGUpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1nLnBhcnNlKGUpKSx0aGlzLl9kYXRhLmNvbmNhdChlKSx0aGlzLl9uRGF0YUJ5dGVzKz1lLnNpZ0J5dGVzfSxfcHJvY2VzczpmdW5jdGlvbiB0KGUpe3ZhciByPXRoaXMuX2RhdGEsbj1yLndvcmRzLGk9ci5zaWdCeXRlcyxvPXRoaXMuYmxvY2tTaXplLGE9aS8oNCpvKSx1PShhPWU/cy5jZWlsKGEpOnMubWF4KCgwfGEpLXRoaXMuX21pbkJ1ZmZlclNpemUsMCkpKm8sYz1zLm1pbig0KnUsaSk7aWYodSl7Zm9yKHZhciBsPTA7bDx1O2wrPW8pdGhpcy5fZG9Qcm9jZXNzQmxvY2sobixsKTt2YXIgZj1uLnNwbGljZSgwLHUpO3Iuc2lnQnl0ZXMtPWN9cmV0dXJuIG5ldyBoLmluaXQoZixjKX0sY2xvbmU6ZnVuY3Rpb24gdCgpe3ZhciBlPWMuY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gZS5fZGF0YT10aGlzLl9kYXRhLmNsb25lKCksZX0sX21pbkJ1ZmZlclNpemU6MH0pLHUuSGFzaGVyPXAuZXh0ZW5kKHtjZmc6Yy5leHRlbmQoKSxpbml0OmZ1bmN0aW9uIHQoZSl7dGhpcy5jZmc9dGhpcy5jZmcuZXh0ZW5kKGUpLHRoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24gdCgpe3AucmVzZXQuY2FsbCh0aGlzKSx0aGlzLl9kb1Jlc2V0KCl9LHVwZGF0ZTpmdW5jdGlvbiB0KGUpe3JldHVybiB0aGlzLl9hcHBlbmQoZSksdGhpcy5fcHJvY2VzcygpLHRoaXN9LGZpbmFsaXplOmZ1bmN0aW9uIHQoZSl7cmV0dXJuIGUmJnRoaXMuX2FwcGVuZChlKSx0aGlzLl9kb0ZpbmFsaXplKCl9LGJsb2NrU2l6ZToxNixfY3JlYXRlSGVscGVyOmZ1bmN0aW9uIHQoZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIG5ldyBlLmluaXQocikuZmluYWxpemUodCl9fSxfY3JlYXRlSG1hY0hlbHBlcjpmdW5jdGlvbiB0KGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBuZXcgdi5ITUFDLmluaXQoZSxyKS5maW5hbGl6ZSh0KX19fSksdj1hLmFsZ289e30sYSk7IWZ1bmN0aW9uKHQpe3ZhciBlLHI9KGU9eSkubGliLG49ci5CYXNlLGk9ci5Xb3JkQXJyYXk7KGU9ZS54NjQ9e30pLldvcmQ9bi5leHRlbmQoe2luaXQ6ZnVuY3Rpb24gdChlLHIpe3RoaXMuaGlnaD1lLHRoaXMubG93PXJ9fSksZS5Xb3JkQXJyYXk9bi5leHRlbmQoe2luaXQ6ZnVuY3Rpb24gdChlLHIpe2U9dGhpcy53b3Jkcz1lfHxbXSx0aGlzLnNpZ0J5dGVzPXZvaWQgMCE9cj9yOjgqZS5sZW5ndGh9LHRvWDMyOmZ1bmN0aW9uIHQoKXtmb3IodmFyIGU9dGhpcy53b3JkcyxyPWUubGVuZ3RoLG49W10sbz0wO288cjtvKyspe3ZhciBzPWVbb107bi5wdXNoKHMuaGlnaCksbi5wdXNoKHMubG93KX1yZXR1cm4gaS5jcmVhdGUobix0aGlzLnNpZ0J5dGVzKX0sY2xvbmU6ZnVuY3Rpb24gdCgpe2Zvcih2YXIgZT1uLmNsb25lLmNhbGwodGhpcykscj1lLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCksaT1yLmxlbmd0aCxvPTA7bzxpO28rKylyW29dPXJbb10uY2xvbmUoKTtyZXR1cm4gZX19KX0oKSxmdW5jdGlvbigpe3ZhciB0PXksZT10LmxpYi5Xb3JkQXJyYXk7dC5lbmMuQmFzZTY0PXtzdHJpbmdpZnk6ZnVuY3Rpb24gdChlKXt2YXIgcj1lLndvcmRzLG49ZS5zaWdCeXRlcyxpPXRoaXMuX21hcDtlLmNsYW1wKCksZT1bXTtmb3IodmFyIG89MDtvPG47bys9Mylmb3IodmFyIHM9KHJbbz4+PjJdPj4+MjQtbyU0KjgmMjU1KTw8MTZ8KHJbbysxPj4+Ml0+Pj4yNC0obysxKSU0KjgmMjU1KTw8OHxyW28rMj4+PjJdPj4+MjQtKG8rMiklNCo4JjI1NSxhPTA7ND5hJiZvKy43NSphPG47YSsrKWUucHVzaChpLmNoYXJBdChzPj4+NiooMy1hKSY2MykpO2lmKHI9aS5jaGFyQXQoNjQpKWZvcig7ZS5sZW5ndGglNDspZS5wdXNoKHIpO3JldHVybiBlLmpvaW4oXCJcIil9LHBhcnNlOmZ1bmN0aW9uIHQocil7dmFyIG49ci5sZW5ndGgsaT10aGlzLl9tYXA7KG89aS5jaGFyQXQoNjQpKSYmKC0xIT0obz1yLmluZGV4T2YobykpJiYobj1vKSk7Zm9yKHZhciBvPVtdLHM9MCxhPTA7YTxuO2ErKylpZihhJTQpe3ZhciB1PWkuaW5kZXhPZihyLmNoYXJBdChhLTEpKTw8YSU0KjIsYz1pLmluZGV4T2Yoci5jaGFyQXQoYSkpPj4+Ni1hJTQqMjtvW3M+Pj4yXXw9KHV8Yyk8PDI0LXMlNCo4LHMrK31yZXR1cm4gZS5jcmVhdGUobyxzKX0sX21hcDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCJ9fSgpLGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT15LHI9KGk9ZS5saWIpLldvcmRBcnJheSxuPWkuSGFzaGVyLGk9ZS5hbGdvLG89W10scz1bXSxhPWZ1bmN0aW9uIHQoZSl7cmV0dXJuIDQyOTQ5NjcyOTYqKGUtKDB8ZSkpfDB9LHU9MixjPTA7NjQ+Yzspe3ZhciBoO3Q6e2g9dTtmb3IodmFyIGw9dC5zcXJ0KGgpLGY9MjtmPD1sO2YrKylpZighKGglZikpe2g9ITE7YnJlYWsgdH1oPSEwfWgmJig4PmMmJihvW2NdPWEodC5wb3codSwuNSkpKSxzW2NdPWEodC5wb3codSwxLzMpKSxjKyspLHUrK312YXIgZD1bXTtpPWkuU0hBMjU2PW4uZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbiB0KCl7dGhpcy5faGFzaD1uZXcgci5pbml0KG8uc2xpY2UoMCkpfSxfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24gdChlLHIpe2Zvcih2YXIgbj10aGlzLl9oYXNoLndvcmRzLGk9blswXSxvPW5bMV0sYT1uWzJdLHU9blszXSxjPW5bNF0saD1uWzVdLGw9bls2XSxmPW5bN10sZz0wOzY0Pmc7ZysrKXtpZigxNj5nKWRbZ109MHxlW3IrZ107ZWxzZXt2YXIgcD1kW2ctMTVdLHY9ZFtnLTJdO2RbZ109KChwPDwyNXxwPj4+NyleKHA8PDE0fHA+Pj4xOClecD4+PjMpK2RbZy03XSsoKHY8PDE1fHY+Pj4xNyleKHY8PDEzfHY+Pj4xOSledj4+PjEwKStkW2ctMTZdfXA9ZisoKGM8PDI2fGM+Pj42KV4oYzw8MjF8Yz4+PjExKV4oYzw8N3xjPj4+MjUpKSsoYyZoXn5jJmwpK3NbZ10rZFtnXSx2PSgoaTw8MzB8aT4+PjIpXihpPDwxOXxpPj4+MTMpXihpPDwxMHxpPj4+MjIpKSsoaSZvXmkmYV5vJmEpLGY9bCxsPWgsaD1jLGM9dStwfDAsdT1hLGE9byxvPWksaT1wK3Z8MH1uWzBdPW5bMF0raXwwLG5bMV09blsxXStvfDAsblsyXT1uWzJdK2F8MCxuWzNdPW5bM10rdXwwLG5bNF09bls0XStjfDAsbls1XT1uWzVdK2h8MCxuWzZdPW5bNl0rbHwwLG5bN109bls3XStmfDB9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uIGUoKXt2YXIgcj10aGlzLl9kYXRhLG49ci53b3JkcyxpPTgqdGhpcy5fbkRhdGFCeXRlcyxvPTgqci5zaWdCeXRlcztyZXR1cm4gbltvPj4+NV18PTEyODw8MjQtbyUzMixuWzE0KyhvKzY0Pj4+OTw8NCldPXQuZmxvb3IoaS80Mjk0OTY3Mjk2KSxuWzE1KyhvKzY0Pj4+OTw8NCldPWksci5zaWdCeXRlcz00Km4ubGVuZ3RoLHRoaXMuX3Byb2Nlc3MoKSx0aGlzLl9oYXNofSxjbG9uZTpmdW5jdGlvbiB0KCl7dmFyIGU9bi5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBlLl9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKSxlfX0pO2UuU0hBMjU2PW4uX2NyZWF0ZUhlbHBlcihpKSxlLkhtYWNTSEEyNTY9bi5fY3JlYXRlSG1hY0hlbHBlcihpKX0oTWF0aCksZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG4uY3JlYXRlLmFwcGx5KG4sYXJndW1lbnRzKX1mb3IodmFyIGU9eSxyPWUubGliLkhhc2hlcixuPShvPWUueDY0KS5Xb3JkLGk9by5Xb3JkQXJyYXksbz1lLmFsZ28scz1bdCgxMTE2MzUyNDA4LDM2MDk3Njc0NTgpLHQoMTg5OTQ0NzQ0MSw2MDI4OTE3MjUpLHQoMzA0OTMyMzQ3MSwzOTY0NDg0Mzk5KSx0KDM5MjEwMDk1NzMsMjE3MzI5NTU0OCksdCg5NjE5ODcxNjMsNDA4MTYyODQ3MiksdCgxNTA4OTcwOTkzLDMwNTM4MzQyNjUpLHQoMjQ1MzYzNTc0OCwyOTM3NjcxNTc5KSx0KDI4NzA3NjMyMjEsMzY2NDYwOTU2MCksdCgzNjI0MzgxMDgwLDI3MzQ4ODMzOTQpLHQoMzEwNTk4NDAxLDExNjQ5OTY1NDIpLHQoNjA3MjI1Mjc4LDEzMjM2MTA3NjQpLHQoMTQyNjg4MTk4NywzNTkwMzA0OTk0KSx0KDE5MjUwNzgzODgsNDA2ODE4MjM4MyksdCgyMTYyMDc4MjA2LDk5MTMzNjExMyksdCgyNjE0ODg4MTAzLDYzMzgwMzMxNyksdCgzMjQ4MjIyNTgwLDM0Nzk3NzQ4NjgpLHQoMzgzNTM5MDQwMSwyNjY2NjEzNDU4KSx0KDQwMjIyMjQ3NzQsOTQ0NzExMTM5KSx0KDI2NDM0NzA3OCwyMzQxMjYyNzczKSx0KDYwNDgwNzYyOCwyMDA3ODAwOTMzKSx0KDc3MDI1NTk4MywxNDk1OTkwOTAxKSx0KDEyNDkxNTAxMjIsMTg1NjQzMTIzNSksdCgxNTU1MDgxNjkyLDMxNzUyMTgxMzIpLHQoMTk5NjA2NDk4NiwyMTk4OTUwODM3KSx0KDI1NTQyMjA4ODIsMzk5OTcxOTMzOSksdCgyODIxODM0MzQ5LDc2Njc4NDAxNiksdCgyOTUyOTk2ODA4LDI1NjY1OTQ4NzkpLHQoMzIxMDMxMzY3MSwzMjAzMzM3OTU2KSx0KDMzMzY1NzE4OTEsMTAzNDQ1NzAyNiksdCgzNTg0NTI4NzExLDI0NjY5NDg5MDEpLHQoMTEzOTI2OTkzLDM3NTgzMjYzODMpLHQoMzM4MjQxODk1LDE2ODcxNzkzNiksdCg2NjYzMDcyMDUsMTE4ODE3OTk2NCksdCg3NzM1Mjk5MTIsMTU0NjA0NTczNCksdCgxMjk0NzU3MzcyLDE1MjI4MDU0ODUpLHQoMTM5NjE4MjI5MSwyNjQzODMzODIzKSx0KDE2OTUxODM3MDAsMjM0MzUyNzM5MCksdCgxOTg2NjYxMDUxLDEwMTQ0Nzc0ODApLHQoMjE3NzAyNjM1MCwxMjA2NzU5MTQyKSx0KDI0NTY5NTYwMzcsMzQ0MDc3NjI3KSx0KDI3MzA0ODU5MjEsMTI5MDg2MzQ2MCksdCgyODIwMzAyNDExLDMxNTg0NTQyNzMpLHQoMzI1OTczMDgwMCwzNTA1OTUyNjU3KSx0KDMzNDU3NjQ3NzEsMTA2MjE3MDA4KSx0KDM1MTYwNjU4MTcsMzYwNjAwODM0NCksdCgzNjAwMzUyODA0LDE0MzI3MjU3NzYpLHQoNDA5NDU3MTkwOSwxNDY3MDMxNTk0KSx0KDI3NTQyMzM0NCw4NTExNjk3MjApLHQoNDMwMjI3NzM0LDMxMDA4MjM3NTIpLHQoNTA2OTQ4NjE2LDEzNjMyNTgxOTUpLHQoNjU5MDYwNTU2LDM3NTA2ODU1OTMpLHQoODgzOTk3ODc3LDM3ODUwNTAyODApLHQoOTU4MTM5NTcxLDMzMTgzMDc0MjcpLHQoMTMyMjgyMjIxOCwzODEyNzIzNDAzKSx0KDE1MzcwMDIwNjMsMjAwMzAzNDk5NSksdCgxNzQ3ODczNzc5LDM2MDIwMzY4OTkpLHQoMTk1NTU2MjIyMiwxNTc1OTkwMDEyKSx0KDIwMjQxMDQ4MTUsMTEyNTU5MjkyOCksdCgyMjI3NzMwNDUyLDI3MTY5MDQzMDYpLHQoMjM2MTg1MjQyNCw0NDI3NzYwNDQpLHQoMjQyODQzNjQ3NCw1OTM2OTgzNDQpLHQoMjc1NjczNDE4NywzNzMzMTEwMjQ5KSx0KDMyMDQwMzE0NzksMjk5OTM1MTU3MyksdCgzMzI5MzI1Mjk4LDM4MTU5MjA0MjcpLHQoMzM5MTU2OTYxNCwzOTI4MzgzOTAwKSx0KDM1MTUyNjcyNzEsNTY2MjgwNzExKSx0KDM5NDAxODc2MDYsMzQ1NDA2OTUzNCksdCg0MTE4NjMwMjcxLDQwMDAyMzk5OTIpLHQoMTE2NDE4NDc0LDE5MTQxMzg1NTQpLHQoMTc0MjkyNDIxLDI3MzEwNTUyNzApLHQoMjg5MzgwMzU2LDMyMDM5OTMwMDYpLHQoNDYwMzkzMjY5LDMyMDYyMDMxNSksdCg2ODU0NzE3MzMsNTg3NDk2ODM2KSx0KDg1MjE0Mjk3MSwxMDg2NzkyODUxKSx0KDEwMTcwMzYyOTgsMzY1NTQzMTAwKSx0KDExMjYwMDA1ODAsMjYxODI5NzY3NiksdCgxMjg4MDMzNDcwLDM0MDk4NTUxNTgpLHQoMTUwMTUwNTk0OCw0MjM0NTA5ODY2KSx0KDE2MDcxNjc5MTUsOTg3MTY3NDY4KSx0KDE4MTY0MDIzMTYsMTI0NjE4OTU5MSldLGE9W10sdT0wOzgwPnU7dSsrKWFbdV09dCgpO289by5TSEE1MTI9ci5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uIHQoKXt0aGlzLl9oYXNoPW5ldyBpLmluaXQoW25ldyBuLmluaXQoMTc3OTAzMzcwMyw0MDg5MjM1NzIwKSxuZXcgbi5pbml0KDMxNDQxMzQyNzcsMjIyNzg3MzU5NSksbmV3IG4uaW5pdCgxMDEzOTA0MjQyLDQyNzExNzU3MjMpLG5ldyBuLmluaXQoMjc3MzQ4MDc2MiwxNTk1NzUwMTI5KSxuZXcgbi5pbml0KDEzNTk4OTMxMTksMjkxNzU2NTEzNyksbmV3IG4uaW5pdCgyNjAwODIyOTI0LDcyNTUxMTE5OSksbmV3IG4uaW5pdCg1Mjg3MzQ2MzUsNDIxNTM4OTU0NyksbmV3IG4uaW5pdCgxNTQxNDU5MjI1LDMyNzAzMzIwOSldKX0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uIHQoZSxyKXtmb3IodmFyIG49KGY9dGhpcy5faGFzaC53b3JkcylbMF0saT1mWzFdLG89ZlsyXSx1PWZbM10sYz1mWzRdLGg9Zls1XSxsPWZbNl0sZj1mWzddLGQ9bi5oaWdoLGc9bi5sb3cscD1pLmhpZ2gsdj1pLmxvdyx5PW8uaGlnaCxtPW8ubG93LF89dS5oaWdoLFM9dS5sb3csRj1jLmhpZ2gsYj1jLmxvdyx3PWguaGlnaCxFPWgubG93LHg9bC5oaWdoLGs9bC5sb3csQT1mLmhpZ2gsUD1mLmxvdyxDPWQsVD1nLFI9cCxJPXYsRD15LFU9bSxMPV8sQj1TLE49RixPPWIsaj13LEg9RSxNPXgsSz1rLFY9QSxxPVAsSj0wOzgwPko7SisrKXt2YXIgVz1hW0pdO2lmKDE2PkopdmFyIHo9Vy5oaWdoPTB8ZVtyKzIqSl0sWT1XLmxvdz0wfGVbcisyKkorMV07ZWxzZXt6PSgoWT0oej1hW0otMTVdKS5oaWdoKT4+PjF8KEc9ei5sb3cpPDwzMSleKFk+Pj44fEc8PDI0KV5ZPj4+Nzt2YXIgRz0oRz4+PjF8WTw8MzEpXihHPj4+OHxZPDwyNCleKEc+Pj43fFk8PDI1KSxYPSgoWT0oWD1hW0otMl0pLmhpZ2gpPj4+MTl8KFE9WC5sb3cpPDwxMyleKFk8PDN8UT4+PjI5KV5ZPj4+NixRPShRPj4+MTl8WTw8MTMpXihRPDwzfFk+Pj4yOSleKFE+Pj42fFk8PDI2KSwkPShZPWFbSi03XSkuaGlnaCxaPSh0dD1hW0otMTZdKS5oaWdoLHR0PXR0Lmxvdzt6PSh6PSh6PXorJCsoKFk9RytZLmxvdyk+Pj4wPEc+Pj4wPzE6MCkpK1grKChZPVkrUSk+Pj4wPFE+Pj4wPzE6MCkpK1orKChZPVkrdHQpPj4+MDx0dD4+PjA/MTowKTtXLmhpZ2g9eixXLmxvdz1ZfSQ9TiZqXn5OJk0sdHQ9TyZIXn5PJkssVz1DJlJeQyZEXlImRDt2YXIgZXQ9VCZJXlQmVV5JJlUscnQ9KEc9KEM+Pj4yOHxUPDw0KV4oQzw8MzB8VD4+PjIpXihDPDwyNXxUPj4+NyksWD0oVD4+PjI4fEM8PDQpXihUPDwzMHxDPj4+MileKFQ8PDI1fEM+Pj43KSwoUT1zW0pdKS5oaWdoKSxudD1RLmxvdztaPShaPShaPShaPVYrKChOPj4+MTR8Tzw8MTgpXihOPj4+MTh8Tzw8MTQpXihOPDwyM3xPPj4+OSkpKygoUT1xKygoTz4+PjE0fE48PDE4KV4oTz4+PjE4fE48PDE0KV4oTzw8MjN8Tj4+PjkpKSk+Pj4wPHE+Pj4wPzE6MCkpKyQrKChRPVErdHQpPj4+MDx0dD4+PjA/MTowKSkrcnQrKChRPVErbnQpPj4+MDxudD4+PjA/MTowKSkreisoKFE9UStZKT4+PjA8WT4+PjA/MTowKSxXPUcrVysoKFk9WCtldCk+Pj4wPFg+Pj4wPzE6MCksVj1NLHE9SyxNPWosSz1ILGo9TixIPU8sTj1MK1orKChPPUIrUXwwKT4+PjA8Qj4+PjA/MTowKXwwLEw9RCxCPVUsRD1SLFU9SSxSPUMsST1ULEM9WitXKygoVD1RK1l8MCk+Pj4wPFE+Pj4wPzE6MCl8MH1nPW4ubG93PWcrVCxuLmhpZ2g9ZCtDKyhnPj4+MDxUPj4+MD8xOjApLHY9aS5sb3c9ditJLGkuaGlnaD1wK1IrKHY+Pj4wPEk+Pj4wPzE6MCksbT1vLmxvdz1tK1Usby5oaWdoPXkrRCsobT4+PjA8VT4+PjA/MTowKSxTPXUubG93PVMrQix1LmhpZ2g9XytMKyhTPj4+MDxCPj4+MD8xOjApLGI9Yy5sb3c9YitPLGMuaGlnaD1GK04rKGI+Pj4wPE8+Pj4wPzE6MCksRT1oLmxvdz1FK0gsaC5oaWdoPXcraisoRT4+PjA8SD4+PjA/MTowKSxrPWwubG93PWsrSyxsLmhpZ2g9eCtNKyhrPj4+MDxLPj4+MD8xOjApLFA9Zi5sb3c9UCtxLGYuaGlnaD1BK1YrKFA+Pj4wPHE+Pj4wPzE6MCl9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uIHQoKXt2YXIgZT10aGlzLl9kYXRhLHI9ZS53b3JkcyxuPTgqdGhpcy5fbkRhdGFCeXRlcyxpPTgqZS5zaWdCeXRlcztyZXR1cm4gcltpPj4+NV18PTEyODw8MjQtaSUzMixyWzMwKyhpKzEyOD4+PjEwPDw1KV09TWF0aC5mbG9vcihuLzQyOTQ5NjcyOTYpLHJbMzErKGkrMTI4Pj4+MTA8PDUpXT1uLGUuc2lnQnl0ZXM9NCpyLmxlbmd0aCx0aGlzLl9wcm9jZXNzKCksdGhpcy5faGFzaC50b1gzMigpfSxjbG9uZTpmdW5jdGlvbiB0KCl7dmFyIGU9ci5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBlLl9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKSxlfSxibG9ja1NpemU6MzJ9KSxlLlNIQTUxMj1yLl9jcmVhdGVIZWxwZXIobyksZS5IbWFjU0hBNTEyPXIuX2NyZWF0ZUhtYWNIZWxwZXIobyl9KCksZnVuY3Rpb24oKXt2YXIgdD15LGU9KGk9dC54NjQpLldvcmQscj1pLldvcmRBcnJheSxuPShpPXQuYWxnbykuU0hBNTEyLGk9aS5TSEEzODQ9bi5leHRlbmQoe19kb1Jlc2V0OmZ1bmN0aW9uIHQoKXt0aGlzLl9oYXNoPW5ldyByLmluaXQoW25ldyBlLmluaXQoMzQxODA3MDM2NSwzMjM4MzcxMDMyKSxuZXcgZS5pbml0KDE2NTQyNzAyNTAsOTE0MTUwNjYzKSxuZXcgZS5pbml0KDI0Mzg1MjkzNzAsODEyNzAyOTk5KSxuZXcgZS5pbml0KDM1NTQ2MjM2MCw0MTQ0OTEyNjk3KSxuZXcgZS5pbml0KDE3MzE0MDU0MTUsNDI5MDc3NTg1NyksbmV3IGUuaW5pdCgyMzk0MTgwMjMxLDE3NTA2MDMwMjUpLG5ldyBlLmluaXQoMzY3NTAwODUyNSwxNjk0MDc2ODM5KSxuZXcgZS5pbml0KDEyMDMwNjI4MTMsMzIwNDA3NTQyOCldKX0sX2RvRmluYWxpemU6ZnVuY3Rpb24gdCgpe3ZhciBlPW4uX2RvRmluYWxpemUuY2FsbCh0aGlzKTtyZXR1cm4gZS5zaWdCeXRlcy09MTYsZX19KTt0LlNIQTM4ND1uLl9jcmVhdGVIZWxwZXIoaSksdC5IbWFjU0hBMzg0PW4uX2NyZWF0ZUhtYWNIZWxwZXIoaSl9KCk7XG4vKiEgKGMpIFRvbSBXdSB8IGh0dHA6Ly93d3ctY3Mtc3R1ZGVudHMuc3RhbmZvcmQuZWR1L350ancvanNibi9cbiAqL1xudmFyIG0sXz1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixTPVwiPVwiO2Z1bmN0aW9uIEYodCl7dmFyIGUscixuPVwiXCI7Zm9yKGU9MDtlKzM8PXQubGVuZ3RoO2UrPTMpcj1wYXJzZUludCh0LnN1YnN0cmluZyhlLGUrMyksMTYpLG4rPV8uY2hhckF0KHI+PjYpK18uY2hhckF0KDYzJnIpO2lmKGUrMT09dC5sZW5ndGg/KHI9cGFyc2VJbnQodC5zdWJzdHJpbmcoZSxlKzEpLDE2KSxuKz1fLmNoYXJBdChyPDwyKSk6ZSsyPT10Lmxlbmd0aCYmKHI9cGFyc2VJbnQodC5zdWJzdHJpbmcoZSxlKzIpLDE2KSxuKz1fLmNoYXJBdChyPj4yKStfLmNoYXJBdCgoMyZyKTw8NCkpLFMpZm9yKDsoMyZuLmxlbmd0aCk+MDspbis9UztyZXR1cm4gbn1mdW5jdGlvbiBiKHQpe3ZhciBlLHIsbixpPVwiXCIsbz0wO2ZvcihlPTA7ZTx0Lmxlbmd0aCYmdC5jaGFyQXQoZSkhPVM7KytlKShuPV8uaW5kZXhPZih0LmNoYXJBdChlKSkpPDB8fCgwPT1vPyhpKz1EKG4+PjIpLHI9MyZuLG89MSk6MT09bz8oaSs9RChyPDwyfG4+PjQpLHI9MTUmbixvPTIpOjI9PW8/KGkrPUQociksaSs9RChuPj4yKSxyPTMmbixvPTMpOihpKz1EKHI8PDJ8bj4+NCksaSs9RCgxNSZuKSxvPTApKTtyZXR1cm4gMT09byYmKGkrPUQocjw8MikpLGl9ZnVuY3Rpb24gdyh0KXt2YXIgZSxyPWIodCksbj1uZXcgQXJyYXk7Zm9yKGU9MDsyKmU8ci5sZW5ndGg7KytlKW5bZV09cGFyc2VJbnQoci5zdWJzdHJpbmcoMiplLDIqZSsyKSwxNik7cmV0dXJuIG59ZnVuY3Rpb24gRSh0LGUscil7bnVsbCE9dCYmKFwibnVtYmVyXCI9PXR5cGVvZiB0P3RoaXMuZnJvbU51bWJlcih0LGUscik6bnVsbD09ZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQ/dGhpcy5mcm9tU3RyaW5nKHQsMjU2KTp0aGlzLmZyb21TdHJpbmcodCxlKSl9ZnVuY3Rpb24geCgpe3JldHVybiBuZXcgRShudWxsKX1cIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlclwiPT1uLmFwcE5hbWU/KEUucHJvdG90eXBlLmFtPWZ1bmN0aW9uIGsodCxlLHIsbixpLG8pe2Zvcih2YXIgcz0zMjc2NyZlLGE9ZT4+MTU7LS1vPj0wOyl7dmFyIHU9MzI3NjcmdGhpc1t0XSxjPXRoaXNbdCsrXT4+MTUsaD1hKnUrYypzO2k9KCh1PXMqdSsoKDMyNzY3JmgpPDwxNSkrcltuXSsoMTA3Mzc0MTgyMyZpKSk+Pj4zMCkrKGg+Pj4xNSkrYSpjKyhpPj4+MzApLHJbbisrXT0xMDczNzQxODIzJnV9cmV0dXJuIGl9LG09MzApOlwiTmV0c2NhcGVcIiE9bi5hcHBOYW1lPyhFLnByb3RvdHlwZS5hbT1mdW5jdGlvbiBBKHQsZSxyLG4saSxvKXtmb3IoOy0tbz49MDspe3ZhciBzPWUqdGhpc1t0KytdK3Jbbl0raTtpPU1hdGguZmxvb3Iocy82NzEwODg2NCkscltuKytdPTY3MTA4ODYzJnN9cmV0dXJuIGl9LG09MjYpOihFLnByb3RvdHlwZS5hbT1mdW5jdGlvbiBQKHQsZSxyLG4saSxvKXtmb3IodmFyIHM9MTYzODMmZSxhPWU+PjE0Oy0tbz49MDspe3ZhciB1PTE2MzgzJnRoaXNbdF0sYz10aGlzW3QrK10+PjE0LGg9YSp1K2MqcztpPSgodT1zKnUrKCgxNjM4MyZoKTw8MTQpK3Jbbl0raSk+PjI4KSsoaD4+MTQpK2EqYyxyW24rK109MjY4NDM1NDU1JnV9cmV0dXJuIGl9LG09MjgpLEUucHJvdG90eXBlLkRCPW0sRS5wcm90b3R5cGUuRE09KDE8PG0pLTEsRS5wcm90b3R5cGUuRFY9MTw8bTtFLnByb3RvdHlwZS5GVj1NYXRoLnBvdygyLDUyKSxFLnByb3RvdHlwZS5GMT01Mi1tLEUucHJvdG90eXBlLkYyPTIqbS01Mjt2YXIgQyxULFI9XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIixJPW5ldyBBcnJheTtmb3IoQz1cIjBcIi5jaGFyQ29kZUF0KDApLFQ9MDtUPD05OysrVClJW0MrK109VDtmb3IoQz1cImFcIi5jaGFyQ29kZUF0KDApLFQ9MTA7VDwzNjsrK1QpSVtDKytdPVQ7Zm9yKEM9XCJBXCIuY2hhckNvZGVBdCgwKSxUPTEwO1Q8MzY7KytUKUlbQysrXT1UO2Z1bmN0aW9uIEQodCl7cmV0dXJuIFIuY2hhckF0KHQpfWZ1bmN0aW9uIFUodCxlKXt2YXIgcj1JW3QuY2hhckNvZGVBdChlKV07cmV0dXJuIG51bGw9PXI/LTE6cn1mdW5jdGlvbiBMKHQpe3ZhciBlPXgoKTtyZXR1cm4gZS5mcm9tSW50KHQpLGV9ZnVuY3Rpb24gQih0KXt2YXIgZSxyPTE7cmV0dXJuIDAhPShlPXQ+Pj4xNikmJih0PWUscis9MTYpLDAhPShlPXQ+PjgpJiYodD1lLHIrPTgpLDAhPShlPXQ+PjQpJiYodD1lLHIrPTQpLDAhPShlPXQ+PjIpJiYodD1lLHIrPTIpLDAhPShlPXQ+PjEpJiYodD1lLHIrPTEpLHJ9ZnVuY3Rpb24gTih0KXt0aGlzLm09dH1mdW5jdGlvbiBPKHQpe3RoaXMubT10LHRoaXMubXA9dC5pbnZEaWdpdCgpLHRoaXMubXBsPTMyNzY3JnRoaXMubXAsdGhpcy5tcGg9dGhpcy5tcD4+MTUsdGhpcy51bT0oMTw8dC5EQi0xNSktMSx0aGlzLm10Mj0yKnQudH1mdW5jdGlvbiBqKHQsZSl7cmV0dXJuIHQmZX1mdW5jdGlvbiBIKHQsZSl7cmV0dXJuIHR8ZX1mdW5jdGlvbiBNKHQsZSl7cmV0dXJuIHReZX1mdW5jdGlvbiBLKHQsZSl7cmV0dXJuIHQmfmV9ZnVuY3Rpb24gVih0KXtpZigwPT10KXJldHVybi0xO3ZhciBlPTA7cmV0dXJuIDA9PSg2NTUzNSZ0KSYmKHQ+Pj0xNixlKz0xNiksMD09KDI1NSZ0KSYmKHQ+Pj04LGUrPTgpLDA9PSgxNSZ0KSYmKHQ+Pj00LGUrPTQpLDA9PSgzJnQpJiYodD4+PTIsZSs9MiksMD09KDEmdCkmJisrZSxlfWZ1bmN0aW9uIHEodCl7Zm9yKHZhciBlPTA7MCE9dDspdCY9dC0xLCsrZTtyZXR1cm4gZX1mdW5jdGlvbiBKKCl7fWZ1bmN0aW9uIFcodCl7cmV0dXJuIHR9ZnVuY3Rpb24geih0KXt0aGlzLnIyPXgoKSx0aGlzLnEzPXgoKSxFLk9ORS5kbFNoaWZ0VG8oMip0LnQsdGhpcy5yMiksdGhpcy5tdT10aGlzLnIyLmRpdmlkZSh0KSx0aGlzLm09dH1OLnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uIFkodCl7cmV0dXJuIHQuczwwfHx0LmNvbXBhcmVUbyh0aGlzLm0pPj0wP3QubW9kKHRoaXMubSk6dH0sTi5wcm90b3R5cGUucmV2ZXJ0PWZ1bmN0aW9uIEcodCl7cmV0dXJuIHR9LE4ucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbiBYKHQpe3QuZGl2UmVtVG8odGhpcy5tLG51bGwsdCl9LE4ucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uIFEodCxlLHIpe3QubXVsdGlwbHlUbyhlLHIpLHRoaXMucmVkdWNlKHIpfSxOLnByb3RvdHlwZS5zcXJUbz1mdW5jdGlvbiAkKHQsZSl7dC5zcXVhcmVUbyhlKSx0aGlzLnJlZHVjZShlKX0sTy5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbiBaKHQpe3ZhciBlPXgoKTtyZXR1cm4gdC5hYnMoKS5kbFNoaWZ0VG8odGhpcy5tLnQsZSksZS5kaXZSZW1Ubyh0aGlzLm0sbnVsbCxlKSx0LnM8MCYmZS5jb21wYXJlVG8oRS5aRVJPKT4wJiZ0aGlzLm0uc3ViVG8oZSxlKSxlfSxPLnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24gdHQodCl7dmFyIGU9eCgpO3JldHVybiB0LmNvcHlUbyhlKSx0aGlzLnJlZHVjZShlKSxlfSxPLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24gZXQodCl7Zm9yKDt0LnQ8PXRoaXMubXQyOyl0W3QudCsrXT0wO2Zvcih2YXIgZT0wO2U8dGhpcy5tLnQ7KytlKXt2YXIgcj0zMjc2NyZ0W2VdLG49cip0aGlzLm1wbCsoKHIqdGhpcy5tcGgrKHRbZV0+PjE1KSp0aGlzLm1wbCZ0aGlzLnVtKTw8MTUpJnQuRE07Zm9yKHRbcj1lK3RoaXMubS50XSs9dGhpcy5tLmFtKDAsbix0LGUsMCx0aGlzLm0udCk7dFtyXT49dC5EVjspdFtyXS09dC5EVix0Wysrcl0rK310LmNsYW1wKCksdC5kclNoaWZ0VG8odGhpcy5tLnQsdCksdC5jb21wYXJlVG8odGhpcy5tKT49MCYmdC5zdWJUbyh0aGlzLm0sdCl9LE8ucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uIHJ0KHQsZSxyKXt0Lm11bHRpcGx5VG8oZSxyKSx0aGlzLnJlZHVjZShyKX0sTy5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24gbnQodCxlKXt0LnNxdWFyZVRvKGUpLHRoaXMucmVkdWNlKGUpfSxFLnByb3RvdHlwZS5jb3B5VG89ZnVuY3Rpb24gaXQodCl7Zm9yKHZhciBlPXRoaXMudC0xO2U+PTA7LS1lKXRbZV09dGhpc1tlXTt0LnQ9dGhpcy50LHQucz10aGlzLnN9LEUucHJvdG90eXBlLmZyb21JbnQ9ZnVuY3Rpb24gb3QodCl7dGhpcy50PTEsdGhpcy5zPXQ8MD8tMTowLHQ+MD90aGlzWzBdPXQ6dDwtMT90aGlzWzBdPXQrdGhpcy5EVjp0aGlzLnQ9MH0sRS5wcm90b3R5cGUuZnJvbVN0cmluZz1mdW5jdGlvbiBzdCh0LGUpe3ZhciByO2lmKDE2PT1lKXI9NDtlbHNlIGlmKDg9PWUpcj0zO2Vsc2UgaWYoMjU2PT1lKXI9ODtlbHNlIGlmKDI9PWUpcj0xO2Vsc2UgaWYoMzI9PWUpcj01O2Vsc2V7aWYoNCE9ZSlyZXR1cm4gdm9pZCB0aGlzLmZyb21SYWRpeCh0LGUpO3I9Mn10aGlzLnQ9MCx0aGlzLnM9MDtmb3IodmFyIG49dC5sZW5ndGgsaT0hMSxvPTA7LS1uPj0wOyl7dmFyIHM9OD09cj8yNTUmdFtuXTpVKHQsbik7czwwP1wiLVwiPT10LmNoYXJBdChuKSYmKGk9ITApOihpPSExLDA9PW8/dGhpc1t0aGlzLnQrK109czpvK3I+dGhpcy5EQj8odGhpc1t0aGlzLnQtMV18PShzJigxPDx0aGlzLkRCLW8pLTEpPDxvLHRoaXNbdGhpcy50KytdPXM+PnRoaXMuREItbyk6dGhpc1t0aGlzLnQtMV18PXM8PG8sKG8rPXIpPj10aGlzLkRCJiYoby09dGhpcy5EQikpfTg9PXImJjAhPSgxMjgmdFswXSkmJih0aGlzLnM9LTEsbz4wJiYodGhpc1t0aGlzLnQtMV18PSgxPDx0aGlzLkRCLW8pLTE8PG8pKSx0aGlzLmNsYW1wKCksaSYmRS5aRVJPLnN1YlRvKHRoaXMsdGhpcyl9LEUucHJvdG90eXBlLmNsYW1wPWZ1bmN0aW9uIGF0KCl7Zm9yKHZhciB0PXRoaXMucyZ0aGlzLkRNO3RoaXMudD4wJiZ0aGlzW3RoaXMudC0xXT09dDspLS10aGlzLnR9LEUucHJvdG90eXBlLmRsU2hpZnRUbz1mdW5jdGlvbiB1dCh0LGUpe3ZhciByO2ZvcihyPXRoaXMudC0xO3I+PTA7LS1yKWVbcit0XT10aGlzW3JdO2ZvcihyPXQtMTtyPj0wOy0tcillW3JdPTA7ZS50PXRoaXMudCt0LGUucz10aGlzLnN9LEUucHJvdG90eXBlLmRyU2hpZnRUbz1mdW5jdGlvbiBjdCh0LGUpe2Zvcih2YXIgcj10O3I8dGhpcy50OysrcillW3ItdF09dGhpc1tyXTtlLnQ9TWF0aC5tYXgodGhpcy50LXQsMCksZS5zPXRoaXMuc30sRS5wcm90b3R5cGUubFNoaWZ0VG89ZnVuY3Rpb24gaHQodCxlKXt2YXIgcixuPXQldGhpcy5EQixpPXRoaXMuREItbixvPSgxPDxpKS0xLHM9TWF0aC5mbG9vcih0L3RoaXMuREIpLGE9dGhpcy5zPDxuJnRoaXMuRE07Zm9yKHI9dGhpcy50LTE7cj49MDstLXIpZVtyK3MrMV09dGhpc1tyXT4+aXxhLGE9KHRoaXNbcl0mbyk8PG47Zm9yKHI9cy0xO3I+PTA7LS1yKWVbcl09MDtlW3NdPWEsZS50PXRoaXMudCtzKzEsZS5zPXRoaXMucyxlLmNsYW1wKCl9LEUucHJvdG90eXBlLnJTaGlmdFRvPWZ1bmN0aW9uIGx0KHQsZSl7ZS5zPXRoaXMuczt2YXIgcj1NYXRoLmZsb29yKHQvdGhpcy5EQik7aWYocj49dGhpcy50KWUudD0wO2Vsc2V7dmFyIG49dCV0aGlzLkRCLGk9dGhpcy5EQi1uLG89KDE8PG4pLTE7ZVswXT10aGlzW3JdPj5uO2Zvcih2YXIgcz1yKzE7czx0aGlzLnQ7KytzKWVbcy1yLTFdfD0odGhpc1tzXSZvKTw8aSxlW3Mtcl09dGhpc1tzXT4+bjtuPjAmJihlW3RoaXMudC1yLTFdfD0odGhpcy5zJm8pPDxpKSxlLnQ9dGhpcy50LXIsZS5jbGFtcCgpfX0sRS5wcm90b3R5cGUuc3ViVG89ZnVuY3Rpb24gZnQodCxlKXtmb3IodmFyIHI9MCxuPTAsaT1NYXRoLm1pbih0LnQsdGhpcy50KTtyPGk7KW4rPXRoaXNbcl0tdFtyXSxlW3IrK109biZ0aGlzLkRNLG4+Pj10aGlzLkRCO2lmKHQudDx0aGlzLnQpe2ZvcihuLT10LnM7cjx0aGlzLnQ7KW4rPXRoaXNbcl0sZVtyKytdPW4mdGhpcy5ETSxuPj49dGhpcy5EQjtuKz10aGlzLnN9ZWxzZXtmb3Iobis9dGhpcy5zO3I8dC50OyluLT10W3JdLGVbcisrXT1uJnRoaXMuRE0sbj4+PXRoaXMuREI7bi09dC5zfWUucz1uPDA/LTE6MCxuPC0xP2VbcisrXT10aGlzLkRWK246bj4wJiYoZVtyKytdPW4pLGUudD1yLGUuY2xhbXAoKX0sRS5wcm90b3R5cGUubXVsdGlwbHlUbz1mdW5jdGlvbiBkdCh0LGUpe3ZhciByPXRoaXMuYWJzKCksbj10LmFicygpLGk9ci50O2ZvcihlLnQ9aStuLnQ7LS1pPj0wOyllW2ldPTA7Zm9yKGk9MDtpPG4udDsrK2kpZVtpK3IudF09ci5hbSgwLG5baV0sZSxpLDAsci50KTtlLnM9MCxlLmNsYW1wKCksdGhpcy5zIT10LnMmJkUuWkVSTy5zdWJUbyhlLGUpfSxFLnByb3RvdHlwZS5zcXVhcmVUbz1mdW5jdGlvbiBndCh0KXtmb3IodmFyIGU9dGhpcy5hYnMoKSxyPXQudD0yKmUudDstLXI+PTA7KXRbcl09MDtmb3Iocj0wO3I8ZS50LTE7KytyKXt2YXIgbj1lLmFtKHIsZVtyXSx0LDIqciwwLDEpOyh0W3IrZS50XSs9ZS5hbShyKzEsMiplW3JdLHQsMipyKzEsbixlLnQtci0xKSk+PWUuRFYmJih0W3IrZS50XS09ZS5EVix0W3IrZS50KzFdPTEpfXQudD4wJiYodFt0LnQtMV0rPWUuYW0ocixlW3JdLHQsMipyLDAsMSkpLHQucz0wLHQuY2xhbXAoKX0sRS5wcm90b3R5cGUuZGl2UmVtVG89ZnVuY3Rpb24gcHQodCxlLHIpe3ZhciBuPXQuYWJzKCk7aWYoIShuLnQ8PTApKXt2YXIgaT10aGlzLmFicygpO2lmKGkudDxuLnQpcmV0dXJuIG51bGwhPWUmJmUuZnJvbUludCgwKSx2b2lkKG51bGwhPXImJnRoaXMuY29weVRvKHIpKTtudWxsPT1yJiYocj14KCkpO3ZhciBvPXgoKSxzPXRoaXMucyxhPXQucyx1PXRoaXMuREItQihuW24udC0xXSk7dT4wPyhuLmxTaGlmdFRvKHUsbyksaS5sU2hpZnRUbyh1LHIpKToobi5jb3B5VG8obyksaS5jb3B5VG8ocikpO3ZhciBjPW8udCxoPW9bYy0xXTtpZigwIT1oKXt2YXIgbD1oKigxPDx0aGlzLkYxKSsoYz4xP29bYy0yXT4+dGhpcy5GMjowKSxmPXRoaXMuRlYvbCxkPSgxPDx0aGlzLkYxKS9sLGc9MTw8dGhpcy5GMixwPXIudCx2PXAtYyx5PW51bGw9PWU/eCgpOmU7Zm9yKG8uZGxTaGlmdFRvKHYseSksci5jb21wYXJlVG8oeSk+PTAmJihyW3IudCsrXT0xLHIuc3ViVG8oeSxyKSksRS5PTkUuZGxTaGlmdFRvKGMseSkseS5zdWJUbyhvLG8pO28udDxjOylvW28udCsrXT0wO2Zvcig7LS12Pj0wOyl7dmFyIG09clstLXBdPT1oP3RoaXMuRE06TWF0aC5mbG9vcihyW3BdKmYrKHJbcC0xXStnKSpkKTtpZigocltwXSs9by5hbSgwLG0scix2LDAsYykpPG0pZm9yKG8uZGxTaGlmdFRvKHYseSksci5zdWJUbyh5LHIpO3JbcF08LS1tOylyLnN1YlRvKHkscil9bnVsbCE9ZSYmKHIuZHJTaGlmdFRvKGMsZSkscyE9YSYmRS5aRVJPLnN1YlRvKGUsZSkpLHIudD1jLHIuY2xhbXAoKSx1PjAmJnIuclNoaWZ0VG8odSxyKSxzPDAmJkUuWkVSTy5zdWJUbyhyLHIpfX19LEUucHJvdG90eXBlLmludkRpZ2l0PWZ1bmN0aW9uIHZ0KCl7aWYodGhpcy50PDEpcmV0dXJuIDA7dmFyIHQ9dGhpc1swXTtpZigwPT0oMSZ0KSlyZXR1cm4gMDt2YXIgZT0zJnQ7cmV0dXJuKGU9KGU9KGU9KGU9ZSooMi0oMTUmdCkqZSkmMTUpKigyLSgyNTUmdCkqZSkmMjU1KSooMi0oKDY1NTM1JnQpKmUmNjU1MzUpKSY2NTUzNSkqKDItdCplJXRoaXMuRFYpJXRoaXMuRFYpPjA/dGhpcy5EVi1lOi1lfSxFLnByb3RvdHlwZS5pc0V2ZW49ZnVuY3Rpb24geXQoKXtyZXR1cm4gMD09KHRoaXMudD4wPzEmdGhpc1swXTp0aGlzLnMpfSxFLnByb3RvdHlwZS5leHA9ZnVuY3Rpb24gbXQodCxlKXtpZih0PjQyOTQ5NjcyOTV8fHQ8MSlyZXR1cm4gRS5PTkU7dmFyIHI9eCgpLG49eCgpLGk9ZS5jb252ZXJ0KHRoaXMpLG89Qih0KS0xO2ZvcihpLmNvcHlUbyhyKTstLW8+PTA7KWlmKGUuc3FyVG8ocixuKSwodCYxPDxvKT4wKWUubXVsVG8obixpLHIpO2Vsc2V7dmFyIHM9cjtyPW4sbj1zfXJldHVybiBlLnJldmVydChyKX0sRS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24gX3QodCl7aWYodGhpcy5zPDApcmV0dXJuXCItXCIrdGhpcy5uZWdhdGUoKS50b1N0cmluZyh0KTt2YXIgZTtpZigxNj09dCllPTQ7ZWxzZSBpZig4PT10KWU9MztlbHNlIGlmKDI9PXQpZT0xO2Vsc2UgaWYoMzI9PXQpZT01O2Vsc2V7aWYoNCE9dClyZXR1cm4gdGhpcy50b1JhZGl4KHQpO2U9Mn12YXIgcixuPSgxPDxlKS0xLGk9ITEsbz1cIlwiLHM9dGhpcy50LGE9dGhpcy5EQi1zKnRoaXMuREIlZTtpZihzLS0gPjApZm9yKGE8dGhpcy5EQiYmKHI9dGhpc1tzXT4+YSk+MCYmKGk9ITAsbz1EKHIpKTtzPj0wOylhPGU/KHI9KHRoaXNbc10mKDE8PGEpLTEpPDxlLWEscnw9dGhpc1stLXNdPj4oYSs9dGhpcy5EQi1lKSk6KHI9dGhpc1tzXT4+KGEtPWUpJm4sYTw9MCYmKGErPXRoaXMuREIsLS1zKSkscj4wJiYoaT0hMCksaSYmKG8rPUQocikpO3JldHVybiBpP286XCIwXCJ9LEUucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbiBTdCgpe3ZhciB0PXgoKTtyZXR1cm4gRS5aRVJPLnN1YlRvKHRoaXMsdCksdH0sRS5wcm90b3R5cGUuYWJzPWZ1bmN0aW9uIEZ0KCl7cmV0dXJuIHRoaXMuczwwP3RoaXMubmVnYXRlKCk6dGhpc30sRS5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uIGJ0KHQpe3ZhciBlPXRoaXMucy10LnM7aWYoMCE9ZSlyZXR1cm4gZTt2YXIgcj10aGlzLnQ7aWYoMCE9KGU9ci10LnQpKXJldHVybiB0aGlzLnM8MD8tZTplO2Zvcig7LS1yPj0wOylpZigwIT0oZT10aGlzW3JdLXRbcl0pKXJldHVybiBlO3JldHVybiAwfSxFLnByb3RvdHlwZS5iaXRMZW5ndGg9ZnVuY3Rpb24gd3QoKXtyZXR1cm4gdGhpcy50PD0wPzA6dGhpcy5EQioodGhpcy50LTEpK0IodGhpc1t0aGlzLnQtMV1edGhpcy5zJnRoaXMuRE0pfSxFLnByb3RvdHlwZS5tb2Q9ZnVuY3Rpb24gRXQodCl7dmFyIGU9eCgpO3JldHVybiB0aGlzLmFicygpLmRpdlJlbVRvKHQsbnVsbCxlKSx0aGlzLnM8MCYmZS5jb21wYXJlVG8oRS5aRVJPKT4wJiZ0LnN1YlRvKGUsZSksZX0sRS5wcm90b3R5cGUubW9kUG93SW50PWZ1bmN0aW9uIHh0KHQsZSl7dmFyIHI7cmV0dXJuIHI9dDwyNTZ8fGUuaXNFdmVuKCk/bmV3IE4oZSk6bmV3IE8oZSksdGhpcy5leHAodCxyKX0sRS5aRVJPPUwoMCksRS5PTkU9TCgxKSxKLnByb3RvdHlwZS5jb252ZXJ0PVcsSi5wcm90b3R5cGUucmV2ZXJ0PVcsSi5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24ga3QodCxlLHIpe3QubXVsdGlwbHlUbyhlLHIpfSxKLnByb3RvdHlwZS5zcXJUbz1mdW5jdGlvbiBBdCh0LGUpe3Quc3F1YXJlVG8oZSl9LHoucHJvdG90eXBlLmNvbnZlcnQ9ZnVuY3Rpb24gUHQodCl7aWYodC5zPDB8fHQudD4yKnRoaXMubS50KXJldHVybiB0Lm1vZCh0aGlzLm0pO2lmKHQuY29tcGFyZVRvKHRoaXMubSk8MClyZXR1cm4gdDt2YXIgZT14KCk7cmV0dXJuIHQuY29weVRvKGUpLHRoaXMucmVkdWNlKGUpLGV9LHoucHJvdG90eXBlLnJldmVydD1mdW5jdGlvbiBDdCh0KXtyZXR1cm4gdH0sei5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uIFR0KHQpe2Zvcih0LmRyU2hpZnRUbyh0aGlzLm0udC0xLHRoaXMucjIpLHQudD50aGlzLm0udCsxJiYodC50PXRoaXMubS50KzEsdC5jbGFtcCgpKSx0aGlzLm11Lm11bHRpcGx5VXBwZXJUbyh0aGlzLnIyLHRoaXMubS50KzEsdGhpcy5xMyksdGhpcy5tLm11bHRpcGx5TG93ZXJUbyh0aGlzLnEzLHRoaXMubS50KzEsdGhpcy5yMik7dC5jb21wYXJlVG8odGhpcy5yMik8MDspdC5kQWRkT2Zmc2V0KDEsdGhpcy5tLnQrMSk7Zm9yKHQuc3ViVG8odGhpcy5yMix0KTt0LmNvbXBhcmVUbyh0aGlzLm0pPj0wOyl0LnN1YlRvKHRoaXMubSx0KX0sei5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24gUnQodCxlLHIpe3QubXVsdGlwbHlUbyhlLHIpLHRoaXMucmVkdWNlKHIpfSx6LnByb3RvdHlwZS5zcXJUbz1mdW5jdGlvbiBJdCh0LGUpe3Quc3F1YXJlVG8oZSksdGhpcy5yZWR1Y2UoZSl9O3ZhciBEdD1bMiwzLDUsNywxMSwxMywxNywxOSwyMywyOSwzMSwzNyw0MSw0Myw0Nyw1Myw1OSw2MSw2Nyw3MSw3Myw3OSw4Myw4OSw5NywxMDEsMTAzLDEwNywxMDksMTEzLDEyNywxMzEsMTM3LDEzOSwxNDksMTUxLDE1NywxNjMsMTY3LDE3MywxNzksMTgxLDE5MSwxOTMsMTk3LDE5OSwyMTEsMjIzLDIyNywyMjksMjMzLDIzOSwyNDEsMjUxLDI1NywyNjMsMjY5LDI3MSwyNzcsMjgxLDI4MywyOTMsMzA3LDMxMSwzMTMsMzE3LDMzMSwzMzcsMzQ3LDM0OSwzNTMsMzU5LDM2NywzNzMsMzc5LDM4MywzODksMzk3LDQwMSw0MDksNDE5LDQyMSw0MzEsNDMzLDQzOSw0NDMsNDQ5LDQ1Nyw0NjEsNDYzLDQ2Nyw0NzksNDg3LDQ5MSw0OTksNTAzLDUwOSw1MjEsNTIzLDU0MSw1NDcsNTU3LDU2Myw1NjksNTcxLDU3Nyw1ODcsNTkzLDU5OSw2MDEsNjA3LDYxMyw2MTcsNjE5LDYzMSw2NDEsNjQzLDY0Nyw2NTMsNjU5LDY2MSw2NzMsNjc3LDY4Myw2OTEsNzAxLDcwOSw3MTksNzI3LDczMyw3MzksNzQzLDc1MSw3NTcsNzYxLDc2OSw3NzMsNzg3LDc5Nyw4MDksODExLDgyMSw4MjMsODI3LDgyOSw4MzksODUzLDg1Nyw4NTksODYzLDg3Nyw4ODEsODgzLDg4Nyw5MDcsOTExLDkxOSw5MjksOTM3LDk0MSw5NDcsOTUzLDk2Nyw5NzEsOTc3LDk4Myw5OTEsOTk3XSxVdD0oMTw8MjYpL0R0W0R0Lmxlbmd0aC0xXTtcbi8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuL1xuICovXG5mdW5jdGlvbiBMdCgpe3RoaXMuaT0wLHRoaXMuaj0wLHRoaXMuUz1uZXcgQXJyYXl9RS5wcm90b3R5cGUuY2h1bmtTaXplPWZ1bmN0aW9uIEJ0KHQpe3JldHVybiBNYXRoLmZsb29yKE1hdGguTE4yKnRoaXMuREIvTWF0aC5sb2codCkpfSxFLnByb3RvdHlwZS50b1JhZGl4PWZ1bmN0aW9uIE50KHQpe2lmKG51bGw9PXQmJih0PTEwKSwwPT10aGlzLnNpZ251bSgpfHx0PDJ8fHQ+MzYpcmV0dXJuXCIwXCI7dmFyIGU9dGhpcy5jaHVua1NpemUodCkscj1NYXRoLnBvdyh0LGUpLG49TChyKSxpPXgoKSxvPXgoKSxzPVwiXCI7Zm9yKHRoaXMuZGl2UmVtVG8obixpLG8pO2kuc2lnbnVtKCk+MDspcz0ocitvLmludFZhbHVlKCkpLnRvU3RyaW5nKHQpLnN1YnN0cigxKStzLGkuZGl2UmVtVG8obixpLG8pO3JldHVybiBvLmludFZhbHVlKCkudG9TdHJpbmcodCkrc30sRS5wcm90b3R5cGUuZnJvbVJhZGl4PWZ1bmN0aW9uIE90KHQsZSl7dGhpcy5mcm9tSW50KDApLG51bGw9PWUmJihlPTEwKTtmb3IodmFyIHI9dGhpcy5jaHVua1NpemUoZSksbj1NYXRoLnBvdyhlLHIpLGk9ITEsbz0wLHM9MCxhPTA7YTx0Lmxlbmd0aDsrK2Epe3ZhciB1PVUodCxhKTt1PDA/XCItXCI9PXQuY2hhckF0KGEpJiYwPT10aGlzLnNpZ251bSgpJiYoaT0hMCk6KHM9ZSpzK3UsKytvPj1yJiYodGhpcy5kTXVsdGlwbHkobiksdGhpcy5kQWRkT2Zmc2V0KHMsMCksbz0wLHM9MCkpfW8+MCYmKHRoaXMuZE11bHRpcGx5KE1hdGgucG93KGUsbykpLHRoaXMuZEFkZE9mZnNldChzLDApKSxpJiZFLlpFUk8uc3ViVG8odGhpcyx0aGlzKX0sRS5wcm90b3R5cGUuZnJvbU51bWJlcj1mdW5jdGlvbiBqdCh0LGUscil7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpaWYodDwyKXRoaXMuZnJvbUludCgxKTtlbHNlIGZvcih0aGlzLmZyb21OdW1iZXIodCxyKSx0aGlzLnRlc3RCaXQodC0xKXx8dGhpcy5iaXR3aXNlVG8oRS5PTkUuc2hpZnRMZWZ0KHQtMSksSCx0aGlzKSx0aGlzLmlzRXZlbigpJiZ0aGlzLmRBZGRPZmZzZXQoMSwwKTshdGhpcy5pc1Byb2JhYmxlUHJpbWUoZSk7KXRoaXMuZEFkZE9mZnNldCgyLDApLHRoaXMuYml0TGVuZ3RoKCk+dCYmdGhpcy5zdWJUbyhFLk9ORS5zaGlmdExlZnQodC0xKSx0aGlzKTtlbHNle3ZhciBuPW5ldyBBcnJheSxpPTcmdDtuLmxlbmd0aD0xKyh0Pj4zKSxlLm5leHRCeXRlcyhuKSxpPjA/blswXSY9KDE8PGkpLTE6blswXT0wLHRoaXMuZnJvbVN0cmluZyhuLDI1Nil9fSxFLnByb3RvdHlwZS5iaXR3aXNlVG89ZnVuY3Rpb24gSHQodCxlLHIpe3ZhciBuLGksbz1NYXRoLm1pbih0LnQsdGhpcy50KTtmb3Iobj0wO248bzsrK24pcltuXT1lKHRoaXNbbl0sdFtuXSk7aWYodC50PHRoaXMudCl7Zm9yKGk9dC5zJnRoaXMuRE0sbj1vO248dGhpcy50OysrbilyW25dPWUodGhpc1tuXSxpKTtyLnQ9dGhpcy50fWVsc2V7Zm9yKGk9dGhpcy5zJnRoaXMuRE0sbj1vO248dC50OysrbilyW25dPWUoaSx0W25dKTtyLnQ9dC50fXIucz1lKHRoaXMucyx0LnMpLHIuY2xhbXAoKX0sRS5wcm90b3R5cGUuY2hhbmdlQml0PWZ1bmN0aW9uIE10KHQsZSl7dmFyIHI9RS5PTkUuc2hpZnRMZWZ0KHQpO3JldHVybiB0aGlzLmJpdHdpc2VUbyhyLGUscikscn0sRS5wcm90b3R5cGUuYWRkVG89ZnVuY3Rpb24gS3QodCxlKXtmb3IodmFyIHI9MCxuPTAsaT1NYXRoLm1pbih0LnQsdGhpcy50KTtyPGk7KW4rPXRoaXNbcl0rdFtyXSxlW3IrK109biZ0aGlzLkRNLG4+Pj10aGlzLkRCO2lmKHQudDx0aGlzLnQpe2ZvcihuKz10LnM7cjx0aGlzLnQ7KW4rPXRoaXNbcl0sZVtyKytdPW4mdGhpcy5ETSxuPj49dGhpcy5EQjtuKz10aGlzLnN9ZWxzZXtmb3Iobis9dGhpcy5zO3I8dC50OyluKz10W3JdLGVbcisrXT1uJnRoaXMuRE0sbj4+PXRoaXMuREI7bis9dC5zfWUucz1uPDA/LTE6MCxuPjA/ZVtyKytdPW46bjwtMSYmKGVbcisrXT10aGlzLkRWK24pLGUudD1yLGUuY2xhbXAoKX0sRS5wcm90b3R5cGUuZE11bHRpcGx5PWZ1bmN0aW9uIFZ0KHQpe3RoaXNbdGhpcy50XT10aGlzLmFtKDAsdC0xLHRoaXMsMCwwLHRoaXMudCksKyt0aGlzLnQsdGhpcy5jbGFtcCgpfSxFLnByb3RvdHlwZS5kQWRkT2Zmc2V0PWZ1bmN0aW9uIHF0KHQsZSl7aWYoMCE9dCl7Zm9yKDt0aGlzLnQ8PWU7KXRoaXNbdGhpcy50KytdPTA7Zm9yKHRoaXNbZV0rPXQ7dGhpc1tlXT49dGhpcy5EVjspdGhpc1tlXS09dGhpcy5EViwrK2U+PXRoaXMudCYmKHRoaXNbdGhpcy50KytdPTApLCsrdGhpc1tlXX19LEUucHJvdG90eXBlLm11bHRpcGx5TG93ZXJUbz1mdW5jdGlvbiBKdCh0LGUscil7dmFyIG4saT1NYXRoLm1pbih0aGlzLnQrdC50LGUpO2ZvcihyLnM9MCxyLnQ9aTtpPjA7KXJbLS1pXT0wO2ZvcihuPXIudC10aGlzLnQ7aTxuOysraSlyW2krdGhpcy50XT10aGlzLmFtKDAsdFtpXSxyLGksMCx0aGlzLnQpO2ZvcihuPU1hdGgubWluKHQudCxlKTtpPG47KytpKXRoaXMuYW0oMCx0W2ldLHIsaSwwLGUtaSk7ci5jbGFtcCgpfSxFLnByb3RvdHlwZS5tdWx0aXBseVVwcGVyVG89ZnVuY3Rpb24gV3QodCxlLHIpey0tZTt2YXIgbj1yLnQ9dGhpcy50K3QudC1lO2ZvcihyLnM9MDstLW4+PTA7KXJbbl09MDtmb3Iobj1NYXRoLm1heChlLXRoaXMudCwwKTtuPHQudDsrK24pclt0aGlzLnQrbi1lXT10aGlzLmFtKGUtbix0W25dLHIsMCwwLHRoaXMudCtuLWUpO3IuY2xhbXAoKSxyLmRyU2hpZnRUbygxLHIpfSxFLnByb3RvdHlwZS5tb2RJbnQ9ZnVuY3Rpb24genQodCl7aWYodDw9MClyZXR1cm4gMDt2YXIgZT10aGlzLkRWJXQscj10aGlzLnM8MD90LTE6MDtpZih0aGlzLnQ+MClpZigwPT1lKXI9dGhpc1swXSV0O2Vsc2UgZm9yKHZhciBuPXRoaXMudC0xO24+PTA7LS1uKXI9KGUqcit0aGlzW25dKSV0O3JldHVybiByfSxFLnByb3RvdHlwZS5taWxsZXJSYWJpbj1mdW5jdGlvbiBZdCh0KXt2YXIgZT10aGlzLnN1YnRyYWN0KEUuT05FKSxyPWUuZ2V0TG93ZXN0U2V0Qml0KCk7aWYocjw9MClyZXR1cm4hMTt2YXIgbj1lLnNoaWZ0UmlnaHQocik7KHQ9dCsxPj4xKT5EdC5sZW5ndGgmJih0PUR0Lmxlbmd0aCk7Zm9yKHZhciBpPXgoKSxvPTA7bzx0Oysrbyl7aS5mcm9tSW50KER0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpEdC5sZW5ndGgpXSk7dmFyIHM9aS5tb2RQb3cobix0aGlzKTtpZigwIT1zLmNvbXBhcmVUbyhFLk9ORSkmJjAhPXMuY29tcGFyZVRvKGUpKXtmb3IodmFyIGE9MTthKys8ciYmMCE9cy5jb21wYXJlVG8oZSk7KWlmKDA9PShzPXMubW9kUG93SW50KDIsdGhpcykpLmNvbXBhcmVUbyhFLk9ORSkpcmV0dXJuITE7aWYoMCE9cy5jb21wYXJlVG8oZSkpcmV0dXJuITF9fXJldHVybiEwfSxFLnByb3RvdHlwZS5jbG9uZT1cbi8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuL1xuICovXG5mdW5jdGlvbiBHdCgpe3ZhciB0PXgoKTtyZXR1cm4gdGhpcy5jb3B5VG8odCksdH0sRS5wcm90b3R5cGUuaW50VmFsdWU9ZnVuY3Rpb24gWHQoKXtpZih0aGlzLnM8MCl7aWYoMT09dGhpcy50KXJldHVybiB0aGlzWzBdLXRoaXMuRFY7aWYoMD09dGhpcy50KXJldHVybi0xfWVsc2V7aWYoMT09dGhpcy50KXJldHVybiB0aGlzWzBdO2lmKDA9PXRoaXMudClyZXR1cm4gMH1yZXR1cm4odGhpc1sxXSYoMTw8MzItdGhpcy5EQiktMSk8PHRoaXMuREJ8dGhpc1swXX0sRS5wcm90b3R5cGUuYnl0ZVZhbHVlPWZ1bmN0aW9uIFF0KCl7cmV0dXJuIDA9PXRoaXMudD90aGlzLnM6dGhpc1swXTw8MjQ+PjI0fSxFLnByb3RvdHlwZS5zaG9ydFZhbHVlPWZ1bmN0aW9uICR0KCl7cmV0dXJuIDA9PXRoaXMudD90aGlzLnM6dGhpc1swXTw8MTY+PjE2fSxFLnByb3RvdHlwZS5zaWdudW09ZnVuY3Rpb24gWnQoKXtyZXR1cm4gdGhpcy5zPDA/LTE6dGhpcy50PD0wfHwxPT10aGlzLnQmJnRoaXNbMF08PTA/MDoxfSxFLnByb3RvdHlwZS50b0J5dGVBcnJheT1mdW5jdGlvbiB0ZSgpe3ZhciB0PXRoaXMudCxlPW5ldyBBcnJheTtlWzBdPXRoaXMuczt2YXIgcixuPXRoaXMuREItdCp0aGlzLkRCJTgsaT0wO2lmKHQtLSA+MClmb3Iobjx0aGlzLkRCJiYocj10aGlzW3RdPj5uKSE9KHRoaXMucyZ0aGlzLkRNKT4+biYmKGVbaSsrXT1yfHRoaXMuczw8dGhpcy5EQi1uKTt0Pj0wOyluPDg/KHI9KHRoaXNbdF0mKDE8PG4pLTEpPDw4LW4scnw9dGhpc1stLXRdPj4obis9dGhpcy5EQi04KSk6KHI9dGhpc1t0XT4+KG4tPTgpJjI1NSxuPD0wJiYobis9dGhpcy5EQiwtLXQpKSwwIT0oMTI4JnIpJiYocnw9LTI1NiksMD09aSYmKDEyOCZ0aGlzLnMpIT0oMTI4JnIpJiYrK2ksKGk+MHx8ciE9dGhpcy5zKSYmKGVbaSsrXT1yKTtyZXR1cm4gZX0sRS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uIGVlKHQpe3JldHVybiAwPT10aGlzLmNvbXBhcmVUbyh0KX0sRS5wcm90b3R5cGUubWluPWZ1bmN0aW9uIHJlKHQpe3JldHVybiB0aGlzLmNvbXBhcmVUbyh0KTwwP3RoaXM6dH0sRS5wcm90b3R5cGUubWF4PWZ1bmN0aW9uIG5lKHQpe3JldHVybiB0aGlzLmNvbXBhcmVUbyh0KT4wP3RoaXM6dH0sRS5wcm90b3R5cGUuYW5kPWZ1bmN0aW9uIGllKHQpe3ZhciBlPXgoKTtyZXR1cm4gdGhpcy5iaXR3aXNlVG8odCxqLGUpLGV9LEUucHJvdG90eXBlLm9yPWZ1bmN0aW9uIG9lKHQpe3ZhciBlPXgoKTtyZXR1cm4gdGhpcy5iaXR3aXNlVG8odCxILGUpLGV9LEUucHJvdG90eXBlLnhvcj1mdW5jdGlvbiBzZSh0KXt2YXIgZT14KCk7cmV0dXJuIHRoaXMuYml0d2lzZVRvKHQsTSxlKSxlfSxFLnByb3RvdHlwZS5hbmROb3Q9ZnVuY3Rpb24gYWUodCl7dmFyIGU9eCgpO3JldHVybiB0aGlzLmJpdHdpc2VUbyh0LEssZSksZX0sRS5wcm90b3R5cGUubm90PWZ1bmN0aW9uIHVlKCl7Zm9yKHZhciB0PXgoKSxlPTA7ZTx0aGlzLnQ7KytlKXRbZV09dGhpcy5ETSZ+dGhpc1tlXTtyZXR1cm4gdC50PXRoaXMudCx0LnM9fnRoaXMucyx0fSxFLnByb3RvdHlwZS5zaGlmdExlZnQ9ZnVuY3Rpb24gY2UodCl7dmFyIGU9eCgpO3JldHVybiB0PDA/dGhpcy5yU2hpZnRUbygtdCxlKTp0aGlzLmxTaGlmdFRvKHQsZSksZX0sRS5wcm90b3R5cGUuc2hpZnRSaWdodD1mdW5jdGlvbiBoZSh0KXt2YXIgZT14KCk7cmV0dXJuIHQ8MD90aGlzLmxTaGlmdFRvKC10LGUpOnRoaXMuclNoaWZ0VG8odCxlKSxlfSxFLnByb3RvdHlwZS5nZXRMb3dlc3RTZXRCaXQ9ZnVuY3Rpb24gbGUoKXtmb3IodmFyIHQ9MDt0PHRoaXMudDsrK3QpaWYoMCE9dGhpc1t0XSlyZXR1cm4gdCp0aGlzLkRCK1YodGhpc1t0XSk7cmV0dXJuIHRoaXMuczwwP3RoaXMudCp0aGlzLkRCOi0xfSxFLnByb3RvdHlwZS5iaXRDb3VudD1mdW5jdGlvbiBmZSgpe2Zvcih2YXIgdD0wLGU9dGhpcy5zJnRoaXMuRE0scj0wO3I8dGhpcy50Oysrcil0Kz1xKHRoaXNbcl1eZSk7cmV0dXJuIHR9LEUucHJvdG90eXBlLnRlc3RCaXQ9ZnVuY3Rpb24gZGUodCl7dmFyIGU9TWF0aC5mbG9vcih0L3RoaXMuREIpO3JldHVybiBlPj10aGlzLnQ/MCE9dGhpcy5zOjAhPSh0aGlzW2VdJjE8PHQldGhpcy5EQil9LEUucHJvdG90eXBlLnNldEJpdD1mdW5jdGlvbiBnZSh0KXtyZXR1cm4gdGhpcy5jaGFuZ2VCaXQodCxIKX0sRS5wcm90b3R5cGUuY2xlYXJCaXQ9ZnVuY3Rpb24gcGUodCl7cmV0dXJuIHRoaXMuY2hhbmdlQml0KHQsSyl9LEUucHJvdG90eXBlLmZsaXBCaXQ9ZnVuY3Rpb24gdmUodCl7cmV0dXJuIHRoaXMuY2hhbmdlQml0KHQsTSl9LEUucHJvdG90eXBlLmFkZD1mdW5jdGlvbiB5ZSh0KXt2YXIgZT14KCk7cmV0dXJuIHRoaXMuYWRkVG8odCxlKSxlfSxFLnByb3RvdHlwZS5zdWJ0cmFjdD1mdW5jdGlvbiBtZSh0KXt2YXIgZT14KCk7cmV0dXJuIHRoaXMuc3ViVG8odCxlKSxlfSxFLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbiBfZSh0KXt2YXIgZT14KCk7cmV0dXJuIHRoaXMubXVsdGlwbHlUbyh0LGUpLGV9LEUucHJvdG90eXBlLmRpdmlkZT1mdW5jdGlvbiBTZSh0KXt2YXIgZT14KCk7cmV0dXJuIHRoaXMuZGl2UmVtVG8odCxlLG51bGwpLGV9LEUucHJvdG90eXBlLnJlbWFpbmRlcj1mdW5jdGlvbiBGZSh0KXt2YXIgZT14KCk7cmV0dXJuIHRoaXMuZGl2UmVtVG8odCxudWxsLGUpLGV9LEUucHJvdG90eXBlLmRpdmlkZUFuZFJlbWFpbmRlcj1mdW5jdGlvbiBiZSh0KXt2YXIgZT14KCkscj14KCk7cmV0dXJuIHRoaXMuZGl2UmVtVG8odCxlLHIpLG5ldyBBcnJheShlLHIpfSxFLnByb3RvdHlwZS5tb2RQb3c9ZnVuY3Rpb24gd2UodCxlKXt2YXIgcixuLGk9dC5iaXRMZW5ndGgoKSxvPUwoMSk7aWYoaTw9MClyZXR1cm4gbztyPWk8MTg/MTppPDQ4PzM6aTwxNDQ/NDppPDc2OD81OjYsbj1pPDg/bmV3IE4oZSk6ZS5pc0V2ZW4oKT9uZXcgeihlKTpuZXcgTyhlKTt2YXIgcz1uZXcgQXJyYXksYT0zLHU9ci0xLGM9KDE8PHIpLTE7aWYoc1sxXT1uLmNvbnZlcnQodGhpcykscj4xKXt2YXIgaD14KCk7Zm9yKG4uc3FyVG8oc1sxXSxoKTthPD1jOylzW2FdPXgoKSxuLm11bFRvKGgsc1thLTJdLHNbYV0pLGErPTJ9dmFyIGwsZixkPXQudC0xLGc9ITAscD14KCk7Zm9yKGk9Qih0W2RdKS0xO2Q+PTA7KXtmb3IoaT49dT9sPXRbZF0+PmktdSZjOihsPSh0W2RdJigxPDxpKzEpLTEpPDx1LWksZD4wJiYobHw9dFtkLTFdPj50aGlzLkRCK2ktdSkpLGE9cjswPT0oMSZsKTspbD4+PTEsLS1hO2lmKChpLT1hKTwwJiYoaSs9dGhpcy5EQiwtLWQpLGcpc1tsXS5jb3B5VG8obyksZz0hMTtlbHNle2Zvcig7YT4xOyluLnNxclRvKG8scCksbi5zcXJUbyhwLG8pLGEtPTI7YT4wP24uc3FyVG8obyxwKTooZj1vLG89cCxwPWYpLG4ubXVsVG8ocCxzW2xdLG8pfWZvcig7ZD49MCYmMD09KHRbZF0mMTw8aSk7KW4uc3FyVG8obyxwKSxmPW8sbz1wLHA9ZiwtLWk8MCYmKGk9dGhpcy5EQi0xLC0tZCl9cmV0dXJuIG4ucmV2ZXJ0KG8pfSxFLnByb3RvdHlwZS5tb2RJbnZlcnNlPWZ1bmN0aW9uIEVlKHQpe3ZhciBlPXQuaXNFdmVuKCk7aWYodGhpcy5pc0V2ZW4oKSYmZXx8MD09dC5zaWdudW0oKSlyZXR1cm4gRS5aRVJPO2Zvcih2YXIgcj10LmNsb25lKCksbj10aGlzLmNsb25lKCksaT1MKDEpLG89TCgwKSxzPUwoMCksYT1MKDEpOzAhPXIuc2lnbnVtKCk7KXtmb3IoO3IuaXNFdmVuKCk7KXIuclNoaWZ0VG8oMSxyKSxlPyhpLmlzRXZlbigpJiZvLmlzRXZlbigpfHwoaS5hZGRUbyh0aGlzLGkpLG8uc3ViVG8odCxvKSksaS5yU2hpZnRUbygxLGkpKTpvLmlzRXZlbigpfHxvLnN1YlRvKHQsbyksby5yU2hpZnRUbygxLG8pO2Zvcig7bi5pc0V2ZW4oKTspbi5yU2hpZnRUbygxLG4pLGU/KHMuaXNFdmVuKCkmJmEuaXNFdmVuKCl8fChzLmFkZFRvKHRoaXMscyksYS5zdWJUbyh0LGEpKSxzLnJTaGlmdFRvKDEscykpOmEuaXNFdmVuKCl8fGEuc3ViVG8odCxhKSxhLnJTaGlmdFRvKDEsYSk7ci5jb21wYXJlVG8obik+PTA/KHIuc3ViVG8obixyKSxlJiZpLnN1YlRvKHMsaSksby5zdWJUbyhhLG8pKToobi5zdWJUbyhyLG4pLGUmJnMuc3ViVG8oaSxzKSxhLnN1YlRvKG8sYSkpfXJldHVybiAwIT1uLmNvbXBhcmVUbyhFLk9ORSk/RS5aRVJPOmEuY29tcGFyZVRvKHQpPj0wP2Euc3VidHJhY3QodCk6YS5zaWdudW0oKTwwPyhhLmFkZFRvKHQsYSksYS5zaWdudW0oKTwwP2EuYWRkKHQpOmEpOmF9LEUucHJvdG90eXBlLnBvdz1mdW5jdGlvbiB4ZSh0KXtyZXR1cm4gdGhpcy5leHAodCxuZXcgSil9LEUucHJvdG90eXBlLmdjZD1mdW5jdGlvbiBrZSh0KXt2YXIgZT10aGlzLnM8MD90aGlzLm5lZ2F0ZSgpOnRoaXMuY2xvbmUoKSxyPXQuczwwP3QubmVnYXRlKCk6dC5jbG9uZSgpO2lmKGUuY29tcGFyZVRvKHIpPDApe3ZhciBuPWU7ZT1yLHI9bn12YXIgaT1lLmdldExvd2VzdFNldEJpdCgpLG89ci5nZXRMb3dlc3RTZXRCaXQoKTtpZihvPDApcmV0dXJuIGU7Zm9yKGk8byYmKG89aSksbz4wJiYoZS5yU2hpZnRUbyhvLGUpLHIuclNoaWZ0VG8obyxyKSk7ZS5zaWdudW0oKT4wOykoaT1lLmdldExvd2VzdFNldEJpdCgpKT4wJiZlLnJTaGlmdFRvKGksZSksKGk9ci5nZXRMb3dlc3RTZXRCaXQoKSk+MCYmci5yU2hpZnRUbyhpLHIpLGUuY29tcGFyZVRvKHIpPj0wPyhlLnN1YlRvKHIsZSksZS5yU2hpZnRUbygxLGUpKTooci5zdWJUbyhlLHIpLHIuclNoaWZ0VG8oMSxyKSk7cmV0dXJuIG8+MCYmci5sU2hpZnRUbyhvLHIpLHJ9LEUucHJvdG90eXBlLmlzUHJvYmFibGVQcmltZT1mdW5jdGlvbiBBZSh0KXt2YXIgZSxyPXRoaXMuYWJzKCk7aWYoMT09ci50JiZyWzBdPD1EdFtEdC5sZW5ndGgtMV0pe2ZvcihlPTA7ZTxEdC5sZW5ndGg7KytlKWlmKHJbMF09PUR0W2VdKXJldHVybiEwO3JldHVybiExfWlmKHIuaXNFdmVuKCkpcmV0dXJuITE7Zm9yKGU9MTtlPER0Lmxlbmd0aDspe2Zvcih2YXIgbj1EdFtlXSxpPWUrMTtpPER0Lmxlbmd0aCYmbjxVdDspbio9RHRbaSsrXTtmb3Iobj1yLm1vZEludChuKTtlPGk7KWlmKG4lRHRbZSsrXT09MClyZXR1cm4hMX1yZXR1cm4gci5taWxsZXJSYWJpbih0KX0sRS5wcm90b3R5cGUuc3F1YXJlPWZ1bmN0aW9uIFBlKCl7dmFyIHQ9eCgpO3JldHVybiB0aGlzLnNxdWFyZVRvKHQpLHR9LEx0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uIENlKHQpe3ZhciBlLHIsbjtmb3IoZT0wO2U8MjU2OysrZSl0aGlzLlNbZV09ZTtmb3Iocj0wLGU9MDtlPDI1NjsrK2Upcj1yK3RoaXMuU1tlXSt0W2UldC5sZW5ndGhdJjI1NSxuPXRoaXMuU1tlXSx0aGlzLlNbZV09dGhpcy5TW3JdLHRoaXMuU1tyXT1uO3RoaXMuaT0wLHRoaXMuaj0wfSxMdC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbiBUZSgpe3ZhciB0O3JldHVybiB0aGlzLmk9dGhpcy5pKzEmMjU1LHRoaXMuaj10aGlzLmordGhpcy5TW3RoaXMuaV0mMjU1LHQ9dGhpcy5TW3RoaXMuaV0sdGhpcy5TW3RoaXMuaV09dGhpcy5TW3RoaXMual0sdGhpcy5TW3RoaXMual09dCx0aGlzLlNbdCt0aGlzLlNbdGhpcy5pXSYyNTVdfTt2YXIgUmUsSWUsRGUsVWU9MjU2O1xuLyohIChjKSBUb20gV3UgfCBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vXG4gKi9mdW5jdGlvbiBMZSgpeyFmdW5jdGlvbiB0KGUpe0llW0RlKytdXj0yNTUmZSxJZVtEZSsrXV49ZT4+OCYyNTUsSWVbRGUrK11ePWU+PjE2JjI1NSxJZVtEZSsrXV49ZT4+MjQmMjU1LERlPj1VZSYmKERlLT1VZSl9KChuZXcgRGF0ZSkuZ2V0VGltZSgpKX1pZihudWxsPT1JZSl7dmFyIEJlO2lmKEllPW5ldyBBcnJheSxEZT0wLHZvaWQgMCE9PWkmJih2b2lkIDAhPT1pLmNyeXB0b3x8dm9pZCAwIT09aS5tc0NyeXB0bykpe3ZhciBOZT1pLmNyeXB0b3x8aS5tc0NyeXB0bztpZihOZS5nZXRSYW5kb21WYWx1ZXMpe3ZhciBPZT1uZXcgVWludDhBcnJheSgzMik7Zm9yKE5lLmdldFJhbmRvbVZhbHVlcyhPZSksQmU9MDtCZTwzMjsrK0JlKUllW0RlKytdPU9lW0JlXX1lbHNlIGlmKFwiTmV0c2NhcGVcIj09bi5hcHBOYW1lJiZuLmFwcFZlcnNpb248XCI1XCIpe3ZhciBqZT1pLmNyeXB0by5yYW5kb20oMzIpO2ZvcihCZT0wO0JlPGplLmxlbmd0aDsrK0JlKUllW0RlKytdPTI1NSZqZS5jaGFyQ29kZUF0KEJlKX19Zm9yKDtEZTxVZTspQmU9TWF0aC5mbG9vcig2NTUzNipNYXRoLnJhbmRvbSgpKSxJZVtEZSsrXT1CZT4+PjgsSWVbRGUrK109MjU1JkJlO0RlPTAsTGUoKX1mdW5jdGlvbiBIZSgpe2lmKG51bGw9PVJlKXtmb3IoTGUoKSwoUmU9ZnVuY3Rpb24gdCgpe3JldHVybiBuZXcgTHR9KCkpLmluaXQoSWUpLERlPTA7RGU8SWUubGVuZ3RoOysrRGUpSWVbRGVdPTA7RGU9MH1yZXR1cm4gUmUubmV4dCgpfWZ1bmN0aW9uIE1lKCl7fVxuLyohIChjKSBUb20gV3UgfCBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vXG4gKi9cbmZ1bmN0aW9uIEtlKHQsZSl7cmV0dXJuIG5ldyBFKHQsZSl9ZnVuY3Rpb24gVmUodCxlLHIpe2Zvcih2YXIgbj1cIlwiLGk9MDtuLmxlbmd0aDxlOyluKz1yKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHQuY29uY2F0KFsoNDI3ODE5MDA4MCZpKT4+MjQsKDE2NzExNjgwJmkpPj4xNiwoNjUyODAmaSk+PjgsMjU1JmldKSkpLGkrPTE7cmV0dXJuIG59ZnVuY3Rpb24gcWUoKXt0aGlzLm49bnVsbCx0aGlzLmU9MCx0aGlzLmQ9bnVsbCx0aGlzLnA9bnVsbCx0aGlzLnE9bnVsbCx0aGlzLmRtcDE9bnVsbCx0aGlzLmRtcTE9bnVsbCx0aGlzLmNvZWZmPW51bGx9XG4vKiEgKGMpIFRvbSBXdSB8IGh0dHA6Ly93d3ctY3Mtc3R1ZGVudHMuc3RhbmZvcmQuZWR1L350ancvanNibi9cbiAqL1xuZnVuY3Rpb24gSmUodCxlKXt0aGlzLng9ZSx0aGlzLnE9dH1mdW5jdGlvbiBXZSh0LGUscixuKXt0aGlzLmN1cnZlPXQsdGhpcy54PWUsdGhpcy55PXIsdGhpcy56PW51bGw9PW4/RS5PTkU6bix0aGlzLnppbnY9bnVsbH1mdW5jdGlvbiB6ZSh0LGUscil7dGhpcy5xPXQsdGhpcy5hPXRoaXMuZnJvbUJpZ0ludGVnZXIoZSksdGhpcy5iPXRoaXMuZnJvbUJpZ0ludGVnZXIociksdGhpcy5pbmZpbml0eT1uZXcgV2UodGhpcyxudWxsLG51bGwpfU1lLnByb3RvdHlwZS5uZXh0Qnl0ZXM9ZnVuY3Rpb24gWWUodCl7dmFyIGU7Zm9yKGU9MDtlPHQubGVuZ3RoOysrZSl0W2VdPUhlKCl9LHFlLnByb3RvdHlwZS5kb1B1YmxpYz1mdW5jdGlvbiBHZSh0KXtyZXR1cm4gdC5tb2RQb3dJbnQodGhpcy5lLHRoaXMubil9LHFlLnByb3RvdHlwZS5zZXRQdWJsaWM9ZnVuY3Rpb24gWGUodCxlKXtpZih0aGlzLmlzUHVibGljPSEwLHRoaXMuaXNQcml2YXRlPSExLFwic3RyaW5nXCIhPXR5cGVvZiB0KXRoaXMubj10LHRoaXMuZT1lO2Vsc2V7aWYoIShudWxsIT10JiZudWxsIT1lJiZ0Lmxlbmd0aD4wJiZlLmxlbmd0aD4wKSl0aHJvd1wiSW52YWxpZCBSU0EgcHVibGljIGtleVwiO3RoaXMubj1LZSh0LDE2KSx0aGlzLmU9cGFyc2VJbnQoZSwxNil9fSxxZS5wcm90b3R5cGUuZW5jcnlwdD1mdW5jdGlvbiBRZSh0KXt2YXIgZT1mdW5jdGlvbiByKHQsZSl7aWYoZTx0Lmxlbmd0aCsxMSl0aHJvd1wiTWVzc2FnZSB0b28gbG9uZyBmb3IgUlNBXCI7Zm9yKHZhciByPW5ldyBBcnJheSxuPXQubGVuZ3RoLTE7bj49MCYmZT4wOyl7dmFyIGk9dC5jaGFyQ29kZUF0KG4tLSk7aTwxMjg/clstLWVdPWk6aT4xMjcmJmk8MjA0OD8oclstLWVdPTYzJml8MTI4LHJbLS1lXT1pPj42fDE5Mik6KHJbLS1lXT02MyZpfDEyOCxyWy0tZV09aT4+NiY2M3wxMjgsclstLWVdPWk+PjEyfDIyNCl9clstLWVdPTA7Zm9yKHZhciBvPW5ldyBNZSxzPW5ldyBBcnJheTtlPjI7KXtmb3Ioc1swXT0wOzA9PXNbMF07KW8ubmV4dEJ5dGVzKHMpO3JbLS1lXT1zWzBdfXJldHVybiByWy0tZV09MixyWy0tZV09MCxuZXcgRShyKX0odCx0aGlzLm4uYml0TGVuZ3RoKCkrNz4+Myk7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDt2YXIgbj10aGlzLmRvUHVibGljKGUpO2lmKG51bGw9PW4pcmV0dXJuIG51bGw7dmFyIGk9bi50b1N0cmluZygxNik7cmV0dXJuIDA9PSgxJmkubGVuZ3RoKT9pOlwiMFwiK2l9LHFlLnByb3RvdHlwZS5lbmNyeXB0T0FFUD1mdW5jdGlvbiAkZSh0LGUscil7dmFyIG49ZnVuY3Rpb24gaSh0LGUscixuKXt2YXIgaT1Fci5jcnlwdG8uTWVzc2FnZURpZ2VzdCxvPUVyLmNyeXB0by5VdGlsLHM9bnVsbDtpZihyfHwocj1cInNoYTFcIiksXCJzdHJpbmdcIj09dHlwZW9mIHImJihzPWkuZ2V0Q2Fub25pY2FsQWxnTmFtZShyKSxuPWkuZ2V0SGFzaExlbmd0aChzKSxyPWZ1bmN0aW9uIHQoZSl7cmV0dXJuIE9yKG8uaGFzaEhleChqcihlKSxzKSl9KSx0Lmxlbmd0aCsyKm4rMj5lKXRocm93XCJNZXNzYWdlIHRvbyBsb25nIGZvciBSU0FcIjt2YXIgYSx1PVwiXCI7Zm9yKGE9MDthPGUtdC5sZW5ndGgtMipuLTI7YSs9MSl1Kz1cIlxcMFwiO3ZhciBjPXIoXCJcIikrdStcIlx1MDAwMVwiK3QsaD1uZXcgQXJyYXkobik7KG5ldyBNZSkubmV4dEJ5dGVzKGgpO3ZhciBsPVZlKGgsYy5sZW5ndGgsciksZj1bXTtmb3IoYT0wO2E8Yy5sZW5ndGg7YSs9MSlmW2FdPWMuY2hhckNvZGVBdChhKV5sLmNoYXJDb2RlQXQoYSk7dmFyIGQ9VmUoZixoLmxlbmd0aCxyKSxnPVswXTtmb3IoYT0wO2E8aC5sZW5ndGg7YSs9MSlnW2ErMV09aFthXV5kLmNoYXJDb2RlQXQoYSk7cmV0dXJuIG5ldyBFKGcuY29uY2F0KGYpKX0odCx0aGlzLm4uYml0TGVuZ3RoKCkrNz4+MyxlLHIpO2lmKG51bGw9PW4pcmV0dXJuIG51bGw7dmFyIG89dGhpcy5kb1B1YmxpYyhuKTtpZihudWxsPT1vKXJldHVybiBudWxsO3ZhciBzPW8udG9TdHJpbmcoMTYpO3JldHVybiAwPT0oMSZzLmxlbmd0aCk/czpcIjBcIitzfSxxZS5wcm90b3R5cGUudHlwZT1cIlJTQVwiLEplLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24gWmUodCl7cmV0dXJuIHQ9PXRoaXN8fHRoaXMucS5lcXVhbHModC5xKSYmdGhpcy54LmVxdWFscyh0LngpfSxKZS5wcm90b3R5cGUudG9CaWdJbnRlZ2VyPWZ1bmN0aW9uIHRyKCl7cmV0dXJuIHRoaXMueH0sSmUucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbiBlcigpe3JldHVybiBuZXcgSmUodGhpcy5xLHRoaXMueC5uZWdhdGUoKS5tb2QodGhpcy5xKSl9LEplLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24gcnIodCl7cmV0dXJuIG5ldyBKZSh0aGlzLnEsdGhpcy54LmFkZCh0LnRvQmlnSW50ZWdlcigpKS5tb2QodGhpcy5xKSl9LEplLnByb3RvdHlwZS5zdWJ0cmFjdD1mdW5jdGlvbiBucih0KXtyZXR1cm4gbmV3IEplKHRoaXMucSx0aGlzLnguc3VidHJhY3QodC50b0JpZ0ludGVnZXIoKSkubW9kKHRoaXMucSkpfSxKZS5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24gaXIodCl7cmV0dXJuIG5ldyBKZSh0aGlzLnEsdGhpcy54Lm11bHRpcGx5KHQudG9CaWdJbnRlZ2VyKCkpLm1vZCh0aGlzLnEpKX0sSmUucHJvdG90eXBlLnNxdWFyZT1mdW5jdGlvbiBvcigpe3JldHVybiBuZXcgSmUodGhpcy5xLHRoaXMueC5zcXVhcmUoKS5tb2QodGhpcy5xKSl9LEplLnByb3RvdHlwZS5kaXZpZGU9ZnVuY3Rpb24gc3IodCl7cmV0dXJuIG5ldyBKZSh0aGlzLnEsdGhpcy54Lm11bHRpcGx5KHQudG9CaWdJbnRlZ2VyKCkubW9kSW52ZXJzZSh0aGlzLnEpKS5tb2QodGhpcy5xKSl9LFdlLnByb3RvdHlwZS5nZXRYPWZ1bmN0aW9uIGFyKCl7cmV0dXJuIG51bGw9PXRoaXMuemludiYmKHRoaXMuemludj10aGlzLnoubW9kSW52ZXJzZSh0aGlzLmN1cnZlLnEpKSx0aGlzLmN1cnZlLmZyb21CaWdJbnRlZ2VyKHRoaXMueC50b0JpZ0ludGVnZXIoKS5tdWx0aXBseSh0aGlzLnppbnYpLm1vZCh0aGlzLmN1cnZlLnEpKX0sV2UucHJvdG90eXBlLmdldFk9ZnVuY3Rpb24gdXIoKXtyZXR1cm4gbnVsbD09dGhpcy56aW52JiYodGhpcy56aW52PXRoaXMuei5tb2RJbnZlcnNlKHRoaXMuY3VydmUucSkpLHRoaXMuY3VydmUuZnJvbUJpZ0ludGVnZXIodGhpcy55LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KHRoaXMuemludikubW9kKHRoaXMuY3VydmUucSkpfSxXZS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uIGNyKHQpe3JldHVybiB0PT10aGlzfHwodGhpcy5pc0luZmluaXR5KCk/dC5pc0luZmluaXR5KCk6dC5pc0luZmluaXR5KCk/dGhpcy5pc0luZmluaXR5KCk6ISF0LnkudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkodGhpcy56KS5zdWJ0cmFjdCh0aGlzLnkudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkodC56KSkubW9kKHRoaXMuY3VydmUucSkuZXF1YWxzKEUuWkVSTykmJnQueC50b0JpZ0ludGVnZXIoKS5tdWx0aXBseSh0aGlzLnopLnN1YnRyYWN0KHRoaXMueC50b0JpZ0ludGVnZXIoKS5tdWx0aXBseSh0LnopKS5tb2QodGhpcy5jdXJ2ZS5xKS5lcXVhbHMoRS5aRVJPKSl9LFdlLnByb3RvdHlwZS5pc0luZmluaXR5PWZ1bmN0aW9uIGhyKCl7cmV0dXJuIG51bGw9PXRoaXMueCYmbnVsbD09dGhpcy55fHx0aGlzLnouZXF1YWxzKEUuWkVSTykmJiF0aGlzLnkudG9CaWdJbnRlZ2VyKCkuZXF1YWxzKEUuWkVSTyl9LFdlLnByb3RvdHlwZS5uZWdhdGU9ZnVuY3Rpb24gbHIoKXtyZXR1cm4gbmV3IFdlKHRoaXMuY3VydmUsdGhpcy54LHRoaXMueS5uZWdhdGUoKSx0aGlzLnopfSxXZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uIGZyKHQpe2lmKHRoaXMuaXNJbmZpbml0eSgpKXJldHVybiB0O2lmKHQuaXNJbmZpbml0eSgpKXJldHVybiB0aGlzO3ZhciBlPXQueS50b0JpZ0ludGVnZXIoKS5tdWx0aXBseSh0aGlzLnopLnN1YnRyYWN0KHRoaXMueS50b0JpZ0ludGVnZXIoKS5tdWx0aXBseSh0LnopKS5tb2QodGhpcy5jdXJ2ZS5xKSxyPXQueC50b0JpZ0ludGVnZXIoKS5tdWx0aXBseSh0aGlzLnopLnN1YnRyYWN0KHRoaXMueC50b0JpZ0ludGVnZXIoKS5tdWx0aXBseSh0LnopKS5tb2QodGhpcy5jdXJ2ZS5xKTtpZihFLlpFUk8uZXF1YWxzKHIpKXJldHVybiBFLlpFUk8uZXF1YWxzKGUpP3RoaXMudHdpY2UoKTp0aGlzLmN1cnZlLmdldEluZmluaXR5KCk7dmFyIG49bmV3IEUoXCIzXCIpLGk9dGhpcy54LnRvQmlnSW50ZWdlcigpLG89dGhpcy55LnRvQmlnSW50ZWdlcigpLHM9KHQueC50b0JpZ0ludGVnZXIoKSx0LnkudG9CaWdJbnRlZ2VyKCksci5zcXVhcmUoKSksYT1zLm11bHRpcGx5KHIpLHU9aS5tdWx0aXBseShzKSxjPWUuc3F1YXJlKCkubXVsdGlwbHkodGhpcy56KSxoPWMuc3VidHJhY3QodS5zaGlmdExlZnQoMSkpLm11bHRpcGx5KHQueikuc3VidHJhY3QoYSkubXVsdGlwbHkocikubW9kKHRoaXMuY3VydmUucSksbD11Lm11bHRpcGx5KG4pLm11bHRpcGx5KGUpLnN1YnRyYWN0KG8ubXVsdGlwbHkoYSkpLnN1YnRyYWN0KGMubXVsdGlwbHkoZSkpLm11bHRpcGx5KHQueikuYWRkKGUubXVsdGlwbHkoYSkpLm1vZCh0aGlzLmN1cnZlLnEpLGY9YS5tdWx0aXBseSh0aGlzLnopLm11bHRpcGx5KHQueikubW9kKHRoaXMuY3VydmUucSk7cmV0dXJuIG5ldyBXZSh0aGlzLmN1cnZlLHRoaXMuY3VydmUuZnJvbUJpZ0ludGVnZXIoaCksdGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcihsKSxmKX0sV2UucHJvdG90eXBlLnR3aWNlPWZ1bmN0aW9uIGRyKCl7aWYodGhpcy5pc0luZmluaXR5KCkpcmV0dXJuIHRoaXM7aWYoMD09dGhpcy55LnRvQmlnSW50ZWdlcigpLnNpZ251bSgpKXJldHVybiB0aGlzLmN1cnZlLmdldEluZmluaXR5KCk7dmFyIHQ9bmV3IEUoXCIzXCIpLGU9dGhpcy54LnRvQmlnSW50ZWdlcigpLHI9dGhpcy55LnRvQmlnSW50ZWdlcigpLG49ci5tdWx0aXBseSh0aGlzLnopLGk9bi5tdWx0aXBseShyKS5tb2QodGhpcy5jdXJ2ZS5xKSxvPXRoaXMuY3VydmUuYS50b0JpZ0ludGVnZXIoKSxzPWUuc3F1YXJlKCkubXVsdGlwbHkodCk7RS5aRVJPLmVxdWFscyhvKXx8KHM9cy5hZGQodGhpcy56LnNxdWFyZSgpLm11bHRpcGx5KG8pKSk7dmFyIGE9KHM9cy5tb2QodGhpcy5jdXJ2ZS5xKSkuc3F1YXJlKCkuc3VidHJhY3QoZS5zaGlmdExlZnQoMykubXVsdGlwbHkoaSkpLnNoaWZ0TGVmdCgxKS5tdWx0aXBseShuKS5tb2QodGhpcy5jdXJ2ZS5xKSx1PXMubXVsdGlwbHkodCkubXVsdGlwbHkoZSkuc3VidHJhY3QoaS5zaGlmdExlZnQoMSkpLnNoaWZ0TGVmdCgyKS5tdWx0aXBseShpKS5zdWJ0cmFjdChzLnNxdWFyZSgpLm11bHRpcGx5KHMpKS5tb2QodGhpcy5jdXJ2ZS5xKSxjPW4uc3F1YXJlKCkubXVsdGlwbHkobikuc2hpZnRMZWZ0KDMpLm1vZCh0aGlzLmN1cnZlLnEpO3JldHVybiBuZXcgV2UodGhpcy5jdXJ2ZSx0aGlzLmN1cnZlLmZyb21CaWdJbnRlZ2VyKGEpLHRoaXMuY3VydmUuZnJvbUJpZ0ludGVnZXIodSksYyl9LFdlLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbiBncih0KXtpZih0aGlzLmlzSW5maW5pdHkoKSlyZXR1cm4gdGhpcztpZigwPT10LnNpZ251bSgpKXJldHVybiB0aGlzLmN1cnZlLmdldEluZmluaXR5KCk7dmFyIGUscj10LG49ci5tdWx0aXBseShuZXcgRShcIjNcIikpLGk9dGhpcy5uZWdhdGUoKSxvPXRoaXM7Zm9yKGU9bi5iaXRMZW5ndGgoKS0yO2U+MDstLWUpe289by50d2ljZSgpO3ZhciBzPW4udGVzdEJpdChlKTtzIT1yLnRlc3RCaXQoZSkmJihvPW8uYWRkKHM/dGhpczppKSl9cmV0dXJuIG99LFdlLnByb3RvdHlwZS5tdWx0aXBseVR3bz1mdW5jdGlvbiBwcih0LGUscil7dmFyIG47bj10LmJpdExlbmd0aCgpPnIuYml0TGVuZ3RoKCk/dC5iaXRMZW5ndGgoKS0xOnIuYml0TGVuZ3RoKCktMTtmb3IodmFyIGk9dGhpcy5jdXJ2ZS5nZXRJbmZpbml0eSgpLG89dGhpcy5hZGQoZSk7bj49MDspaT1pLnR3aWNlKCksdC50ZXN0Qml0KG4pP2k9ci50ZXN0Qml0KG4pP2kuYWRkKG8pOmkuYWRkKHRoaXMpOnIudGVzdEJpdChuKSYmKGk9aS5hZGQoZSkpLC0tbjtyZXR1cm4gaX0semUucHJvdG90eXBlLmdldFE9ZnVuY3Rpb24gdnIoKXtyZXR1cm4gdGhpcy5xfSx6ZS5wcm90b3R5cGUuZ2V0QT1mdW5jdGlvbiB5cigpe3JldHVybiB0aGlzLmF9LHplLnByb3RvdHlwZS5nZXRCPWZ1bmN0aW9uIG1yKCl7cmV0dXJuIHRoaXMuYn0semUucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbiBfcih0KXtyZXR1cm4gdD09dGhpc3x8dGhpcy5xLmVxdWFscyh0LnEpJiZ0aGlzLmEuZXF1YWxzKHQuYSkmJnRoaXMuYi5lcXVhbHModC5iKX0semUucHJvdG90eXBlLmdldEluZmluaXR5PWZ1bmN0aW9uIFNyKCl7cmV0dXJuIHRoaXMuaW5maW5pdHl9LHplLnByb3RvdHlwZS5mcm9tQmlnSW50ZWdlcj1mdW5jdGlvbiBGcih0KXtyZXR1cm4gbmV3IEplKHRoaXMucSx0KX0semUucHJvdG90eXBlLmRlY29kZVBvaW50SGV4PWZ1bmN0aW9uIGJyKHQpe3N3aXRjaChwYXJzZUludCh0LnN1YnN0cigwLDIpLDE2KSl7Y2FzZSAwOnJldHVybiB0aGlzLmluZmluaXR5O2Nhc2UgMjpjYXNlIDM6cmV0dXJuIG51bGw7Y2FzZSA0OmNhc2UgNjpjYXNlIDc6dmFyIGU9KHQubGVuZ3RoLTIpLzIscj10LnN1YnN0cigyLGUpLG49dC5zdWJzdHIoZSsyLGUpO3JldHVybiBuZXcgV2UodGhpcyx0aGlzLmZyb21CaWdJbnRlZ2VyKG5ldyBFKHIsMTYpKSx0aGlzLmZyb21CaWdJbnRlZ2VyKG5ldyBFKG4sMTYpKSk7ZGVmYXVsdDpyZXR1cm4gbnVsbH19LFxuLyohIChjKSBTdGVmYW4gVGhvbWFzIHwgaHR0cHM6Ly9naXRodWIuY29tL2JpdGNvaW5qcy9iaXRjb2luanMtbGliXG4gKi9cbkplLnByb3RvdHlwZS5nZXRCeXRlTGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMudG9CaWdJbnRlZ2VyKCkuYml0TGVuZ3RoKCkrNykvOCl9LFdlLnByb3RvdHlwZS5nZXRFbmNvZGVkPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uIHQoZSxyKXt2YXIgbj1lLnRvQnl0ZUFycmF5VW5zaWduZWQoKTtpZihyPG4ubGVuZ3RoKW49bi5zbGljZShuLmxlbmd0aC1yKTtlbHNlIGZvcig7cj5uLmxlbmd0aDspbi51bnNoaWZ0KDApO3JldHVybiBufSxyPXRoaXMuZ2V0WCgpLnRvQmlnSW50ZWdlcigpLG49dGhpcy5nZXRZKCkudG9CaWdJbnRlZ2VyKCksaT1lKHIsMzIpO3JldHVybiB0P24uaXNFdmVuKCk/aS51bnNoaWZ0KDIpOmkudW5zaGlmdCgzKTooaS51bnNoaWZ0KDQpLGk9aS5jb25jYXQoZShuLDMyKSkpLGl9LFdlLmRlY29kZUZyb209ZnVuY3Rpb24odCxlKXtlWzBdO3ZhciByPWUubGVuZ3RoLTEsbj1lLnNsaWNlKDEsMStyLzIpLGk9ZS5zbGljZSgxK3IvMiwxK3IpO24udW5zaGlmdCgwKSxpLnVuc2hpZnQoMCk7dmFyIG89bmV3IEUobikscz1uZXcgRShpKTtyZXR1cm4gbmV3IFdlKHQsdC5mcm9tQmlnSW50ZWdlcihvKSx0LmZyb21CaWdJbnRlZ2VyKHMpKX0sV2UuZGVjb2RlRnJvbUhleD1mdW5jdGlvbih0LGUpe2Uuc3Vic3RyKDAsMik7dmFyIHI9ZS5sZW5ndGgtMixuPWUuc3Vic3RyKDIsci8yKSxpPWUuc3Vic3RyKDIrci8yLHIvMiksbz1uZXcgRShuLDE2KSxzPW5ldyBFKGksMTYpO3JldHVybiBuZXcgV2UodCx0LmZyb21CaWdJbnRlZ2VyKG8pLHQuZnJvbUJpZ0ludGVnZXIocykpfSxXZS5wcm90b3R5cGUuYWRkMkQ9ZnVuY3Rpb24odCl7aWYodGhpcy5pc0luZmluaXR5KCkpcmV0dXJuIHQ7aWYodC5pc0luZmluaXR5KCkpcmV0dXJuIHRoaXM7aWYodGhpcy54LmVxdWFscyh0LngpKXJldHVybiB0aGlzLnkuZXF1YWxzKHQueSk/dGhpcy50d2ljZSgpOnRoaXMuY3VydmUuZ2V0SW5maW5pdHkoKTt2YXIgZT10Lnguc3VidHJhY3QodGhpcy54KSxyPXQueS5zdWJ0cmFjdCh0aGlzLnkpLmRpdmlkZShlKSxuPXIuc3F1YXJlKCkuc3VidHJhY3QodGhpcy54KS5zdWJ0cmFjdCh0LngpLGk9ci5tdWx0aXBseSh0aGlzLnguc3VidHJhY3QobikpLnN1YnRyYWN0KHRoaXMueSk7cmV0dXJuIG5ldyBXZSh0aGlzLmN1cnZlLG4saSl9LFdlLnByb3RvdHlwZS50d2ljZTJEPWZ1bmN0aW9uKCl7aWYodGhpcy5pc0luZmluaXR5KCkpcmV0dXJuIHRoaXM7aWYoMD09dGhpcy55LnRvQmlnSW50ZWdlcigpLnNpZ251bSgpKXJldHVybiB0aGlzLmN1cnZlLmdldEluZmluaXR5KCk7dmFyIHQ9dGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcihFLnZhbHVlT2YoMikpLGU9dGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcihFLnZhbHVlT2YoMykpLHI9dGhpcy54LnNxdWFyZSgpLm11bHRpcGx5KGUpLmFkZCh0aGlzLmN1cnZlLmEpLmRpdmlkZSh0aGlzLnkubXVsdGlwbHkodCkpLG49ci5zcXVhcmUoKS5zdWJ0cmFjdCh0aGlzLngubXVsdGlwbHkodCkpLGk9ci5tdWx0aXBseSh0aGlzLnguc3VidHJhY3QobikpLnN1YnRyYWN0KHRoaXMueSk7cmV0dXJuIG5ldyBXZSh0aGlzLmN1cnZlLG4saSl9LFdlLnByb3RvdHlwZS5tdWx0aXBseTJEPWZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNJbmZpbml0eSgpKXJldHVybiB0aGlzO2lmKDA9PXQuc2lnbnVtKCkpcmV0dXJuIHRoaXMuY3VydmUuZ2V0SW5maW5pdHkoKTt2YXIgZSxyPXQsbj1yLm11bHRpcGx5KG5ldyBFKFwiM1wiKSksaT10aGlzLm5lZ2F0ZSgpLG89dGhpcztmb3IoZT1uLmJpdExlbmd0aCgpLTI7ZT4wOy0tZSl7bz1vLnR3aWNlKCk7dmFyIHM9bi50ZXN0Qml0KGUpO3MhPXIudGVzdEJpdChlKSYmKG89by5hZGQyRChzP3RoaXM6aSkpfXJldHVybiBvfSxXZS5wcm90b3R5cGUuaXNPbkN1cnZlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRYKCkudG9CaWdJbnRlZ2VyKCksZT10aGlzLmdldFkoKS50b0JpZ0ludGVnZXIoKSxyPXRoaXMuY3VydmUuZ2V0QSgpLnRvQmlnSW50ZWdlcigpLG49dGhpcy5jdXJ2ZS5nZXRCKCkudG9CaWdJbnRlZ2VyKCksaT10aGlzLmN1cnZlLmdldFEoKSxvPWUubXVsdGlwbHkoZSkubW9kKGkpLHM9dC5tdWx0aXBseSh0KS5tdWx0aXBseSh0KS5hZGQoci5tdWx0aXBseSh0KSkuYWRkKG4pLm1vZChpKTtyZXR1cm4gby5lcXVhbHMocyl9LFdlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiKFwiK3RoaXMuZ2V0WCgpLnRvQmlnSW50ZWdlcigpLnRvU3RyaW5nKCkrXCIsXCIrdGhpcy5nZXRZKCkudG9CaWdJbnRlZ2VyKCkudG9TdHJpbmcoKStcIilcIn0sV2UucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jdXJ2ZS5nZXRRKCk7aWYodGhpcy5pc0luZmluaXR5KCkpdGhyb3cgbmV3IEVycm9yKFwiUG9pbnQgaXMgYXQgaW5maW5pdHkuXCIpO3ZhciBlPXRoaXMuZ2V0WCgpLnRvQmlnSW50ZWdlcigpLHI9dGhpcy5nZXRZKCkudG9CaWdJbnRlZ2VyKCk7aWYoZS5jb21wYXJlVG8oRS5PTkUpPDB8fGUuY29tcGFyZVRvKHQuc3VidHJhY3QoRS5PTkUpKT4wKXRocm93IG5ldyBFcnJvcihcInggY29vcmRpbmF0ZSBvdXQgb2YgYm91bmRzXCIpO2lmKHIuY29tcGFyZVRvKEUuT05FKTwwfHxyLmNvbXBhcmVUbyh0LnN1YnRyYWN0KEUuT05FKSk+MCl0aHJvdyBuZXcgRXJyb3IoXCJ5IGNvb3JkaW5hdGUgb3V0IG9mIGJvdW5kc1wiKTtpZighdGhpcy5pc09uQ3VydmUoKSl0aHJvdyBuZXcgRXJyb3IoXCJQb2ludCBpcyBub3Qgb24gdGhlIGN1cnZlLlwiKTtpZih0aGlzLm11bHRpcGx5KHQpLmlzSW5maW5pdHkoKSl0aHJvdyBuZXcgRXJyb3IoXCJQb2ludCBpcyBub3QgYSBzY2FsYXIgbXVsdGlwbGUgb2YgRy5cIik7cmV0dXJuITB9O1xuLyohIE1pa2UgU2FtdWVsIChjKSAyMDA5IHwgY29kZS5nb29nbGUuY29tL3AvanNvbi1zYW5zLWV2YWxcbiAqL1xudmFyIHdyPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IFJlZ0V4cCgnKD86ZmFsc2V8dHJ1ZXxudWxsfFtcXFxce1xcXFx9XFxcXFtcXFxcXV18KD86LT9cXFxcYig/OjB8WzEtOV1bMC05XSopKD86XFxcXC5bMC05XSspPyg/OltlRV1bKy1dP1swLTldKyk/XFxcXGIpfCg/OlwiKD86W15cXFxcMC1cXFxceDA4XFxcXHgwYS1cXFxceDFmXCJcXFxcXFxcXF18XFxcXFxcXFwoPzpbXCIvXFxcXFxcXFxiZm5ydF18dVswLTlBLUZhLWZdezR9KSkqXCIpKScsXCJnXCIpLGU9bmV3IFJlZ0V4cChcIlxcXFxcXFxcKD86KFtedV0pfHUoLns0fSkpXCIsXCJnXCIpLG49eydcIic6J1wiJyxcIi9cIjpcIi9cIixcIlxcXFxcIjpcIlxcXFxcIixiOlwiXFxiXCIsZjpcIlxcZlwiLG46XCJcXG5cIixyOlwiXFxyXCIsdDpcIlxcdFwifTtmdW5jdGlvbiBpKHQsZSxyKXtyZXR1cm4gZT9uW2VdOlN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQociwxNikpfXZhciBvPW5ldyBTdHJpbmcoXCJcIikscz0oT2JqZWN0LEFycmF5LE9iamVjdC5oYXNPd25Qcm9wZXJ0eSk7cmV0dXJuIGZ1bmN0aW9uKG4sYSl7dmFyIHUsYyxoPW4ubWF0Y2godCksbD1oWzBdLGY9ITE7XCJ7XCI9PT1sP3U9e306XCJbXCI9PT1sP3U9W106KHU9W10sZj0hMCk7Zm9yKHZhciBkPVt1XSxnPTEtZixwPWgubGVuZ3RoO2c8cDsrK2cpe3ZhciB2O3N3aXRjaCgobD1oW2ddKS5jaGFyQ29kZUF0KDApKXtkZWZhdWx0Oih2PWRbMF0pW2N8fHYubGVuZ3RoXT0rbCxjPXZvaWQgMDticmVhaztjYXNlIDM0OmlmKC0xIT09KGw9bC5zdWJzdHJpbmcoMSxsLmxlbmd0aC0xKSkuaW5kZXhPZihcIlxcXFxcIikmJihsPWwucmVwbGFjZShlLGkpKSx2PWRbMF0sIWMpe2lmKCEodiBpbnN0YW5jZW9mIEFycmF5KSl7Yz1sfHxvO2JyZWFrfWM9di5sZW5ndGh9dltjXT1sLGM9dm9pZCAwO2JyZWFrO2Nhc2UgOTE6dj1kWzBdLGQudW5zaGlmdCh2W2N8fHYubGVuZ3RoXT1bXSksYz12b2lkIDA7YnJlYWs7Y2FzZSA5MzpkLnNoaWZ0KCk7YnJlYWs7Y2FzZSAxMDI6KHY9ZFswXSlbY3x8di5sZW5ndGhdPSExLGM9dm9pZCAwO2JyZWFrO2Nhc2UgMTEwOih2PWRbMF0pW2N8fHYubGVuZ3RoXT1udWxsLGM9dm9pZCAwO2JyZWFrO2Nhc2UgMTE2Oih2PWRbMF0pW2N8fHYubGVuZ3RoXT0hMCxjPXZvaWQgMDticmVhaztjYXNlIDEyMzp2PWRbMF0sZC51bnNoaWZ0KHZbY3x8di5sZW5ndGhdPXt9KSxjPXZvaWQgMDticmVhaztjYXNlIDEyNTpkLnNoaWZ0KCl9fWlmKGYpe2lmKDEhPT1kLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3I7dT11WzBdfWVsc2UgaWYoZC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yO2lmKGEpe3U9ZnVuY3Rpb24gdChlLG4pe3ZhciBpPWVbbl07aWYoaSYmXCJvYmplY3RcIj09PSh2b2lkIDA9PT1pP1widW5kZWZpbmVkXCI6cihpKSkpe3ZhciBvPW51bGw7Zm9yKHZhciB1IGluIGkpaWYocy5jYWxsKGksdSkmJmkhPT1lKXt2YXIgYz10KGksdSk7dm9pZCAwIT09Yz9pW3VdPWM6KG98fChvPVtdKSxvLnB1c2godSkpfWlmKG8pZm9yKHZhciBoPW8ubGVuZ3RoOy0taD49MDspZGVsZXRlIGlbb1toXV19cmV0dXJuIGEuY2FsbChlLG4saSl9KHtcIlwiOnV9LFwiXCIpfXJldHVybiB1fX0oKTt2b2lkIDAhPT1FciYmRXJ8fChlLktKVVI9RXI9e30pLHZvaWQgMCE9PUVyLmFzbjEmJkVyLmFzbjF8fChFci5hc24xPXt9KSxFci5hc24xLkFTTjFVdGlsPW5ldyBmdW5jdGlvbigpe3RoaXMuaW50ZWdlclRvQnl0ZUhleD1mdW5jdGlvbih0KXt2YXIgZT10LnRvU3RyaW5nKDE2KTtyZXR1cm4gZS5sZW5ndGglMj09MSYmKGU9XCIwXCIrZSksZX0sdGhpcy5iaWdJbnRUb01pblR3b3NDb21wbGVtZW50c0hleD1mdW5jdGlvbih0KXt2YXIgZT10LnRvU3RyaW5nKDE2KTtpZihcIi1cIiE9ZS5zdWJzdHIoMCwxKSllLmxlbmd0aCUyPT0xP2U9XCIwXCIrZTplLm1hdGNoKC9eWzAtN10vKXx8KGU9XCIwMFwiK2UpO2Vsc2V7dmFyIHI9ZS5zdWJzdHIoMSkubGVuZ3RoO3IlMj09MT9yKz0xOmUubWF0Y2goL15bMC03XS8pfHwocis9Mik7Zm9yKHZhciBuPVwiXCIsaT0wO2k8cjtpKyspbis9XCJmXCI7ZT1uZXcgRShuLDE2KS54b3IodCkuYWRkKEUuT05FKS50b1N0cmluZygxNikucmVwbGFjZSgvXi0vLFwiXCIpfXJldHVybiBlfSx0aGlzLmdldFBFTVN0cmluZ0Zyb21IZXg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gVnIodCxlKX0sdGhpcy5uZXdPYmplY3Q9ZnVuY3Rpb24odCl7dmFyIGU9RXIuYXNuMSxyPWUuREVSQm9vbGVhbixuPWUuREVSSW50ZWdlcixpPWUuREVSQml0U3RyaW5nLG89ZS5ERVJPY3RldFN0cmluZyxzPWUuREVSTnVsbCxhPWUuREVST2JqZWN0SWRlbnRpZmllcix1PWUuREVSRW51bWVyYXRlZCxjPWUuREVSVVRGOFN0cmluZyxoPWUuREVSTnVtZXJpY1N0cmluZyxsPWUuREVSUHJpbnRhYmxlU3RyaW5nLGY9ZS5ERVJUZWxldGV4U3RyaW5nLGQ9ZS5ERVJJQTVTdHJpbmcsZz1lLkRFUlVUQ1RpbWUscD1lLkRFUkdlbmVyYWxpemVkVGltZSx2PWUuREVSU2VxdWVuY2UseT1lLkRFUlNldCxtPWUuREVSVGFnZ2VkT2JqZWN0LF89ZS5BU04xVXRpbC5uZXdPYmplY3QsUz1PYmplY3Qua2V5cyh0KTtpZigxIT1TLmxlbmd0aCl0aHJvd1wia2V5IG9mIHBhcmFtIHNoYWxsIGJlIG9ubHkgb25lLlwiO3ZhciBGPVNbMF07aWYoLTE9PVwiOmJvb2w6aW50OmJpdHN0cjpvY3RzdHI6bnVsbDpvaWQ6ZW51bTp1dGY4c3RyOm51bXN0cjpwcm5zdHI6dGVsc3RyOmlhNXN0cjp1dGN0aW1lOmdlbnRpbWU6c2VxOnNldDp0YWc6XCIuaW5kZXhPZihcIjpcIitGK1wiOlwiKSl0aHJvd1widW5kZWZpbmVkIGtleTogXCIrRjtpZihcImJvb2xcIj09RilyZXR1cm4gbmV3IHIodFtGXSk7aWYoXCJpbnRcIj09RilyZXR1cm4gbmV3IG4odFtGXSk7aWYoXCJiaXRzdHJcIj09RilyZXR1cm4gbmV3IGkodFtGXSk7aWYoXCJvY3RzdHJcIj09RilyZXR1cm4gbmV3IG8odFtGXSk7aWYoXCJudWxsXCI9PUYpcmV0dXJuIG5ldyBzKHRbRl0pO2lmKFwib2lkXCI9PUYpcmV0dXJuIG5ldyBhKHRbRl0pO2lmKFwiZW51bVwiPT1GKXJldHVybiBuZXcgdSh0W0ZdKTtpZihcInV0ZjhzdHJcIj09RilyZXR1cm4gbmV3IGModFtGXSk7aWYoXCJudW1zdHJcIj09RilyZXR1cm4gbmV3IGgodFtGXSk7aWYoXCJwcm5zdHJcIj09RilyZXR1cm4gbmV3IGwodFtGXSk7aWYoXCJ0ZWxzdHJcIj09RilyZXR1cm4gbmV3IGYodFtGXSk7aWYoXCJpYTVzdHJcIj09RilyZXR1cm4gbmV3IGQodFtGXSk7aWYoXCJ1dGN0aW1lXCI9PUYpcmV0dXJuIG5ldyBnKHRbRl0pO2lmKFwiZ2VudGltZVwiPT1GKXJldHVybiBuZXcgcCh0W0ZdKTtpZihcInNlcVwiPT1GKXtmb3IodmFyIGI9dFtGXSx3PVtdLEU9MDtFPGIubGVuZ3RoO0UrKyl7dmFyIHg9XyhiW0VdKTt3LnB1c2goeCl9cmV0dXJuIG5ldyB2KHthcnJheTp3fSl9aWYoXCJzZXRcIj09Ril7Zm9yKGI9dFtGXSx3PVtdLEU9MDtFPGIubGVuZ3RoO0UrKyl7eD1fKGJbRV0pO3cucHVzaCh4KX1yZXR1cm4gbmV3IHkoe2FycmF5Ond9KX1pZihcInRhZ1wiPT1GKXt2YXIgaz10W0ZdO2lmKFwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChrKSYmMz09ay5sZW5ndGgpe3ZhciBBPV8oa1syXSk7cmV0dXJuIG5ldyBtKHt0YWc6a1swXSxleHBsaWNpdDprWzFdLG9iajpBfSl9dmFyIFA9e307aWYodm9pZCAwIT09ay5leHBsaWNpdCYmKFAuZXhwbGljaXQ9ay5leHBsaWNpdCksdm9pZCAwIT09ay50YWcmJihQLnRhZz1rLnRhZyksdm9pZCAwPT09ay5vYmopdGhyb3dcIm9iaiBzaGFsbCBiZSBzcGVjaWZpZWQgZm9yICd0YWcnLlwiO3JldHVybiBQLm9iaj1fKGsub2JqKSxuZXcgbShQKX19LHRoaXMuanNvblRvQVNOMUhFWD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZXdPYmplY3QodCkuZ2V0RW5jb2RlZEhleCgpfX0sRXIuYXNuMS5BU04xVXRpbC5vaWRIZXhUb0ludD1mdW5jdGlvbih0KXtmb3IodmFyIGU9XCJcIixyPXBhcnNlSW50KHQuc3Vic3RyKDAsMiksMTYpLG49KGU9TWF0aC5mbG9vcihyLzQwKStcIi5cIityJTQwLFwiXCIpLGk9MjtpPHQubGVuZ3RoO2krPTIpe3ZhciBvPShcIjAwMDAwMDAwXCIrcGFyc2VJbnQodC5zdWJzdHIoaSwyKSwxNikudG9TdHJpbmcoMikpLnNsaWNlKC04KTtpZihuKz1vLnN1YnN0cigxLDcpLFwiMFwiPT1vLnN1YnN0cigwLDEpKWU9ZStcIi5cIituZXcgRShuLDIpLnRvU3RyaW5nKDEwKSxuPVwiXCJ9cmV0dXJuIGV9LEVyLmFzbjEuQVNOMVV0aWwub2lkSW50VG9IZXg9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24gdChlKXt2YXIgcj1lLnRvU3RyaW5nKDE2KTtyZXR1cm4gMT09ci5sZW5ndGgmJihyPVwiMFwiK3IpLHJ9LHI9ZnVuY3Rpb24gdChyKXt2YXIgbj1cIlwiLGk9bmV3IEUociwxMCkudG9TdHJpbmcoMiksbz03LWkubGVuZ3RoJTc7Nz09byYmKG89MCk7Zm9yKHZhciBzPVwiXCIsYT0wO2E8bzthKyspcys9XCIwXCI7aT1zK2k7Zm9yKGE9MDthPGkubGVuZ3RoLTE7YSs9Nyl7dmFyIHU9aS5zdWJzdHIoYSw3KTthIT1pLmxlbmd0aC03JiYodT1cIjFcIit1KSxuKz1lKHBhcnNlSW50KHUsMikpfXJldHVybiBufTtpZighdC5tYXRjaCgvXlswLTkuXSskLykpdGhyb3dcIm1hbGZvcm1lZCBvaWQgc3RyaW5nOiBcIit0O3ZhciBuPVwiXCIsaT10LnNwbGl0KFwiLlwiKSxvPTQwKnBhcnNlSW50KGlbMF0pK3BhcnNlSW50KGlbMV0pO24rPWUobyksaS5zcGxpY2UoMCwyKTtmb3IodmFyIHM9MDtzPGkubGVuZ3RoO3MrKyluKz1yKGlbc10pO3JldHVybiBufSxFci5hc24xLkFTTjFPYmplY3Q9ZnVuY3Rpb24oKXt0aGlzLmdldExlbmd0aEhleEZyb21WYWx1ZT1mdW5jdGlvbigpe2lmKHZvaWQgMD09PXRoaXMuaFZ8fG51bGw9PXRoaXMuaFYpdGhyb3dcInRoaXMuaFYgaXMgbnVsbCBvciB1bmRlZmluZWQuXCI7aWYodGhpcy5oVi5sZW5ndGglMj09MSl0aHJvd1widmFsdWUgaGV4IG11c3QgYmUgZXZlbiBsZW5ndGg6IG49XCIrXCJcIi5sZW5ndGgrXCIsdj1cIit0aGlzLmhWO3ZhciB0PXRoaXMuaFYubGVuZ3RoLzIsZT10LnRvU3RyaW5nKDE2KTtpZihlLmxlbmd0aCUyPT0xJiYoZT1cIjBcIitlKSx0PDEyOClyZXR1cm4gZTt2YXIgcj1lLmxlbmd0aC8yO2lmKHI+MTUpdGhyb3dcIkFTTi4xIGxlbmd0aCB0b28gbG9uZyB0byByZXByZXNlbnQgYnkgOHg6IG4gPSBcIit0LnRvU3RyaW5nKDE2KTtyZXR1cm4oMTI4K3IpLnRvU3RyaW5nKDE2KStlfSx0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXtyZXR1cm4obnVsbD09dGhpcy5oVExWfHx0aGlzLmlzTW9kaWZpZWQpJiYodGhpcy5oVj10aGlzLmdldEZyZXNoVmFsdWVIZXgoKSx0aGlzLmhMPXRoaXMuZ2V0TGVuZ3RoSGV4RnJvbVZhbHVlKCksdGhpcy5oVExWPXRoaXMuaFQrdGhpcy5oTCt0aGlzLmhWLHRoaXMuaXNNb2RpZmllZD0hMSksdGhpcy5oVExWfSx0aGlzLmdldFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RW5jb2RlZEhleCgpLHRoaXMuaFZ9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVyblwiXCJ9fSxFci5hc24xLkRFUkFic3RyYWN0U3RyaW5nPWZ1bmN0aW9uKHQpe0VyLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMuZ2V0U3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc30sdGhpcy5zZXRTdHJpbmc9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMucz10LHRoaXMuaFY9QnIodGhpcy5zKS50b0xvd2VyQ2FzZSgpfSx0aGlzLnNldFN0cmluZ0hleD1mdW5jdGlvbih0KXt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5zPW51bGwsdGhpcy5oVj10fSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn0sdm9pZCAwIT09dCYmKFwic3RyaW5nXCI9PXR5cGVvZiB0P3RoaXMuc2V0U3RyaW5nKHQpOnZvaWQgMCE9PXQuc3RyP3RoaXMuc2V0U3RyaW5nKHQuc3RyKTp2b2lkIDAhPT10LmhleCYmdGhpcy5zZXRTdHJpbmdIZXgodC5oZXgpKX0sby5sYW5nLmV4dGVuZChFci5hc24xLkRFUkFic3RyYWN0U3RyaW5nLEVyLmFzbjEuQVNOMU9iamVjdCksRXIuYXNuMS5ERVJBYnN0cmFjdFRpbWU9ZnVuY3Rpb24odCl7RXIuYXNuMS5ERVJBYnN0cmFjdFRpbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMubG9jYWxEYXRlVG9VVEM9ZnVuY3Rpb24odCl7cmV0dXJuIHV0Yz10LmdldFRpbWUoKSs2ZTQqdC5nZXRUaW1lem9uZU9mZnNldCgpLG5ldyBEYXRlKHV0Yyl9LHRoaXMuZm9ybWF0RGF0ZT1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy56ZXJvUGFkZGluZyxpPXRoaXMubG9jYWxEYXRlVG9VVEModCksbz1TdHJpbmcoaS5nZXRGdWxsWWVhcigpKTtcInV0Y1wiPT1lJiYobz1vLnN1YnN0cigyLDIpKTt2YXIgcz1vK24oU3RyaW5nKGkuZ2V0TW9udGgoKSsxKSwyKStuKFN0cmluZyhpLmdldERhdGUoKSksMikrbihTdHJpbmcoaS5nZXRIb3VycygpKSwyKStuKFN0cmluZyhpLmdldE1pbnV0ZXMoKSksMikrbihTdHJpbmcoaS5nZXRTZWNvbmRzKCkpLDIpO2lmKCEwPT09cil7dmFyIGE9aS5nZXRNaWxsaXNlY29uZHMoKTtpZigwIT1hKXt2YXIgdT1uKFN0cmluZyhhKSwzKTtzPXMrXCIuXCIrKHU9dS5yZXBsYWNlKC9bMF0rJC8sXCJcIikpfX1yZXR1cm4gcytcIlpcIn0sdGhpcy56ZXJvUGFkZGluZz1mdW5jdGlvbih0LGUpe3JldHVybiB0Lmxlbmd0aD49ZT90Om5ldyBBcnJheShlLXQubGVuZ3RoKzEpLmpvaW4oXCIwXCIpK3R9LHRoaXMuZ2V0U3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc30sdGhpcy5zZXRTdHJpbmc9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMucz10LHRoaXMuaFY9UnIodCl9LHRoaXMuc2V0QnlEYXRlVmFsdWU9ZnVuY3Rpb24odCxlLHIsbixpLG8pe3ZhciBzPW5ldyBEYXRlKERhdGUuVVRDKHQsZS0xLHIsbixpLG8sMCkpO3RoaXMuc2V0QnlEYXRlKHMpfSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn19LG8ubGFuZy5leHRlbmQoRXIuYXNuMS5ERVJBYnN0cmFjdFRpbWUsRXIuYXNuMS5BU04xT2JqZWN0KSxFci5hc24xLkRFUkFic3RyYWN0U3RydWN0dXJlZD1mdW5jdGlvbih0KXtFci5hc24xLkRFUkFic3RyYWN0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLnNldEJ5QVNOMU9iamVjdEFycmF5PWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLmFzbjFBcnJheT10fSx0aGlzLmFwcGVuZEFTTjFPYmplY3Q9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuYXNuMUFycmF5LnB1c2godCl9LHRoaXMuYXNuMUFycmF5PW5ldyBBcnJheSx2b2lkIDAhPT10JiZ2b2lkIDAhPT10LmFycmF5JiYodGhpcy5hc24xQXJyYXk9dC5hcnJheSl9LG8ubGFuZy5leHRlbmQoRXIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQsRXIuYXNuMS5BU04xT2JqZWN0KSxFci5hc24xLkRFUkJvb2xlYW49ZnVuY3Rpb24oKXtFci5hc24xLkRFUkJvb2xlYW4uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuaFQ9XCIwMVwiLHRoaXMuaFRMVj1cIjAxMDFmZlwifSxvLmxhbmcuZXh0ZW5kKEVyLmFzbjEuREVSQm9vbGVhbixFci5hc24xLkFTTjFPYmplY3QpLEVyLmFzbjEuREVSSW50ZWdlcj1mdW5jdGlvbih0KXtFci5hc24xLkRFUkludGVnZXIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuaFQ9XCIwMlwiLHRoaXMuc2V0QnlCaWdJbnRlZ2VyPWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLmhWPUVyLmFzbjEuQVNOMVV0aWwuYmlnSW50VG9NaW5Ud29zQ29tcGxlbWVudHNIZXgodCl9LHRoaXMuc2V0QnlJbnRlZ2VyPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBFKFN0cmluZyh0KSwxMCk7dGhpcy5zZXRCeUJpZ0ludGVnZXIoZSl9LHRoaXMuc2V0VmFsdWVIZXg9ZnVuY3Rpb24odCl7dGhpcy5oVj10fSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn0sdm9pZCAwIT09dCYmKHZvaWQgMCE9PXQuYmlnaW50P3RoaXMuc2V0QnlCaWdJbnRlZ2VyKHQuYmlnaW50KTp2b2lkIDAhPT10LmludD90aGlzLnNldEJ5SW50ZWdlcih0LmludCk6XCJudW1iZXJcIj09dHlwZW9mIHQ/dGhpcy5zZXRCeUludGVnZXIodCk6dm9pZCAwIT09dC5oZXgmJnRoaXMuc2V0VmFsdWVIZXgodC5oZXgpKX0sby5sYW5nLmV4dGVuZChFci5hc24xLkRFUkludGVnZXIsRXIuYXNuMS5BU04xT2JqZWN0KSxFci5hc24xLkRFUkJpdFN0cmluZz1mdW5jdGlvbih0KXtpZih2b2lkIDAhPT10JiZ2b2lkIDAhPT10Lm9iail7dmFyIGU9RXIuYXNuMS5BU04xVXRpbC5uZXdPYmplY3QodC5vYmopO3QuaGV4PVwiMDBcIitlLmdldEVuY29kZWRIZXgoKX1Fci5hc24xLkRFUkJpdFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5oVD1cIjAzXCIsdGhpcy5zZXRIZXhWYWx1ZUluY2x1ZGluZ1VudXNlZEJpdHM9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuaFY9dH0sdGhpcy5zZXRVbnVzZWRCaXRzQW5kSGV4VmFsdWU9ZnVuY3Rpb24odCxlKXtpZih0PDB8fDc8dCl0aHJvd1widW51c2VkIGJpdHMgc2hhbGwgYmUgZnJvbSAwIHRvIDc6IHUgPSBcIit0O3ZhciByPVwiMFwiK3Q7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuaFY9citlfSx0aGlzLnNldEJ5QmluYXJ5U3RyaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPTgtKHQ9dC5yZXBsYWNlKC8wKyQvLFwiXCIpKS5sZW5ndGglODs4PT1lJiYoZT0wKTtmb3IodmFyIHI9MDtyPD1lO3IrKyl0Kz1cIjBcIjt2YXIgbj1cIlwiO2ZvcihyPTA7cjx0Lmxlbmd0aC0xO3IrPTgpe3ZhciBpPXQuc3Vic3RyKHIsOCksbz1wYXJzZUludChpLDIpLnRvU3RyaW5nKDE2KTsxPT1vLmxlbmd0aCYmKG89XCIwXCIrbyksbis9b310aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5oVj1cIjBcIitlK259LHRoaXMuc2V0QnlCb29sZWFuQXJyYXk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVwiXCIscj0wO3I8dC5sZW5ndGg7cisrKTE9PXRbcl0/ZSs9XCIxXCI6ZSs9XCIwXCI7dGhpcy5zZXRCeUJpbmFyeVN0cmluZyhlKX0sdGhpcy5uZXdGYWxzZUFycmF5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgQXJyYXkodCkscj0wO3I8dDtyKyspZVtyXT0hMTtyZXR1cm4gZX0sdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaFZ9LHZvaWQgMCE9PXQmJihcInN0cmluZ1wiPT10eXBlb2YgdCYmdC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9eWzAtOWEtZl0rJC8pP3RoaXMuc2V0SGV4VmFsdWVJbmNsdWRpbmdVbnVzZWRCaXRzKHQpOnZvaWQgMCE9PXQuaGV4P3RoaXMuc2V0SGV4VmFsdWVJbmNsdWRpbmdVbnVzZWRCaXRzKHQuaGV4KTp2b2lkIDAhPT10LmJpbj90aGlzLnNldEJ5QmluYXJ5U3RyaW5nKHQuYmluKTp2b2lkIDAhPT10LmFycmF5JiZ0aGlzLnNldEJ5Qm9vbGVhbkFycmF5KHQuYXJyYXkpKX0sby5sYW5nLmV4dGVuZChFci5hc24xLkRFUkJpdFN0cmluZyxFci5hc24xLkFTTjFPYmplY3QpLEVyLmFzbjEuREVST2N0ZXRTdHJpbmc9ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCYmdm9pZCAwIT09dC5vYmope3ZhciBlPUVyLmFzbjEuQVNOMVV0aWwubmV3T2JqZWN0KHQub2JqKTt0LmhleD1lLmdldEVuY29kZWRIZXgoKX1Fci5hc24xLkRFUk9jdGV0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuaFQ9XCIwNFwifSxvLmxhbmcuZXh0ZW5kKEVyLmFzbjEuREVST2N0ZXRTdHJpbmcsRXIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyksRXIuYXNuMS5ERVJOdWxsPWZ1bmN0aW9uKCl7RXIuYXNuMS5ERVJOdWxsLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmhUPVwiMDVcIix0aGlzLmhUTFY9XCIwNTAwXCJ9LG8ubGFuZy5leHRlbmQoRXIuYXNuMS5ERVJOdWxsLEVyLmFzbjEuQVNOMU9iamVjdCksRXIuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uIHQoZSl7dmFyIHI9ZS50b1N0cmluZygxNik7cmV0dXJuIDE9PXIubGVuZ3RoJiYocj1cIjBcIityKSxyfSxyPWZ1bmN0aW9uIHQocil7dmFyIG49XCJcIixpPW5ldyBFKHIsMTApLnRvU3RyaW5nKDIpLG89Ny1pLmxlbmd0aCU3Ozc9PW8mJihvPTApO2Zvcih2YXIgcz1cIlwiLGE9MDthPG87YSsrKXMrPVwiMFwiO2k9cytpO2ZvcihhPTA7YTxpLmxlbmd0aC0xO2ErPTcpe3ZhciB1PWkuc3Vic3RyKGEsNyk7YSE9aS5sZW5ndGgtNyYmKHU9XCIxXCIrdSksbis9ZShwYXJzZUludCh1LDIpKX1yZXR1cm4gbn07RXIuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmhUPVwiMDZcIix0aGlzLnNldFZhbHVlSGV4PWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLnM9bnVsbCx0aGlzLmhWPXR9LHRoaXMuc2V0VmFsdWVPaWRTdHJpbmc9ZnVuY3Rpb24odCl7aWYoIXQubWF0Y2goL15bMC05Ll0rJC8pKXRocm93XCJtYWxmb3JtZWQgb2lkIHN0cmluZzogXCIrdDt2YXIgbj1cIlwiLGk9dC5zcGxpdChcIi5cIiksbz00MCpwYXJzZUludChpWzBdKStwYXJzZUludChpWzFdKTtuKz1lKG8pLGkuc3BsaWNlKDAsMik7Zm9yKHZhciBzPTA7czxpLmxlbmd0aDtzKyspbis9cihpW3NdKTt0aGlzLmhUTFY9bnVsbCx0aGlzLmlzTW9kaWZpZWQ9ITAsdGhpcy5zPW51bGwsdGhpcy5oVj1ufSx0aGlzLnNldFZhbHVlTmFtZT1mdW5jdGlvbih0KXt2YXIgZT1Fci5hc24xLng1MDkuT0lELm5hbWUyb2lkKHQpO2lmKFwiXCI9PT1lKXRocm93XCJERVJPYmplY3RJZGVudGlmaWVyIG9pZE5hbWUgdW5kZWZpbmVkOiBcIit0O3RoaXMuc2V0VmFsdWVPaWRTdHJpbmcoZSl9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhWfSx2b2lkIDAhPT10JiYoXCJzdHJpbmdcIj09dHlwZW9mIHQ/dC5tYXRjaCgvXlswLTJdLlswLTkuXSskLyk/dGhpcy5zZXRWYWx1ZU9pZFN0cmluZyh0KTp0aGlzLnNldFZhbHVlTmFtZSh0KTp2b2lkIDAhPT10Lm9pZD90aGlzLnNldFZhbHVlT2lkU3RyaW5nKHQub2lkKTp2b2lkIDAhPT10LmhleD90aGlzLnNldFZhbHVlSGV4KHQuaGV4KTp2b2lkIDAhPT10Lm5hbWUmJnRoaXMuc2V0VmFsdWVOYW1lKHQubmFtZSkpfSxvLmxhbmcuZXh0ZW5kKEVyLmFzbjEuREVST2JqZWN0SWRlbnRpZmllcixFci5hc24xLkFTTjFPYmplY3QpLEVyLmFzbjEuREVSRW51bWVyYXRlZD1mdW5jdGlvbih0KXtFci5hc24xLkRFUkVudW1lcmF0ZWQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuaFQ9XCIwYVwiLHRoaXMuc2V0QnlCaWdJbnRlZ2VyPWZ1bmN0aW9uKHQpe3RoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCx0aGlzLmhWPUVyLmFzbjEuQVNOMVV0aWwuYmlnSW50VG9NaW5Ud29zQ29tcGxlbWVudHNIZXgodCl9LHRoaXMuc2V0QnlJbnRlZ2VyPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBFKFN0cmluZyh0KSwxMCk7dGhpcy5zZXRCeUJpZ0ludGVnZXIoZSl9LHRoaXMuc2V0VmFsdWVIZXg9ZnVuY3Rpb24odCl7dGhpcy5oVj10fSx0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn0sdm9pZCAwIT09dCYmKHZvaWQgMCE9PXQuaW50P3RoaXMuc2V0QnlJbnRlZ2VyKHQuaW50KTpcIm51bWJlclwiPT10eXBlb2YgdD90aGlzLnNldEJ5SW50ZWdlcih0KTp2b2lkIDAhPT10LmhleCYmdGhpcy5zZXRWYWx1ZUhleCh0LmhleCkpfSxvLmxhbmcuZXh0ZW5kKEVyLmFzbjEuREVSRW51bWVyYXRlZCxFci5hc24xLkFTTjFPYmplY3QpLEVyLmFzbjEuREVSVVRGOFN0cmluZz1mdW5jdGlvbih0KXtFci5hc24xLkRFUlVURjhTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD1cIjBjXCJ9LG8ubGFuZy5leHRlbmQoRXIuYXNuMS5ERVJVVEY4U3RyaW5nLEVyLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpLEVyLmFzbjEuREVSTnVtZXJpY1N0cmluZz1mdW5jdGlvbih0KXtFci5hc24xLkRFUk51bWVyaWNTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD1cIjEyXCJ9LG8ubGFuZy5leHRlbmQoRXIuYXNuMS5ERVJOdW1lcmljU3RyaW5nLEVyLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpLEVyLmFzbjEuREVSUHJpbnRhYmxlU3RyaW5nPWZ1bmN0aW9uKHQpe0VyLmFzbjEuREVSUHJpbnRhYmxlU3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuaFQ9XCIxM1wifSxvLmxhbmcuZXh0ZW5kKEVyLmFzbjEuREVSUHJpbnRhYmxlU3RyaW5nLEVyLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpLEVyLmFzbjEuREVSVGVsZXRleFN0cmluZz1mdW5jdGlvbih0KXtFci5hc24xLkRFUlRlbGV0ZXhTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD1cIjE0XCJ9LG8ubGFuZy5leHRlbmQoRXIuYXNuMS5ERVJUZWxldGV4U3RyaW5nLEVyLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpLEVyLmFzbjEuREVSSUE1U3RyaW5nPWZ1bmN0aW9uKHQpe0VyLmFzbjEuREVSSUE1U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuaFQ9XCIxNlwifSxvLmxhbmcuZXh0ZW5kKEVyLmFzbjEuREVSSUE1U3RyaW5nLEVyLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpLEVyLmFzbjEuREVSVVRDVGltZT1mdW5jdGlvbih0KXtFci5hc24xLkRFUlVUQ1RpbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5oVD1cIjE3XCIsdGhpcy5zZXRCeURhdGU9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuZGF0ZT10LHRoaXMucz10aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlLFwidXRjXCIpLHRoaXMuaFY9UnIodGhpcy5zKX0sdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuZGF0ZSYmdm9pZCAwPT09dGhpcy5zJiYodGhpcy5kYXRlPW5ldyBEYXRlLHRoaXMucz10aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlLFwidXRjXCIpLHRoaXMuaFY9UnIodGhpcy5zKSksdGhpcy5oVn0sdm9pZCAwIT09dCYmKHZvaWQgMCE9PXQuc3RyP3RoaXMuc2V0U3RyaW5nKHQuc3RyKTpcInN0cmluZ1wiPT10eXBlb2YgdCYmdC5tYXRjaCgvXlswLTldezEyfVokLyk/dGhpcy5zZXRTdHJpbmcodCk6dm9pZCAwIT09dC5oZXg/dGhpcy5zZXRTdHJpbmdIZXgodC5oZXgpOnZvaWQgMCE9PXQuZGF0ZSYmdGhpcy5zZXRCeURhdGUodC5kYXRlKSl9LG8ubGFuZy5leHRlbmQoRXIuYXNuMS5ERVJVVENUaW1lLEVyLmFzbjEuREVSQWJzdHJhY3RUaW1lKSxFci5hc24xLkRFUkdlbmVyYWxpemVkVGltZT1mdW5jdGlvbih0KXtFci5hc24xLkRFUkdlbmVyYWxpemVkVGltZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLmhUPVwiMThcIix0aGlzLndpdGhNaWxsaXM9ITEsdGhpcy5zZXRCeURhdGU9ZnVuY3Rpb24odCl7dGhpcy5oVExWPW51bGwsdGhpcy5pc01vZGlmaWVkPSEwLHRoaXMuZGF0ZT10LHRoaXMucz10aGlzLmZvcm1hdERhdGUodGhpcy5kYXRlLFwiZ2VuXCIsdGhpcy53aXRoTWlsbGlzKSx0aGlzLmhWPVJyKHRoaXMucyl9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLmRhdGUmJnZvaWQgMD09PXRoaXMucyYmKHRoaXMuZGF0ZT1uZXcgRGF0ZSx0aGlzLnM9dGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSxcImdlblwiLHRoaXMud2l0aE1pbGxpcyksdGhpcy5oVj1Scih0aGlzLnMpKSx0aGlzLmhWfSx2b2lkIDAhPT10JiYodm9pZCAwIT09dC5zdHI/dGhpcy5zZXRTdHJpbmcodC5zdHIpOlwic3RyaW5nXCI9PXR5cGVvZiB0JiZ0Lm1hdGNoKC9eWzAtOV17MTR9WiQvKT90aGlzLnNldFN0cmluZyh0KTp2b2lkIDAhPT10LmhleD90aGlzLnNldFN0cmluZ0hleCh0LmhleCk6dm9pZCAwIT09dC5kYXRlJiZ0aGlzLnNldEJ5RGF0ZSh0LmRhdGUpLCEwPT09dC5taWxsaXMmJih0aGlzLndpdGhNaWxsaXM9ITApKX0sby5sYW5nLmV4dGVuZChFci5hc24xLkRFUkdlbmVyYWxpemVkVGltZSxFci5hc24xLkRFUkFic3RyYWN0VGltZSksRXIuYXNuMS5ERVJTZXF1ZW5jZT1mdW5jdGlvbih0KXtFci5hc24xLkRFUlNlcXVlbmNlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuaFQ9XCIzMFwiLHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe2Zvcih2YXIgdD1cIlwiLGU9MDtlPHRoaXMuYXNuMUFycmF5Lmxlbmd0aDtlKyspe3QrPXRoaXMuYXNuMUFycmF5W2VdLmdldEVuY29kZWRIZXgoKX1yZXR1cm4gdGhpcy5oVj10LHRoaXMuaFZ9fSxvLmxhbmcuZXh0ZW5kKEVyLmFzbjEuREVSU2VxdWVuY2UsRXIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQpLEVyLmFzbjEuREVSU2V0PWZ1bmN0aW9uKHQpe0VyLmFzbjEuREVSU2V0LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMuaFQ9XCIzMVwiLHRoaXMuc29ydEZsYWc9ITAsdGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBBcnJheSxlPTA7ZTx0aGlzLmFzbjFBcnJheS5sZW5ndGg7ZSsrKXt2YXIgcj10aGlzLmFzbjFBcnJheVtlXTt0LnB1c2goci5nZXRFbmNvZGVkSGV4KCkpfXJldHVybiAxPT10aGlzLnNvcnRGbGFnJiZ0LnNvcnQoKSx0aGlzLmhWPXQuam9pbihcIlwiKSx0aGlzLmhWfSx2b2lkIDAhPT10JiZ2b2lkIDAhPT10LnNvcnRmbGFnJiYwPT10LnNvcnRmbGFnJiYodGhpcy5zb3J0RmxhZz0hMSl9LG8ubGFuZy5leHRlbmQoRXIuYXNuMS5ERVJTZXQsRXIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQpLEVyLmFzbjEuREVSVGFnZ2VkT2JqZWN0PWZ1bmN0aW9uKHQpe0VyLmFzbjEuREVSVGFnZ2VkT2JqZWN0LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmhUPVwiYTBcIix0aGlzLmhWPVwiXCIsdGhpcy5pc0V4cGxpY2l0PSEwLHRoaXMuYXNuMU9iamVjdD1udWxsLHRoaXMuc2V0QVNOMU9iamVjdD1mdW5jdGlvbih0LGUscil7dGhpcy5oVD1lLHRoaXMuaXNFeHBsaWNpdD10LHRoaXMuYXNuMU9iamVjdD1yLHRoaXMuaXNFeHBsaWNpdD8odGhpcy5oVj10aGlzLmFzbjFPYmplY3QuZ2V0RW5jb2RlZEhleCgpLHRoaXMuaFRMVj1udWxsLHRoaXMuaXNNb2RpZmllZD0hMCk6KHRoaXMuaFY9bnVsbCx0aGlzLmhUTFY9ci5nZXRFbmNvZGVkSGV4KCksdGhpcy5oVExWPXRoaXMuaFRMVi5yZXBsYWNlKC9eLi4vLGUpLHRoaXMuaXNNb2RpZmllZD0hMSl9LHRoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhWfSx2b2lkIDAhPT10JiYodm9pZCAwIT09dC50YWcmJih0aGlzLmhUPXQudGFnKSx2b2lkIDAhPT10LmV4cGxpY2l0JiYodGhpcy5pc0V4cGxpY2l0PXQuZXhwbGljaXQpLHZvaWQgMCE9PXQub2JqJiYodGhpcy5hc24xT2JqZWN0PXQub2JqLHRoaXMuc2V0QVNOMU9iamVjdCh0aGlzLmlzRXhwbGljaXQsdGhpcy5oVCx0aGlzLmFzbjFPYmplY3QpKSl9LG8ubGFuZy5leHRlbmQoRXIuYXNuMS5ERVJUYWdnZWRPYmplY3QsRXIuYXNuMS5BU04xT2JqZWN0KTt2YXIgRXIseHIsa3IsQXI9bmV3IGZ1bmN0aW9uKCl7fTtmdW5jdGlvbiBQcih0KXtmb3IodmFyIGU9bmV3IEFycmF5LHI9MDtyPHQubGVuZ3RoO3IrKyllW3JdPXQuY2hhckNvZGVBdChyKTtyZXR1cm4gZX1mdW5jdGlvbiBDcih0KXtmb3IodmFyIGU9XCJcIixyPTA7cjx0Lmxlbmd0aDtyKyspZSs9U3RyaW5nLmZyb21DaGFyQ29kZSh0W3JdKTtyZXR1cm4gZX1mdW5jdGlvbiBUcih0KXtmb3IodmFyIGU9XCJcIixyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl0udG9TdHJpbmcoMTYpOzE9PW4ubGVuZ3RoJiYobj1cIjBcIituKSxlKz1ufXJldHVybiBlfWZ1bmN0aW9uIFJyKHQpe3JldHVybiBUcihQcih0KSl9ZnVuY3Rpb24gSXIodCl7cmV0dXJuIHQ9KHQ9KHQ9dC5yZXBsYWNlKC9cXD0vZyxcIlwiKSkucmVwbGFjZSgvXFwrL2csXCItXCIpKS5yZXBsYWNlKC9cXC8vZyxcIl9cIil9ZnVuY3Rpb24gRHIodCl7cmV0dXJuIHQubGVuZ3RoJTQ9PTI/dCs9XCI9PVwiOnQubGVuZ3RoJTQ9PTMmJih0Kz1cIj1cIiksdD0odD10LnJlcGxhY2UoLy0vZyxcIitcIikpLnJlcGxhY2UoL18vZyxcIi9cIil9ZnVuY3Rpb24gVXIodCl7cmV0dXJuIHQubGVuZ3RoJTI9PTEmJih0PVwiMFwiK3QpLElyKEYodCkpfWZ1bmN0aW9uIExyKHQpe3JldHVybiBiKERyKHQpKX1mdW5jdGlvbiBCcih0KXtyZXR1cm4genIoJHIodCkpfWZ1bmN0aW9uIE5yKHQpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoWXIodCkpfWZ1bmN0aW9uIE9yKHQpe2Zvcih2YXIgZT1cIlwiLHI9MDtyPHQubGVuZ3RoLTE7cis9MillKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KHQuc3Vic3RyKHIsMiksMTYpKTtyZXR1cm4gZX1mdW5jdGlvbiBqcih0KXtmb3IodmFyIGU9XCJcIixyPTA7cjx0Lmxlbmd0aDtyKyspZSs9KFwiMFwiK3QuY2hhckNvZGVBdChyKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtyZXR1cm4gZX1mdW5jdGlvbiBIcih0KXtyZXR1cm4gRih0KX1mdW5jdGlvbiBNcih0KXt2YXIgZT1Icih0KS5yZXBsYWNlKC8oLns2NH0pL2csXCIkMVxcclxcblwiKTtyZXR1cm4gZT1lLnJlcGxhY2UoL1xcclxcbiQvLFwiXCIpfWZ1bmN0aW9uIEtyKHQpe3JldHVybiBiKHQucmVwbGFjZSgvW14wLTlBLVphLXpcXC8rPV0qL2csXCJcIikpfWZ1bmN0aW9uIFZyKHQsZSl7cmV0dXJuXCItLS0tLUJFR0lOIFwiK2UrXCItLS0tLVxcclxcblwiK01yKHQpK1wiXFxyXFxuLS0tLS1FTkQgXCIrZStcIi0tLS0tXFxyXFxuXCJ9ZnVuY3Rpb24gcXIodCxlKXtpZigtMT09dC5pbmRleE9mKFwiLS0tLS1CRUdJTiBcIikpdGhyb3dcImNhbid0IGZpbmQgUEVNIGhlYWRlcjogXCIrZTtyZXR1cm4gS3IodD12b2lkIDAhPT1lPyh0PXQucmVwbGFjZShcIi0tLS0tQkVHSU4gXCIrZStcIi0tLS0tXCIsXCJcIikpLnJlcGxhY2UoXCItLS0tLUVORCBcIitlK1wiLS0tLS1cIixcIlwiKToodD10LnJlcGxhY2UoLy0tLS0tQkVHSU4gW14tXSstLS0tLS8sXCJcIikpLnJlcGxhY2UoLy0tLS0tRU5EIFteLV0rLS0tLS0vLFwiXCIpKX1mdW5jdGlvbiBKcih0KXt2YXIgZSxyLG4saSxvLHMsYSx1LGMsaCxsO2lmKGw9dC5tYXRjaCgvXihcXGR7Mn18XFxkezR9KShcXGRcXGQpKFxcZFxcZCkoXFxkXFxkKShcXGRcXGQpKFxcZFxcZCkofFxcLlxcZCspWiQvKSlyZXR1cm4gdT1sWzFdLGU9cGFyc2VJbnQodSksMj09PXUubGVuZ3RoJiYoNTA8PWUmJmU8MTAwP2U9MTkwMCtlOjA8PWUmJmU8NTAmJihlPTJlMytlKSkscj1wYXJzZUludChsWzJdKS0xLG49cGFyc2VJbnQobFszXSksaT1wYXJzZUludChsWzRdKSxvPXBhcnNlSW50KGxbNV0pLHM9cGFyc2VJbnQobFs2XSksYT0wLFwiXCIhPT0oYz1sWzddKSYmKGg9KGMuc3Vic3RyKDEpK1wiMDBcIikuc3Vic3RyKDAsMyksYT1wYXJzZUludChoKSksRGF0ZS5VVEMoZSxyLG4saSxvLHMsYSk7dGhyb3dcInVuc3VwcG9ydGVkIHp1bHUgZm9ybWF0OiBcIit0fWZ1bmN0aW9uIFdyKHQpe3JldHVybn5+KEpyKHQpLzFlMyl9ZnVuY3Rpb24genIodCl7cmV0dXJuIHQucmVwbGFjZSgvJS9nLFwiXCIpfWZ1bmN0aW9uIFlyKHQpe3JldHVybiB0LnJlcGxhY2UoLyguLikvZyxcIiUkMVwiKX1mdW5jdGlvbiBHcih0KXt2YXIgZT1cIm1hbGZvcm1lZCBJUHY2IGFkZHJlc3NcIjtpZighdC5tYXRjaCgvXlswLTlBLUZhLWY6XSskLykpdGhyb3cgZTt2YXIgcj0odD10LnRvTG93ZXJDYXNlKCkpLnNwbGl0KFwiOlwiKS5sZW5ndGgtMTtpZihyPDIpdGhyb3cgZTt2YXIgbj1cIjpcIi5yZXBlYXQoNy1yKzIpLGk9KHQ9dC5yZXBsYWNlKFwiOjpcIixuKSkuc3BsaXQoXCI6XCIpO2lmKDghPWkubGVuZ3RoKXRocm93IGU7Zm9yKHZhciBvPTA7bzw4O28rKylpW29dPShcIjAwMDBcIitpW29dKS5zbGljZSgtNCk7cmV0dXJuIGkuam9pbihcIlwiKX1mdW5jdGlvbiBYcih0KXtpZighdC5tYXRjaCgvXlswLTlBLUZhLWZdezMyfSQvKSl0aHJvd1wibWFsZm9ybWVkIElQdjYgYWRkcmVzcyBvY3RldFwiO2Zvcih2YXIgZT0odD10LnRvTG93ZXJDYXNlKCkpLm1hdGNoKC8uezEsNH0vZykscj0wO3I8ODtyKyspZVtyXT1lW3JdLnJlcGxhY2UoL14wKy8sXCJcIiksXCJcIj09ZVtyXSYmKGVbcl09XCIwXCIpO3ZhciBuPSh0PVwiOlwiK2Uuam9pbihcIjpcIikrXCI6XCIpLm1hdGNoKC86KDA6KXsyLH0vZyk7aWYobnVsbD09PW4pcmV0dXJuIHQuc2xpY2UoMSwtMSk7dmFyIGk9XCJcIjtmb3Iocj0wO3I8bi5sZW5ndGg7cisrKW5bcl0ubGVuZ3RoPmkubGVuZ3RoJiYoaT1uW3JdKTtyZXR1cm4odD10LnJlcGxhY2UoaSxcIjo6XCIpKS5zbGljZSgxLC0xKX1mdW5jdGlvbiBRcih0KXt2YXIgZT1cIm1hbGZvcm1lZCBoZXggdmFsdWVcIjtpZighdC5tYXRjaCgvXihbMC05QS1GYS1mXVswLTlBLUZhLWZdKXsxLH0kLykpdGhyb3cgZTtpZig4IT10Lmxlbmd0aClyZXR1cm4gMzI9PXQubGVuZ3RoP1hyKHQpOnQ7dHJ5e3JldHVybiBwYXJzZUludCh0LnN1YnN0cigwLDIpLDE2KStcIi5cIitwYXJzZUludCh0LnN1YnN0cigyLDIpLDE2KStcIi5cIitwYXJzZUludCh0LnN1YnN0cig0LDIpLDE2KStcIi5cIitwYXJzZUludCh0LnN1YnN0cig2LDIpLDE2KX1jYXRjaCh0KXt0aHJvdyBlfX1mdW5jdGlvbiAkcih0KXtmb3IodmFyIGU9ZW5jb2RlVVJJQ29tcG9uZW50KHQpLHI9XCJcIixuPTA7bjxlLmxlbmd0aDtuKyspXCIlXCI9PWVbbl0/KHIrPWUuc3Vic3RyKG4sMyksbis9Mik6cj1yK1wiJVwiK1JyKGVbbl0pO3JldHVybiByfWZ1bmN0aW9uIFpyKHQpe3JldHVybiB0Lmxlbmd0aCUyPT0xP1wiMFwiK3Q6dC5zdWJzdHIoMCwxKT5cIjdcIj9cIjAwXCIrdDp0fUFyLmdldExibGVuPWZ1bmN0aW9uKHQsZSl7aWYoXCI4XCIhPXQuc3Vic3RyKGUrMiwxKSlyZXR1cm4gMTt2YXIgcj1wYXJzZUludCh0LnN1YnN0cihlKzMsMSkpO3JldHVybiAwPT1yPy0xOjA8ciYmcjwxMD9yKzE6LTJ9LEFyLmdldEw9ZnVuY3Rpb24odCxlKXt2YXIgcj1Bci5nZXRMYmxlbih0LGUpO3JldHVybiByPDE/XCJcIjp0LnN1YnN0cihlKzIsMipyKX0sQXIuZ2V0VmJsZW49ZnVuY3Rpb24odCxlKXt2YXIgcjtyZXR1cm5cIlwiPT0ocj1Bci5nZXRMKHQsZSkpPy0xOihcIjhcIj09PXIuc3Vic3RyKDAsMSk/bmV3IEUoci5zdWJzdHIoMiksMTYpOm5ldyBFKHIsMTYpKS5pbnRWYWx1ZSgpfSxBci5nZXRWaWR4PWZ1bmN0aW9uKHQsZSl7dmFyIHI9QXIuZ2V0TGJsZW4odCxlKTtyZXR1cm4gcjwwP3I6ZSsyKihyKzEpfSxBci5nZXRWPWZ1bmN0aW9uKHQsZSl7dmFyIHI9QXIuZ2V0VmlkeCh0LGUpLG49QXIuZ2V0VmJsZW4odCxlKTtyZXR1cm4gdC5zdWJzdHIociwyKm4pfSxBci5nZXRUTFY9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zdWJzdHIoZSwyKStBci5nZXRMKHQsZSkrQXIuZ2V0Vih0LGUpfSxBci5nZXROZXh0U2libGluZ0lkeD1mdW5jdGlvbih0LGUpe3JldHVybiBBci5nZXRWaWR4KHQsZSkrMipBci5nZXRWYmxlbih0LGUpfSxBci5nZXRDaGlsZElkeD1mdW5jdGlvbih0LGUpe3ZhciByPUFyLG49bmV3IEFycmF5LGk9ci5nZXRWaWR4KHQsZSk7XCIwM1wiPT10LnN1YnN0cihlLDIpP24ucHVzaChpKzIpOm4ucHVzaChpKTtmb3IodmFyIG89ci5nZXRWYmxlbih0LGUpLHM9aSxhPTA7Oyl7dmFyIHU9ci5nZXROZXh0U2libGluZ0lkeCh0LHMpO2lmKG51bGw9PXV8fHUtaT49MipvKWJyZWFrO2lmKGE+PTIwMClicmVhaztuLnB1c2godSkscz11LGErK31yZXR1cm4gbn0sQXIuZ2V0TnRoQ2hpbGRJZHg9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBBci5nZXRDaGlsZElkeCh0LGUpW3JdfSxBci5nZXRJZHhieUxpc3Q9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGksbyxzPUFyO2lmKDA9PXIubGVuZ3RoKXtpZih2b2lkIDAhPT1uJiZ0LnN1YnN0cihlLDIpIT09bil0aHJvd1wiY2hlY2tpbmcgdGFnIGRvZXNuJ3QgbWF0Y2g6IFwiK3Quc3Vic3RyKGUsMikrXCIhPVwiK247cmV0dXJuIGV9cmV0dXJuIGk9ci5zaGlmdCgpLG89cy5nZXRDaGlsZElkeCh0LGUpLHMuZ2V0SWR4YnlMaXN0KHQsb1tpXSxyLG4pfSxBci5nZXRUTFZieUxpc3Q9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9QXIsbz1pLmdldElkeGJ5TGlzdCh0LGUscik7aWYodm9pZCAwPT09byl0aHJvd1wiY2FuJ3QgZmluZCBudGhMaXN0IG9iamVjdFwiO2lmKHZvaWQgMCE9PW4mJnQuc3Vic3RyKG8sMikhPW4pdGhyb3dcImNoZWNraW5nIHRhZyBkb2Vzbid0IG1hdGNoOiBcIit0LnN1YnN0cihvLDIpK1wiIT1cIituO3JldHVybiBpLmdldFRMVih0LG8pfSxBci5nZXRWYnlMaXN0PWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIG8scyxhPUFyO2lmKHZvaWQgMD09PShvPWEuZ2V0SWR4YnlMaXN0KHQsZSxyLG4pKSl0aHJvd1wiY2FuJ3QgZmluZCBudGhMaXN0IG9iamVjdFwiO3JldHVybiBzPWEuZ2V0Vih0LG8pLCEwPT09aSYmKHM9cy5zdWJzdHIoMikpLHN9LEFyLmhleHRvb2lkc3RyPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uIHQoZSxyKXtyZXR1cm4gZS5sZW5ndGg+PXI/ZTpuZXcgQXJyYXkoci1lLmxlbmd0aCsxKS5qb2luKFwiMFwiKStlfSxyPVtdLG49dC5zdWJzdHIoMCwyKSxpPXBhcnNlSW50KG4sMTYpO3JbMF09bmV3IFN0cmluZyhNYXRoLmZsb29yKGkvNDApKSxyWzFdPW5ldyBTdHJpbmcoaSU0MCk7Zm9yKHZhciBvPXQuc3Vic3RyKDIpLHM9W10sYT0wO2E8by5sZW5ndGgvMjthKyspcy5wdXNoKHBhcnNlSW50KG8uc3Vic3RyKDIqYSwyKSwxNikpO3ZhciB1PVtdLGM9XCJcIjtmb3IoYT0wO2E8cy5sZW5ndGg7YSsrKTEyOCZzW2FdP2MrPWUoKDEyNyZzW2FdKS50b1N0cmluZygyKSw3KTooYys9ZSgoMTI3JnNbYV0pLnRvU3RyaW5nKDIpLDcpLHUucHVzaChuZXcgU3RyaW5nKHBhcnNlSW50KGMsMikpKSxjPVwiXCIpO3ZhciBoPXIuam9pbihcIi5cIik7cmV0dXJuIHUubGVuZ3RoPjAmJihoPWgrXCIuXCIrdS5qb2luKFwiLlwiKSksaH0sQXIuZHVtcD1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1BcixvPWkuZ2V0VixzPWkuZHVtcCxhPWkuZ2V0Q2hpbGRJZHgsdT10O3QgaW5zdGFuY2VvZiBFci5hc24xLkFTTjFPYmplY3QmJih1PXQuZ2V0RW5jb2RlZEhleCgpKTt2YXIgYz1mdW5jdGlvbiB0KGUscil7cmV0dXJuIGUubGVuZ3RoPD0yKnI/ZTplLnN1YnN0cigwLHIpK1wiLi4odG90YWwgXCIrZS5sZW5ndGgvMitcImJ5dGVzKS4uXCIrZS5zdWJzdHIoZS5sZW5ndGgtcixyKX07dm9pZCAwPT09ZSYmKGU9e29tbWl0X2xvbmdfb2N0ZXQ6MzJ9KSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT1uJiYobj1cIlwiKTt2YXIgaD1lLm9tbWl0X2xvbmdfb2N0ZXQ7aWYoXCIwMVwiPT11LnN1YnN0cihyLDIpKXJldHVyblwiMDBcIj09KGw9byh1LHIpKT9uK1wiQk9PTEVBTiBGQUxTRVxcblwiOm4rXCJCT09MRUFOIFRSVUVcXG5cIjtpZihcIjAyXCI9PXUuc3Vic3RyKHIsMikpcmV0dXJuIG4rXCJJTlRFR0VSIFwiK2MobD1vKHUsciksaCkrXCJcXG5cIjtpZihcIjAzXCI9PXUuc3Vic3RyKHIsMikpcmV0dXJuIG4rXCJCSVRTVFJJTkcgXCIrYyhsPW8odSxyKSxoKStcIlxcblwiO2lmKFwiMDRcIj09dS5zdWJzdHIociwyKSl7dmFyIGw9byh1LHIpO2lmKGkuaXNBU04xSEVYKGwpKXt2YXIgZj1uK1wiT0NURVRTVFJJTkcsIGVuY2Fwc3VsYXRlc1xcblwiO3JldHVybiBmKz1zKGwsZSwwLG4rXCIgIFwiKX1yZXR1cm4gbitcIk9DVEVUU1RSSU5HIFwiK2MobCxoKStcIlxcblwifWlmKFwiMDVcIj09dS5zdWJzdHIociwyKSlyZXR1cm4gbitcIk5VTExcXG5cIjtpZihcIjA2XCI9PXUuc3Vic3RyKHIsMikpe3ZhciBkPW8odSxyKSxnPUVyLmFzbjEuQVNOMVV0aWwub2lkSGV4VG9JbnQoZCkscD1Fci5hc24xLng1MDkuT0lELm9pZDJuYW1lKGcpLHY9Zy5yZXBsYWNlKC9cXC4vZyxcIiBcIik7cmV0dXJuXCJcIiE9cD9uK1wiT2JqZWN0SWRlbnRpZmllciBcIitwK1wiIChcIit2K1wiKVxcblwiOm4rXCJPYmplY3RJZGVudGlmaWVyIChcIit2K1wiKVxcblwifWlmKFwiMGNcIj09dS5zdWJzdHIociwyKSlyZXR1cm4gbitcIlVURjhTdHJpbmcgJ1wiK05yKG8odSxyKSkrXCInXFxuXCI7aWYoXCIxM1wiPT11LnN1YnN0cihyLDIpKXJldHVybiBuK1wiUHJpbnRhYmxlU3RyaW5nICdcIitOcihvKHUscikpK1wiJ1xcblwiO2lmKFwiMTRcIj09dS5zdWJzdHIociwyKSlyZXR1cm4gbitcIlRlbGV0ZXhTdHJpbmcgJ1wiK05yKG8odSxyKSkrXCInXFxuXCI7aWYoXCIxNlwiPT11LnN1YnN0cihyLDIpKXJldHVybiBuK1wiSUE1U3RyaW5nICdcIitOcihvKHUscikpK1wiJ1xcblwiO2lmKFwiMTdcIj09dS5zdWJzdHIociwyKSlyZXR1cm4gbitcIlVUQ1RpbWUgXCIrTnIobyh1LHIpKStcIlxcblwiO2lmKFwiMThcIj09dS5zdWJzdHIociwyKSlyZXR1cm4gbitcIkdlbmVyYWxpemVkVGltZSBcIitOcihvKHUscikpK1wiXFxuXCI7aWYoXCIzMFwiPT11LnN1YnN0cihyLDIpKXtpZihcIjMwMDBcIj09dS5zdWJzdHIociw0KSlyZXR1cm4gbitcIlNFUVVFTkNFIHt9XFxuXCI7Zj1uK1wiU0VRVUVOQ0VcXG5cIjt2YXIgeT1lO2lmKCgyPT0oUz1hKHUscikpLmxlbmd0aHx8Mz09Uy5sZW5ndGgpJiZcIjA2XCI9PXUuc3Vic3RyKFNbMF0sMikmJlwiMDRcIj09dS5zdWJzdHIoU1tTLmxlbmd0aC0xXSwyKSl7cD1pLm9pZG5hbWUobyh1LFNbMF0pKTt2YXIgbT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKTttLng1MDlFeHROYW1lPXAseT1tfWZvcih2YXIgXz0wO188Uy5sZW5ndGg7XysrKWYrPXModSx5LFNbX10sbitcIiAgXCIpO3JldHVybiBmfWlmKFwiMzFcIj09dS5zdWJzdHIociwyKSl7Zj1uK1wiU0VUXFxuXCI7dmFyIFM9YSh1LHIpO2ZvcihfPTA7XzxTLmxlbmd0aDtfKyspZis9cyh1LGUsU1tfXSxuK1wiICBcIik7cmV0dXJuIGZ9dmFyIEY9cGFyc2VJbnQodS5zdWJzdHIociwyKSwxNik7aWYoMCE9KDEyOCZGKSl7dmFyIGI9MzEmRjtpZigwIT0oMzImRikpe3ZhciBmPW4rXCJbXCIrYitcIl1cXG5cIjtmb3IoUz1hKHUsciksXz0wO188Uy5sZW5ndGg7XysrKWYrPXModSxlLFNbX10sbitcIiAgXCIpO3JldHVybiBmfXJldHVyblwiNjg3NDc0NzBcIj09KGw9byh1LHIpKS5zdWJzdHIoMCw4KSYmKGw9TnIobCkpLFwic3ViamVjdEFsdE5hbWVcIj09PWUueDUwOUV4dE5hbWUmJjI9PWImJihsPU5yKGwpKSxmPW4rXCJbXCIrYitcIl0gXCIrbCtcIlxcblwifXJldHVybiBuK1wiVU5LTk9XTihcIit1LnN1YnN0cihyLDIpK1wiKSBcIitvKHUscikrXCJcXG5cIn0sQXIuaXNBU04xSEVYPWZ1bmN0aW9uKHQpe3ZhciBlPUFyO2lmKHQubGVuZ3RoJTI9PTEpcmV0dXJuITE7dmFyIHI9ZS5nZXRWYmxlbih0LDApLG49dC5zdWJzdHIoMCwyKSxpPWUuZ2V0TCh0LDApO3JldHVybiB0Lmxlbmd0aC1uLmxlbmd0aC1pLmxlbmd0aD09MipyfSxBci5vaWRuYW1lPWZ1bmN0aW9uKHQpe3ZhciBlPUVyLmFzbjE7RXIubGFuZy5TdHJpbmcuaXNIZXgodCkmJih0PWUuQVNOMVV0aWwub2lkSGV4VG9JbnQodCkpO3ZhciByPWUueDUwOS5PSUQub2lkMm5hbWUodCk7cmV0dXJuXCJcIj09PXImJihyPXQpLHJ9LHZvaWQgMCE9PUVyJiZFcnx8KGUuS0pVUj1Fcj17fSksdm9pZCAwIT09RXIubGFuZyYmRXIubGFuZ3x8KEVyLmxhbmc9e30pLEVyLmxhbmcuU3RyaW5nPWZ1bmN0aW9uKCl7fSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0PyhlLnV0Zjh0b2I2NHU9eHI9ZnVuY3Rpb24gZShyKXtyZXR1cm4gSXIobmV3IHQocixcInV0ZjhcIikudG9TdHJpbmcoXCJiYXNlNjRcIikpfSxlLmI2NHV0b3V0Zjg9a3I9ZnVuY3Rpb24gZShyKXtyZXR1cm4gbmV3IHQoRHIociksXCJiYXNlNjRcIikudG9TdHJpbmcoXCJ1dGY4XCIpfSk6KGUudXRmOHRvYjY0dT14cj1mdW5jdGlvbiB0KGUpe3JldHVybiBVcih6cigkcihlKSkpfSxlLmI2NHV0b3V0Zjg9a3I9ZnVuY3Rpb24gdChlKXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KFlyKExyKGUpKSl9KSxFci5sYW5nLlN0cmluZy5pc0ludGVnZXI9ZnVuY3Rpb24odCl7cmV0dXJuISF0Lm1hdGNoKC9eWzAtOV0rJC8pfHwhIXQubWF0Y2goL14tWzAtOV0rJC8pfSxFci5sYW5nLlN0cmluZy5pc0hleD1mdW5jdGlvbih0KXtyZXR1cm4hKHQubGVuZ3RoJTIhPTB8fCF0Lm1hdGNoKC9eWzAtOWEtZl0rJC8pJiYhdC5tYXRjaCgvXlswLTlBLUZdKyQvKSl9LEVyLmxhbmcuU3RyaW5nLmlzQmFzZTY0PWZ1bmN0aW9uKHQpe3JldHVybiEoISh0PXQucmVwbGFjZSgvXFxzKy9nLFwiXCIpKS5tYXRjaCgvXlswLTlBLVphLXorXFwvXSs9ezAsM30kLyl8fHQubGVuZ3RoJTQhPTApfSxFci5sYW5nLlN0cmluZy5pc0Jhc2U2NFVSTD1mdW5jdGlvbih0KXtyZXR1cm4hdC5tYXRjaCgvWysvPV0vKSYmKHQ9RHIodCksRXIubGFuZy5TdHJpbmcuaXNCYXNlNjQodCkpfSxFci5sYW5nLlN0cmluZy5pc0ludGVnZXJBcnJheT1mdW5jdGlvbih0KXtyZXR1cm4hISh0PXQucmVwbGFjZSgvXFxzKy9nLFwiXCIpKS5tYXRjaCgvXlxcW1swLTksXStcXF0kLyl9O3ZvaWQgMCE9PUVyJiZFcnx8KGUuS0pVUj1Fcj17fSksdm9pZCAwIT09RXIuY3J5cHRvJiZFci5jcnlwdG98fChFci5jcnlwdG89e30pLEVyLmNyeXB0by5VdGlsPW5ldyBmdW5jdGlvbigpe3RoaXMuRElHRVNUSU5GT0hFQUQ9e3NoYTE6XCIzMDIxMzAwOTA2MDUyYjBlMDMwMjFhMDUwMDA0MTRcIixzaGEyMjQ6XCIzMDJkMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDQwNTAwMDQxY1wiLHNoYTI1NjpcIjMwMzEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMTA1MDAwNDIwXCIsc2hhMzg0OlwiMzA0MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAyMDUwMDA0MzBcIixzaGE1MTI6XCIzMDUxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDMwNTAwMDQ0MFwiLG1kMjpcIjMwMjAzMDBjMDYwODJhODY0ODg2ZjcwZDAyMDIwNTAwMDQxMFwiLG1kNTpcIjMwMjAzMDBjMDYwODJhODY0ODg2ZjcwZDAyMDUwNTAwMDQxMFwiLHJpcGVtZDE2MDpcIjMwMjEzMDA5MDYwNTJiMjQwMzAyMDEwNTAwMDQxNFwifSx0aGlzLkRFRkFVTFRQUk9WSURFUj17bWQ1OlwiY3J5cHRvanNcIixzaGExOlwiY3J5cHRvanNcIixzaGEyMjQ6XCJjcnlwdG9qc1wiLHNoYTI1NjpcImNyeXB0b2pzXCIsc2hhMzg0OlwiY3J5cHRvanNcIixzaGE1MTI6XCJjcnlwdG9qc1wiLHJpcGVtZDE2MDpcImNyeXB0b2pzXCIsaG1hY21kNTpcImNyeXB0b2pzXCIsaG1hY3NoYTE6XCJjcnlwdG9qc1wiLGhtYWNzaGEyMjQ6XCJjcnlwdG9qc1wiLGhtYWNzaGEyNTY6XCJjcnlwdG9qc1wiLGhtYWNzaGEzODQ6XCJjcnlwdG9qc1wiLGhtYWNzaGE1MTI6XCJjcnlwdG9qc1wiLGhtYWNyaXBlbWQxNjA6XCJjcnlwdG9qc1wiLE1ENXdpdGhSU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTF3aXRoUlNBOlwiY3J5cHRvanMvanNyc2FcIixTSEEyMjR3aXRoUlNBOlwiY3J5cHRvanMvanNyc2FcIixTSEEyNTZ3aXRoUlNBOlwiY3J5cHRvanMvanNyc2FcIixTSEEzODR3aXRoUlNBOlwiY3J5cHRvanMvanNyc2FcIixTSEE1MTJ3aXRoUlNBOlwiY3J5cHRvanMvanNyc2FcIixSSVBFTUQxNjB3aXRoUlNBOlwiY3J5cHRvanMvanNyc2FcIixNRDV3aXRoRUNEU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTF3aXRoRUNEU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTIyNHdpdGhFQ0RTQTpcImNyeXB0b2pzL2pzcnNhXCIsU0hBMjU2d2l0aEVDRFNBOlwiY3J5cHRvanMvanNyc2FcIixTSEEzODR3aXRoRUNEU0E6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTUxMndpdGhFQ0RTQTpcImNyeXB0b2pzL2pzcnNhXCIsUklQRU1EMTYwd2l0aEVDRFNBOlwiY3J5cHRvanMvanNyc2FcIixTSEExd2l0aERTQTpcImNyeXB0b2pzL2pzcnNhXCIsU0hBMjI0d2l0aERTQTpcImNyeXB0b2pzL2pzcnNhXCIsU0hBMjU2d2l0aERTQTpcImNyeXB0b2pzL2pzcnNhXCIsTUQ1d2l0aFJTQWFuZE1HRjE6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTF3aXRoUlNBYW5kTUdGMTpcImNyeXB0b2pzL2pzcnNhXCIsU0hBMjI0d2l0aFJTQWFuZE1HRjE6XCJjcnlwdG9qcy9qc3JzYVwiLFNIQTI1NndpdGhSU0FhbmRNR0YxOlwiY3J5cHRvanMvanNyc2FcIixTSEEzODR3aXRoUlNBYW5kTUdGMTpcImNyeXB0b2pzL2pzcnNhXCIsU0hBNTEyd2l0aFJTQWFuZE1HRjE6XCJjcnlwdG9qcy9qc3JzYVwiLFJJUEVNRDE2MHdpdGhSU0FhbmRNR0YxOlwiY3J5cHRvanMvanNyc2FcIn0sdGhpcy5DUllQVE9KU01FU1NBR0VESUdFU1ROQU1FPXttZDU6eS5hbGdvLk1ENSxzaGExOnkuYWxnby5TSEExLHNoYTIyNDp5LmFsZ28uU0hBMjI0LHNoYTI1Njp5LmFsZ28uU0hBMjU2LHNoYTM4NDp5LmFsZ28uU0hBMzg0LHNoYTUxMjp5LmFsZ28uU0hBNTEyLHJpcGVtZDE2MDp5LmFsZ28uUklQRU1EMTYwfSx0aGlzLmdldERpZ2VzdEluZm9IZXg9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT10aGlzLkRJR0VTVElORk9IRUFEW2VdKXRocm93XCJhbGcgbm90IHN1cHBvcnRlZCBpbiBVdGlsLkRJR0VTVElORk9IRUFEOiBcIitlO3JldHVybiB0aGlzLkRJR0VTVElORk9IRUFEW2VdK3R9LHRoaXMuZ2V0UGFkZGVkRGlnZXN0SW5mb0hleD1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy5nZXREaWdlc3RJbmZvSGV4KHQsZSksaT1yLzQ7aWYobi5sZW5ndGgrMjI+aSl0aHJvd1wia2V5IGlzIHRvbyBzaG9ydCBmb3IgU2lnQWxnOiBrZXlsZW49XCIrcitcIixcIitlO2Zvcih2YXIgbz1cIjAwMDFcIixzPVwiMDBcIituLGE9XCJcIix1PWktby5sZW5ndGgtcy5sZW5ndGgsYz0wO2M8dTtjKz0yKWErPVwiZmZcIjtyZXR1cm4gbythK3N9LHRoaXMuaGFzaFN0cmluZz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgRXIuY3J5cHRvLk1lc3NhZ2VEaWdlc3Qoe2FsZzplfSkuZGlnZXN0U3RyaW5nKHQpfSx0aGlzLmhhc2hIZXg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IEVyLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6ZX0pLmRpZ2VzdEhleCh0KX0sdGhpcy5zaGExPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRXIuY3J5cHRvLk1lc3NhZ2VEaWdlc3Qoe2FsZzpcInNoYTFcIixwcm92OlwiY3J5cHRvanNcIn0pLmRpZ2VzdFN0cmluZyh0KX0sdGhpcy5zaGEyNTY9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBFci5jcnlwdG8uTWVzc2FnZURpZ2VzdCh7YWxnOlwic2hhMjU2XCIscHJvdjpcImNyeXB0b2pzXCJ9KS5kaWdlc3RTdHJpbmcodCl9LHRoaXMuc2hhMjU2SGV4PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRXIuY3J5cHRvLk1lc3NhZ2VEaWdlc3Qoe2FsZzpcInNoYTI1NlwiLHByb3Y6XCJjcnlwdG9qc1wifSkuZGlnZXN0SGV4KHQpfSx0aGlzLnNoYTUxMj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEVyLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6XCJzaGE1MTJcIixwcm92OlwiY3J5cHRvanNcIn0pLmRpZ2VzdFN0cmluZyh0KX0sdGhpcy5zaGE1MTJIZXg9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBFci5jcnlwdG8uTWVzc2FnZURpZ2VzdCh7YWxnOlwic2hhNTEyXCIscHJvdjpcImNyeXB0b2pzXCJ9KS5kaWdlc3RIZXgodCl9fSxFci5jcnlwdG8uVXRpbC5tZDU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBFci5jcnlwdG8uTWVzc2FnZURpZ2VzdCh7YWxnOlwibWQ1XCIscHJvdjpcImNyeXB0b2pzXCJ9KS5kaWdlc3RTdHJpbmcodCl9LEVyLmNyeXB0by5VdGlsLnJpcGVtZDE2MD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEVyLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6XCJyaXBlbWQxNjBcIixwcm92OlwiY3J5cHRvanNcIn0pLmRpZ2VzdFN0cmluZyh0KX0sRXIuY3J5cHRvLlV0aWwuU0VDVVJFUkFORE9NR0VOPW5ldyBNZSxFci5jcnlwdG8uVXRpbC5nZXRSYW5kb21IZXhPZk5ieXRlcz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkodCk7cmV0dXJuIEVyLmNyeXB0by5VdGlsLlNFQ1VSRVJBTkRPTUdFTi5uZXh0Qnl0ZXMoZSksVHIoZSl9LEVyLmNyeXB0by5VdGlsLmdldFJhbmRvbUJpZ0ludGVnZXJPZk5ieXRlcz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEUoRXIuY3J5cHRvLlV0aWwuZ2V0UmFuZG9tSGV4T2ZOYnl0ZXModCksMTYpfSxFci5jcnlwdG8uVXRpbC5nZXRSYW5kb21IZXhPZk5iaXRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQlOCxyPW5ldyBBcnJheSgodC1lKS84KzEpO3JldHVybiBFci5jcnlwdG8uVXRpbC5TRUNVUkVSQU5ET01HRU4ubmV4dEJ5dGVzKHIpLHJbMF09KDI1NTw8ZSYyNTVeMjU1KSZyWzBdLFRyKHIpfSxFci5jcnlwdG8uVXRpbC5nZXRSYW5kb21CaWdJbnRlZ2VyT2ZOYml0cz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEUoRXIuY3J5cHRvLlV0aWwuZ2V0UmFuZG9tSGV4T2ZOYml0cyh0KSwxNil9LEVyLmNyeXB0by5VdGlsLmdldFJhbmRvbUJpZ0ludGVnZXJaZXJvVG9NYXg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuYml0TGVuZ3RoKCk7Oyl7dmFyIHI9RXIuY3J5cHRvLlV0aWwuZ2V0UmFuZG9tQmlnSW50ZWdlck9mTmJpdHMoZSk7aWYoLTEhPXQuY29tcGFyZVRvKHIpKXJldHVybiByfX0sRXIuY3J5cHRvLlV0aWwuZ2V0UmFuZG9tQmlnSW50ZWdlck1pblRvTWF4PWZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5jb21wYXJlVG8oZSk7aWYoMT09cil0aHJvd1wiYmlNaW4gaXMgZ3JlYXRlciB0aGFuIGJpTWF4XCI7aWYoMD09cilyZXR1cm4gdDt2YXIgbj1lLnN1YnRyYWN0KHQpO3JldHVybiBFci5jcnlwdG8uVXRpbC5nZXRSYW5kb21CaWdJbnRlZ2VyWmVyb1RvTWF4KG4pLmFkZCh0KX0sRXIuY3J5cHRvLk1lc3NhZ2VEaWdlc3Q9ZnVuY3Rpb24odCl7dGhpcy5zZXRBbGdBbmRQcm92aWRlcj1mdW5jdGlvbih0LGUpe2lmKG51bGwhPT0odD1Fci5jcnlwdG8uTWVzc2FnZURpZ2VzdC5nZXRDYW5vbmljYWxBbGdOYW1lKHQpKSYmdm9pZCAwPT09ZSYmKGU9RXIuY3J5cHRvLlV0aWwuREVGQVVMVFBST1ZJREVSW3RdKSwtMSE9XCI6bWQ1OnNoYTE6c2hhMjI0OnNoYTI1NjpzaGEzODQ6c2hhNTEyOnJpcGVtZDE2MDpcIi5pbmRleE9mKHQpJiZcImNyeXB0b2pzXCI9PWUpe3RyeXt0aGlzLm1kPUVyLmNyeXB0by5VdGlsLkNSWVBUT0pTTUVTU0FHRURJR0VTVE5BTUVbdF0uY3JlYXRlKCl9Y2F0Y2goZSl7dGhyb3dcInNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGFsZz1cIit0K1wiL1wiK2V9dGhpcy51cGRhdGVTdHJpbmc9ZnVuY3Rpb24odCl7dGhpcy5tZC51cGRhdGUodCl9LHRoaXMudXBkYXRlSGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXkuZW5jLkhleC5wYXJzZSh0KTt0aGlzLm1kLnVwZGF0ZShlKX0sdGhpcy5kaWdlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZC5maW5hbGl6ZSgpLnRvU3RyaW5nKHkuZW5jLkhleCl9LHRoaXMuZGlnZXN0U3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnVwZGF0ZVN0cmluZyh0KSx0aGlzLmRpZ2VzdCgpfSx0aGlzLmRpZ2VzdEhleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51cGRhdGVIZXgodCksdGhpcy5kaWdlc3QoKX19aWYoLTEhPVwiOnNoYTI1NjpcIi5pbmRleE9mKHQpJiZcInNqY2xcIj09ZSl7dHJ5e3RoaXMubWQ9bmV3IHNqY2wuaGFzaC5zaGEyNTZ9Y2F0Y2goZSl7dGhyb3dcInNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGFsZz1cIit0K1wiL1wiK2V9dGhpcy51cGRhdGVTdHJpbmc9ZnVuY3Rpb24odCl7dGhpcy5tZC51cGRhdGUodCl9LHRoaXMudXBkYXRlSGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXNqY2wuY29kZWMuaGV4LnRvQml0cyh0KTt0aGlzLm1kLnVwZGF0ZShlKX0sdGhpcy5kaWdlc3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1kLmZpbmFsaXplKCk7cmV0dXJuIHNqY2wuY29kZWMuaGV4LmZyb21CaXRzKHQpfSx0aGlzLmRpZ2VzdFN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51cGRhdGVTdHJpbmcodCksdGhpcy5kaWdlc3QoKX0sdGhpcy5kaWdlc3RIZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudXBkYXRlSGV4KHQpLHRoaXMuZGlnZXN0KCl9fX0sdGhpcy51cGRhdGVTdHJpbmc9ZnVuY3Rpb24odCl7dGhyb3dcInVwZGF0ZVN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuYWxnTmFtZStcIi9cIit0aGlzLnByb3ZOYW1lfSx0aGlzLnVwZGF0ZUhleD1mdW5jdGlvbih0KXt0aHJvd1widXBkYXRlSGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5hbGdOYW1lK1wiL1wiK3RoaXMucHJvdk5hbWV9LHRoaXMuZGlnZXN0PWZ1bmN0aW9uKCl7dGhyb3dcImRpZ2VzdCgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuYWxnTmFtZStcIi9cIit0aGlzLnByb3ZOYW1lfSx0aGlzLmRpZ2VzdFN0cmluZz1mdW5jdGlvbih0KXt0aHJvd1wiZGlnZXN0U3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5hbGdOYW1lK1wiL1wiK3RoaXMucHJvdk5hbWV9LHRoaXMuZGlnZXN0SGV4PWZ1bmN0aW9uKHQpe3Rocm93XCJkaWdlc3RIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLmFsZ05hbWUrXCIvXCIrdGhpcy5wcm92TmFtZX0sdm9pZCAwIT09dCYmdm9pZCAwIT09dC5hbGcmJih0aGlzLmFsZ05hbWU9dC5hbGcsdm9pZCAwPT09dC5wcm92JiYodGhpcy5wcm92TmFtZT1Fci5jcnlwdG8uVXRpbC5ERUZBVUxUUFJPVklERVJbdGhpcy5hbGdOYW1lXSksdGhpcy5zZXRBbGdBbmRQcm92aWRlcih0aGlzLmFsZ05hbWUsdGhpcy5wcm92TmFtZSkpfSxFci5jcnlwdG8uTWVzc2FnZURpZ2VzdC5nZXRDYW5vbmljYWxBbGdOYW1lPWZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD0odD10LnRvTG93ZXJDYXNlKCkpLnJlcGxhY2UoLy0vLFwiXCIpKSx0fSxFci5jcnlwdG8uTWVzc2FnZURpZ2VzdC5nZXRIYXNoTGVuZ3RoPWZ1bmN0aW9uKHQpe3ZhciBlPUVyLmNyeXB0by5NZXNzYWdlRGlnZXN0LHI9ZS5nZXRDYW5vbmljYWxBbGdOYW1lKHQpO2lmKHZvaWQgMD09PWUuSEFTSExFTkdUSFtyXSl0aHJvd1wibm90IHN1cHBvcnRlZCBhbGdvcml0aG06IFwiK3Q7cmV0dXJuIGUuSEFTSExFTkdUSFtyXX0sRXIuY3J5cHRvLk1lc3NhZ2VEaWdlc3QuSEFTSExFTkdUSD17bWQ1OjE2LHNoYTE6MjAsc2hhMjI0OjI4LHNoYTI1NjozMixzaGEzODQ6NDgsc2hhNTEyOjY0LHJpcGVtZDE2MDoyMH0sRXIuY3J5cHRvLk1hYz1mdW5jdGlvbih0KXt0aGlzLnNldEFsZ0FuZFByb3ZpZGVyPWZ1bmN0aW9uKHQsZSl7aWYobnVsbD09KHQ9dC50b0xvd2VyQ2FzZSgpKSYmKHQ9XCJobWFjc2hhMVwiKSxcImhtYWNcIiE9KHQ9dC50b0xvd2VyQ2FzZSgpKS5zdWJzdHIoMCw0KSl0aHJvd1wic2V0QWxnQW5kUHJvdmlkZXIgdW5zdXBwb3J0ZWQgSE1BQyBhbGc6IFwiK3Q7dm9pZCAwPT09ZSYmKGU9RXIuY3J5cHRvLlV0aWwuREVGQVVMVFBST1ZJREVSW3RdKSx0aGlzLmFsZ1Byb3Y9dCtcIi9cIitlO3ZhciByPXQuc3Vic3RyKDQpO2lmKC0xIT1cIjptZDU6c2hhMTpzaGEyMjQ6c2hhMjU2OnNoYTM4NDpzaGE1MTI6cmlwZW1kMTYwOlwiLmluZGV4T2YocikmJlwiY3J5cHRvanNcIj09ZSl7dHJ5e3ZhciBuPUVyLmNyeXB0by5VdGlsLkNSWVBUT0pTTUVTU0FHRURJR0VTVE5BTUVbcl07dGhpcy5tYWM9eS5hbGdvLkhNQUMuY3JlYXRlKG4sdGhpcy5wYXNzKX1jYXRjaCh0KXt0aHJvd1wic2V0QWxnQW5kUHJvdmlkZXIgaGFzaCBhbGcgc2V0IGZhaWwgaGFzaEFsZz1cIityK1wiL1wiK3R9dGhpcy51cGRhdGVTdHJpbmc9ZnVuY3Rpb24odCl7dGhpcy5tYWMudXBkYXRlKHQpfSx0aGlzLnVwZGF0ZUhleD1mdW5jdGlvbih0KXt2YXIgZT15LmVuYy5IZXgucGFyc2UodCk7dGhpcy5tYWMudXBkYXRlKGUpfSx0aGlzLmRvRmluYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWMuZmluYWxpemUoKS50b1N0cmluZyh5LmVuYy5IZXgpfSx0aGlzLmRvRmluYWxTdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudXBkYXRlU3RyaW5nKHQpLHRoaXMuZG9GaW5hbCgpfSx0aGlzLmRvRmluYWxIZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudXBkYXRlSGV4KHQpLHRoaXMuZG9GaW5hbCgpfX19LHRoaXMudXBkYXRlU3RyaW5nPWZ1bmN0aW9uKHQpe3Rocm93XCJ1cGRhdGVTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLmFsZ1Byb3Z9LHRoaXMudXBkYXRlSGV4PWZ1bmN0aW9uKHQpe3Rocm93XCJ1cGRhdGVIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLmFsZ1Byb3Z9LHRoaXMuZG9GaW5hbD1mdW5jdGlvbigpe3Rocm93XCJkaWdlc3QoKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLmFsZ1Byb3Z9LHRoaXMuZG9GaW5hbFN0cmluZz1mdW5jdGlvbih0KXt0aHJvd1wiZGlnZXN0U3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5hbGdQcm92fSx0aGlzLmRvRmluYWxIZXg9ZnVuY3Rpb24odCl7dGhyb3dcImRpZ2VzdEhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuYWxnUHJvdn0sdGhpcy5zZXRQYXNzd29yZD1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7dmFyIGU9dDtyZXR1cm4gdC5sZW5ndGglMiE9MSYmdC5tYXRjaCgvXlswLTlBLUZhLWZdKyQvKXx8KGU9anIodCkpLHZvaWQodGhpcy5wYXNzPXkuZW5jLkhleC5wYXJzZShlKSl9aWYoXCJvYmplY3RcIiE9KHZvaWQgMD09PXQ/XCJ1bmRlZmluZWRcIjpyKHQpKSl0aHJvd1wiS0pVUi5jcnlwdG8uTWFjIHVuc3VwcG9ydGVkIHBhc3N3b3JkIHR5cGU6IFwiK3Q7ZT1udWxsO2lmKHZvaWQgMCE9PXQuaGV4KXtpZih0LmhleC5sZW5ndGglMiE9MHx8IXQuaGV4Lm1hdGNoKC9eWzAtOUEtRmEtZl0rJC8pKXRocm93XCJNYWM6IHdyb25nIGhleCBwYXNzd29yZDogXCIrdC5oZXg7ZT10LmhleH1pZih2b2lkIDAhPT10LnV0ZjgmJihlPUJyKHQudXRmOCkpLHZvaWQgMCE9PXQucnN0ciYmKGU9anIodC5yc3RyKSksdm9pZCAwIT09dC5iNjQmJihlPWIodC5iNjQpKSx2b2lkIDAhPT10LmI2NHUmJihlPUxyKHQuYjY0dSkpLG51bGw9PWUpdGhyb3dcIktKVVIuY3J5cHRvLk1hYyB1bnN1cHBvcnRlZCBwYXNzd29yZCB0eXBlOiBcIit0O3RoaXMucGFzcz15LmVuYy5IZXgucGFyc2UoZSl9LHZvaWQgMCE9PXQmJih2b2lkIDAhPT10LnBhc3MmJnRoaXMuc2V0UGFzc3dvcmQodC5wYXNzKSx2b2lkIDAhPT10LmFsZyYmKHRoaXMuYWxnTmFtZT10LmFsZyx2b2lkIDA9PT10LnByb3YmJih0aGlzLnByb3ZOYW1lPUVyLmNyeXB0by5VdGlsLkRFRkFVTFRQUk9WSURFUlt0aGlzLmFsZ05hbWVdKSx0aGlzLnNldEFsZ0FuZFByb3ZpZGVyKHRoaXMuYWxnTmFtZSx0aGlzLnByb3ZOYW1lKSkpfSxFci5jcnlwdG8uU2lnbmF0dXJlPWZ1bmN0aW9uKHQpe3ZhciBlPW51bGw7aWYodGhpcy5fc2V0QWxnTmFtZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmFsZ05hbWUubWF0Y2goL14oLispd2l0aCguKykkLyk7dCYmKHRoaXMubWRBbGdOYW1lPXRbMV0udG9Mb3dlckNhc2UoKSx0aGlzLnB1YmtleUFsZ05hbWU9dFsyXS50b0xvd2VyQ2FzZSgpKX0sdGhpcy5femVyb1BhZGRpbmdPZlNpZ25hdHVyZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj1cIlwiLG49ZS80LXQubGVuZ3RoLGk9MDtpPG47aSsrKXIrPVwiMFwiO3JldHVybiByK3R9LHRoaXMuc2V0QWxnQW5kUHJvdmlkZXI9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9zZXRBbGdOYW1lcygpLFwiY3J5cHRvanMvanNyc2FcIiE9ZSl0aHJvd1wicHJvdmlkZXIgbm90IHN1cHBvcnRlZDogXCIrZTtpZigtMSE9XCI6bWQ1OnNoYTE6c2hhMjI0OnNoYTI1NjpzaGEzODQ6c2hhNTEyOnJpcGVtZDE2MDpcIi5pbmRleE9mKHRoaXMubWRBbGdOYW1lKSl7dHJ5e3RoaXMubWQ9bmV3IEVyLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6dGhpcy5tZEFsZ05hbWV9KX1jYXRjaCh0KXt0aHJvd1wic2V0QWxnQW5kUHJvdmlkZXIgaGFzaCBhbGcgc2V0IGZhaWwgYWxnPVwiK3RoaXMubWRBbGdOYW1lK1wiL1wiK3R9dGhpcy5pbml0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9bnVsbDt0cnl7cj12b2lkIDA9PT1lP3RuLmdldEtleSh0KTp0bi5nZXRLZXkodCxlKX1jYXRjaCh0KXt0aHJvd1wiaW5pdCBmYWlsZWQ6XCIrdH1pZighMD09PXIuaXNQcml2YXRlKXRoaXMucHJ2S2V5PXIsdGhpcy5zdGF0ZT1cIlNJR05cIjtlbHNle2lmKCEwIT09ci5pc1B1YmxpYyl0aHJvd1wiaW5pdCBmYWlsZWQuOlwiK3I7dGhpcy5wdWJLZXk9cix0aGlzLnN0YXRlPVwiVkVSSUZZXCJ9fSx0aGlzLnVwZGF0ZVN0cmluZz1mdW5jdGlvbih0KXt0aGlzLm1kLnVwZGF0ZVN0cmluZyh0KX0sdGhpcy51cGRhdGVIZXg9ZnVuY3Rpb24odCl7dGhpcy5tZC51cGRhdGVIZXgodCl9LHRoaXMuc2lnbj1mdW5jdGlvbigpe2lmKHRoaXMuc0hhc2hIZXg9dGhpcy5tZC5kaWdlc3QoKSx2b2lkIDAhPT10aGlzLmVjcHJ2aGV4JiZ2b2lkIDAhPT10aGlzLmVjY3VydmVuYW1lKXt2YXIgdD1uZXcgRXIuY3J5cHRvLkVDRFNBKHtjdXJ2ZTp0aGlzLmVjY3VydmVuYW1lfSk7dGhpcy5oU2lnbj10LnNpZ25IZXgodGhpcy5zSGFzaEhleCx0aGlzLmVjcHJ2aGV4KX1lbHNlIGlmKHRoaXMucHJ2S2V5IGluc3RhbmNlb2YgcWUmJlwicnNhYW5kbWdmMVwiPT09dGhpcy5wdWJrZXlBbGdOYW1lKXRoaXMuaFNpZ249dGhpcy5wcnZLZXkuc2lnbldpdGhNZXNzYWdlSGFzaFBTUyh0aGlzLnNIYXNoSGV4LHRoaXMubWRBbGdOYW1lLHRoaXMucHNzU2FsdExlbik7ZWxzZSBpZih0aGlzLnBydktleSBpbnN0YW5jZW9mIHFlJiZcInJzYVwiPT09dGhpcy5wdWJrZXlBbGdOYW1lKXRoaXMuaFNpZ249dGhpcy5wcnZLZXkuc2lnbldpdGhNZXNzYWdlSGFzaCh0aGlzLnNIYXNoSGV4LHRoaXMubWRBbGdOYW1lKTtlbHNlIGlmKHRoaXMucHJ2S2V5IGluc3RhbmNlb2YgRXIuY3J5cHRvLkVDRFNBKXRoaXMuaFNpZ249dGhpcy5wcnZLZXkuc2lnbldpdGhNZXNzYWdlSGFzaCh0aGlzLnNIYXNoSGV4KTtlbHNle2lmKCEodGhpcy5wcnZLZXkgaW5zdGFuY2VvZiBFci5jcnlwdG8uRFNBKSl0aHJvd1wiU2lnbmF0dXJlOiB1bnN1cHBvcnRlZCBwcml2YXRlIGtleSBhbGc6IFwiK3RoaXMucHVia2V5QWxnTmFtZTt0aGlzLmhTaWduPXRoaXMucHJ2S2V5LnNpZ25XaXRoTWVzc2FnZUhhc2godGhpcy5zSGFzaEhleCl9cmV0dXJuIHRoaXMuaFNpZ259LHRoaXMuc2lnblN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51cGRhdGVTdHJpbmcodCksdGhpcy5zaWduKCl9LHRoaXMuc2lnbkhleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51cGRhdGVIZXgodCksdGhpcy5zaWduKCl9LHRoaXMudmVyaWZ5PWZ1bmN0aW9uKHQpe2lmKHRoaXMuc0hhc2hIZXg9dGhpcy5tZC5kaWdlc3QoKSx2b2lkIDAhPT10aGlzLmVjcHViaGV4JiZ2b2lkIDAhPT10aGlzLmVjY3VydmVuYW1lKXJldHVybiBuZXcgRXIuY3J5cHRvLkVDRFNBKHtjdXJ2ZTp0aGlzLmVjY3VydmVuYW1lfSkudmVyaWZ5SGV4KHRoaXMuc0hhc2hIZXgsdCx0aGlzLmVjcHViaGV4KTtpZih0aGlzLnB1YktleSBpbnN0YW5jZW9mIHFlJiZcInJzYWFuZG1nZjFcIj09PXRoaXMucHVia2V5QWxnTmFtZSlyZXR1cm4gdGhpcy5wdWJLZXkudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoUFNTKHRoaXMuc0hhc2hIZXgsdCx0aGlzLm1kQWxnTmFtZSx0aGlzLnBzc1NhbHRMZW4pO2lmKHRoaXMucHViS2V5IGluc3RhbmNlb2YgcWUmJlwicnNhXCI9PT10aGlzLnB1YmtleUFsZ05hbWUpcmV0dXJuIHRoaXMucHViS2V5LnZlcmlmeVdpdGhNZXNzYWdlSGFzaCh0aGlzLnNIYXNoSGV4LHQpO2lmKHZvaWQgMCE9PUVyLmNyeXB0by5FQ0RTQSYmdGhpcy5wdWJLZXkgaW5zdGFuY2VvZiBFci5jcnlwdG8uRUNEU0EpcmV0dXJuIHRoaXMucHViS2V5LnZlcmlmeVdpdGhNZXNzYWdlSGFzaCh0aGlzLnNIYXNoSGV4LHQpO2lmKHZvaWQgMCE9PUVyLmNyeXB0by5EU0EmJnRoaXMucHViS2V5IGluc3RhbmNlb2YgRXIuY3J5cHRvLkRTQSlyZXR1cm4gdGhpcy5wdWJLZXkudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoKHRoaXMuc0hhc2hIZXgsdCk7dGhyb3dcIlNpZ25hdHVyZTogdW5zdXBwb3J0ZWQgcHVibGljIGtleSBhbGc6IFwiK3RoaXMucHVia2V5QWxnTmFtZX19fSx0aGlzLmluaXQ9ZnVuY3Rpb24odCxlKXt0aHJvd1wiaW5pdChrZXksIHBhc3MpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5hbGdQcm92TmFtZX0sdGhpcy51cGRhdGVTdHJpbmc9ZnVuY3Rpb24odCl7dGhyb3dcInVwZGF0ZVN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5hbGdQcm92TmFtZX0sdGhpcy51cGRhdGVIZXg9ZnVuY3Rpb24odCl7dGhyb3dcInVwZGF0ZUhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5hbGdQcm92TmFtZX0sdGhpcy5zaWduPWZ1bmN0aW9uKCl7dGhyb3dcInNpZ24oKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMuYWxnUHJvdk5hbWV9LHRoaXMuc2lnblN0cmluZz1mdW5jdGlvbih0KXt0aHJvd1wiZGlnZXN0U3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLmFsZ1Byb3ZOYW1lfSx0aGlzLnNpZ25IZXg9ZnVuY3Rpb24odCl7dGhyb3dcImRpZ2VzdEhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5hbGdQcm92TmFtZX0sdGhpcy52ZXJpZnk9ZnVuY3Rpb24odCl7dGhyb3dcInZlcmlmeShoU2lnVmFsKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMuYWxnUHJvdk5hbWV9LHRoaXMuaW5pdFBhcmFtcz10LHZvaWQgMCE9PXQmJih2b2lkIDAhPT10LmFsZyYmKHRoaXMuYWxnTmFtZT10LmFsZyx2b2lkIDA9PT10LnByb3Y/dGhpcy5wcm92TmFtZT1Fci5jcnlwdG8uVXRpbC5ERUZBVUxUUFJPVklERVJbdGhpcy5hbGdOYW1lXTp0aGlzLnByb3ZOYW1lPXQucHJvdix0aGlzLmFsZ1Byb3ZOYW1lPXRoaXMuYWxnTmFtZStcIjpcIit0aGlzLnByb3ZOYW1lLHRoaXMuc2V0QWxnQW5kUHJvdmlkZXIodGhpcy5hbGdOYW1lLHRoaXMucHJvdk5hbWUpLHRoaXMuX3NldEFsZ05hbWVzKCkpLHZvaWQgMCE9PXQucHNzc2FsdGxlbiYmKHRoaXMucHNzU2FsdExlbj10LnBzc3NhbHRsZW4pLHZvaWQgMCE9PXQucHJ2a2V5cGVtKSl7aWYodm9pZCAwIT09dC5wcnZrZXlwYXMpdGhyb3dcImJvdGggcHJ2a2V5cGVtIGFuZCBwcnZrZXlwYXMgcGFyYW1ldGVycyBub3Qgc3VwcG9ydGVkXCI7dHJ5e2U9dG4uZ2V0S2V5KHQucHJ2a2V5cGVtKTt0aGlzLmluaXQoZSl9Y2F0Y2godCl7dGhyb3dcImZhdGFsIGVycm9yIHRvIGxvYWQgcGVtIHByaXZhdGUga2V5OiBcIit0fX19LEVyLmNyeXB0by5DaXBoZXI9ZnVuY3Rpb24odCl7fSxFci5jcnlwdG8uQ2lwaGVyLmVuY3J5cHQ9ZnVuY3Rpb24odCxlLHIpe2lmKGUgaW5zdGFuY2VvZiBxZSYmZS5pc1B1YmxpYyl7dmFyIG49RXIuY3J5cHRvLkNpcGhlci5nZXRBbGdCeUtleUFuZE5hbWUoZSxyKTtpZihcIlJTQVwiPT09bilyZXR1cm4gZS5lbmNyeXB0KHQpO2lmKFwiUlNBT0FFUFwiPT09bilyZXR1cm4gZS5lbmNyeXB0T0FFUCh0LFwic2hhMVwiKTt2YXIgaT1uLm1hdGNoKC9eUlNBT0FFUChcXGQrKSQvKTtpZihudWxsIT09aSlyZXR1cm4gZS5lbmNyeXB0T0FFUCh0LFwic2hhXCIraVsxXSk7dGhyb3dcIkNpcGhlci5lbmNyeXB0OiB1bnN1cHBvcnRlZCBhbGdvcml0aG0gZm9yIFJTQUtleTogXCIrcn10aHJvd1wiQ2lwaGVyLmVuY3J5cHQ6IHVuc3VwcG9ydGVkIGtleSBvciBhbGdvcml0aG1cIn0sRXIuY3J5cHRvLkNpcGhlci5kZWNyeXB0PWZ1bmN0aW9uKHQsZSxyKXtpZihlIGluc3RhbmNlb2YgcWUmJmUuaXNQcml2YXRlKXt2YXIgbj1Fci5jcnlwdG8uQ2lwaGVyLmdldEFsZ0J5S2V5QW5kTmFtZShlLHIpO2lmKFwiUlNBXCI9PT1uKXJldHVybiBlLmRlY3J5cHQodCk7aWYoXCJSU0FPQUVQXCI9PT1uKXJldHVybiBlLmRlY3J5cHRPQUVQKHQsXCJzaGExXCIpO3ZhciBpPW4ubWF0Y2goL15SU0FPQUVQKFxcZCspJC8pO2lmKG51bGwhPT1pKXJldHVybiBlLmRlY3J5cHRPQUVQKHQsXCJzaGFcIitpWzFdKTt0aHJvd1wiQ2lwaGVyLmRlY3J5cHQ6IHVuc3VwcG9ydGVkIGFsZ29yaXRobSBmb3IgUlNBS2V5OiBcIityfXRocm93XCJDaXBoZXIuZGVjcnlwdDogdW5zdXBwb3J0ZWQga2V5IG9yIGFsZ29yaXRobVwifSxFci5jcnlwdG8uQ2lwaGVyLmdldEFsZ0J5S2V5QW5kTmFtZT1mdW5jdGlvbih0LGUpe2lmKHQgaW5zdGFuY2VvZiBxZSl7aWYoLTEhPVwiOlJTQTpSU0FPQUVQOlJTQU9BRVAyMjQ6UlNBT0FFUDI1NjpSU0FPQUVQMzg0OlJTQU9BRVA1MTI6XCIuaW5kZXhPZihlKSlyZXR1cm4gZTtpZihudWxsPT09ZXx8dm9pZCAwPT09ZSlyZXR1cm5cIlJTQVwiO3Rocm93XCJnZXRBbGdCeUtleUFuZE5hbWU6IG5vdCBzdXBwb3J0ZWQgYWxnb3JpdGhtIG5hbWUgZm9yIFJTQUtleTogXCIrZX10aHJvd1wiZ2V0QWxnQnlLZXlBbmROYW1lOiBub3Qgc3VwcG9ydGVkIGFsZ29yaXRobSBuYW1lOiBcIitlfSxFci5jcnlwdG8uT0lEPW5ldyBmdW5jdGlvbigpe3RoaXMub2lkaGV4Mm5hbWU9e1wiMmE4NjQ4ODZmNzBkMDEwMTAxXCI6XCJyc2FFbmNyeXB0aW9uXCIsXCIyYTg2NDhjZTNkMDIwMVwiOlwiZWNQdWJsaWNLZXlcIixcIjJhODY0OGNlMzgwNDAxXCI6XCJkc2FcIixcIjJhODY0OGNlM2QwMzAxMDdcIjpcInNlY3AyNTZyMVwiLFwiMmI4MTA0MDAxZlwiOlwic2VjcDE5MmsxXCIsXCIyYjgxMDQwMDIxXCI6XCJzZWNwMjI0cjFcIixcIjJiODEwNDAwMGFcIjpcInNlY3AyNTZrMVwiLFwiMmI4MTA0MDAyM1wiOlwic2VjcDUyMXIxXCIsXCIyYjgxMDQwMDIyXCI6XCJzZWNwMzg0cjFcIixcIjJhODY0OGNlMzgwNDAzXCI6XCJTSEExd2l0aERTQVwiLFwiNjA4NjQ4MDE2NTAzMDQwMzAxXCI6XCJTSEEyMjR3aXRoRFNBXCIsXCI2MDg2NDgwMTY1MDMwNDAzMDJcIjpcIlNIQTI1NndpdGhEU0FcIn19LHZvaWQgMCE9PUVyJiZFcnx8KGUuS0pVUj1Fcj17fSksdm9pZCAwIT09RXIuY3J5cHRvJiZFci5jcnlwdG98fChFci5jcnlwdG89e30pLEVyLmNyeXB0by5FQ0RTQT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgTWU7dGhpcy50eXBlPVwiRUNcIix0aGlzLmlzUHJpdmF0ZT0hMSx0aGlzLmlzUHVibGljPSExLHRoaXMuZ2V0QmlnUmFuZG9tPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRSh0LmJpdExlbmd0aCgpLGUpLm1vZCh0LnN1YnRyYWN0KEUuT05FKSkuYWRkKEUuT05FKX0sdGhpcy5zZXROYW1lZEN1cnZlPWZ1bmN0aW9uKHQpe3RoaXMuZWNwYXJhbXM9RXIuY3J5cHRvLkVDUGFyYW1ldGVyREIuZ2V0QnlOYW1lKHQpLHRoaXMucHJ2S2V5SGV4PW51bGwsdGhpcy5wdWJLZXlIZXg9bnVsbCx0aGlzLmN1cnZlTmFtZT10fSx0aGlzLnNldFByaXZhdGVLZXlIZXg9ZnVuY3Rpb24odCl7dGhpcy5pc1ByaXZhdGU9ITAsdGhpcy5wcnZLZXlIZXg9dH0sdGhpcy5zZXRQdWJsaWNLZXlIZXg9ZnVuY3Rpb24odCl7dGhpcy5pc1B1YmxpYz0hMCx0aGlzLnB1YktleUhleD10fSx0aGlzLmdldFB1YmxpY0tleVhZSGV4PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wdWJLZXlIZXg7aWYoXCIwNFwiIT09dC5zdWJzdHIoMCwyKSl0aHJvd1widGhpcyBtZXRob2Qgc3VwcG9ydHMgdW5jb21wcmVzc2VkIGZvcm1hdCgwNCkgb25seVwiO3ZhciBlPXRoaXMuZWNwYXJhbXMua2V5bGVuLzQ7aWYodC5sZW5ndGghPT0yKzIqZSl0aHJvd1wibWFsZm9ybWVkIHB1YmxpYyBrZXkgaGV4IGxlbmd0aFwiO3ZhciByPXt9O3JldHVybiByLng9dC5zdWJzdHIoMixlKSxyLnk9dC5zdWJzdHIoMitlKSxyfSx0aGlzLmdldFNob3J0TklTVFBDdXJ2ZU5hbWU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmN1cnZlTmFtZTtyZXR1cm5cInNlY3AyNTZyMVwiPT09dHx8XCJOSVNUIFAtMjU2XCI9PT10fHxcIlAtMjU2XCI9PT10fHxcInByaW1lMjU2djFcIj09PXQ/XCJQLTI1NlwiOlwic2VjcDM4NHIxXCI9PT10fHxcIk5JU1QgUC0zODRcIj09PXR8fFwiUC0zODRcIj09PXQ/XCJQLTM4NFwiOm51bGx9LHRoaXMuZ2VuZXJhdGVLZXlQYWlySGV4PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lY3BhcmFtcy5uLGU9dGhpcy5nZXRCaWdSYW5kb20odCkscj10aGlzLmVjcGFyYW1zLkcubXVsdGlwbHkoZSksbj1yLmdldFgoKS50b0JpZ0ludGVnZXIoKSxpPXIuZ2V0WSgpLnRvQmlnSW50ZWdlcigpLG89dGhpcy5lY3BhcmFtcy5rZXlsZW4vNCxzPShcIjAwMDAwMDAwMDBcIitlLnRvU3RyaW5nKDE2KSkuc2xpY2UoLW8pLGE9XCIwNFwiKyhcIjAwMDAwMDAwMDBcIituLnRvU3RyaW5nKDE2KSkuc2xpY2UoLW8pKyhcIjAwMDAwMDAwMDBcIitpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLW8pO3JldHVybiB0aGlzLnNldFByaXZhdGVLZXlIZXgocyksdGhpcy5zZXRQdWJsaWNLZXlIZXgoYSkse2VjcHJ2aGV4OnMsZWNwdWJoZXg6YX19LHRoaXMuc2lnbldpdGhNZXNzYWdlSGFzaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zaWduSGV4KHQsdGhpcy5wcnZLZXlIZXgpfSx0aGlzLnNpZ25IZXg9ZnVuY3Rpb24odCxlKXt2YXIgcj1uZXcgRShlLDE2KSxuPXRoaXMuZWNwYXJhbXMubixpPW5ldyBFKHQsMTYpO2Rve3ZhciBvPXRoaXMuZ2V0QmlnUmFuZG9tKG4pLHM9dGhpcy5lY3BhcmFtcy5HLm11bHRpcGx5KG8pLmdldFgoKS50b0JpZ0ludGVnZXIoKS5tb2Qobil9d2hpbGUocy5jb21wYXJlVG8oRS5aRVJPKTw9MCk7dmFyIGE9by5tb2RJbnZlcnNlKG4pLm11bHRpcGx5KGkuYWRkKHIubXVsdGlwbHkocykpKS5tb2Qobik7cmV0dXJuIEVyLmNyeXB0by5FQ0RTQS5iaVJTU2lnVG9BU04xU2lnKHMsYSl9LHRoaXMuc2lnbj1mdW5jdGlvbih0LGUpe3ZhciByPWUsbj10aGlzLmVjcGFyYW1zLm4saT1FLmZyb21CeXRlQXJyYXlVbnNpZ25lZCh0KTtkb3t2YXIgbz10aGlzLmdldEJpZ1JhbmRvbShuKSxzPXRoaXMuZWNwYXJhbXMuRy5tdWx0aXBseShvKS5nZXRYKCkudG9CaWdJbnRlZ2VyKCkubW9kKG4pfXdoaWxlKHMuY29tcGFyZVRvKEUuWkVSTyk8PTApO3ZhciBhPW8ubW9kSW52ZXJzZShuKS5tdWx0aXBseShpLmFkZChyLm11bHRpcGx5KHMpKSkubW9kKG4pO3JldHVybiB0aGlzLnNlcmlhbGl6ZVNpZyhzLGEpfSx0aGlzLnZlcmlmeVdpdGhNZXNzYWdlSGFzaD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnZlcmlmeUhleCh0LGUsdGhpcy5wdWJLZXlIZXgpfSx0aGlzLnZlcmlmeUhleD1mdW5jdGlvbih0LGUscil7dmFyIG4saSxvLHM9RXIuY3J5cHRvLkVDRFNBLnBhcnNlU2lnSGV4KGUpO249cy5yLGk9cy5zLG89V2UuZGVjb2RlRnJvbUhleCh0aGlzLmVjcGFyYW1zLmN1cnZlLHIpO3ZhciBhPW5ldyBFKHQsMTYpO3JldHVybiB0aGlzLnZlcmlmeVJhdyhhLG4saSxvKX0sdGhpcy52ZXJpZnk9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLG8scztpZihCaXRjb2luLlV0aWwuaXNBcnJheShlKSl7dmFyIGE9dGhpcy5wYXJzZVNpZyhlKTtpPWEucixvPWEuc31lbHNle2lmKFwib2JqZWN0XCIhPT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOnIoZSkpfHwhZS5yfHwhZS5zKXRocm93XCJJbnZhbGlkIHZhbHVlIGZvciBzaWduYXR1cmVcIjtpPWUucixvPWUuc31pZihuIGluc3RhbmNlb2YgV2Upcz1uO2Vsc2V7aWYoIUJpdGNvaW4uVXRpbC5pc0FycmF5KG4pKXRocm93XCJJbnZhbGlkIGZvcm1hdCBmb3IgcHVia2V5IHZhbHVlLCBtdXN0IGJlIGJ5dGUgYXJyYXkgb3IgRUNQb2ludEZwXCI7cz1XZS5kZWNvZGVGcm9tKHRoaXMuZWNwYXJhbXMuY3VydmUsbil9dmFyIHU9RS5mcm9tQnl0ZUFycmF5VW5zaWduZWQodCk7cmV0dXJuIHRoaXMudmVyaWZ5UmF3KHUsaSxvLHMpfSx0aGlzLnZlcmlmeVJhdz1mdW5jdGlvbih0LGUscixuKXt2YXIgaT10aGlzLmVjcGFyYW1zLm4sbz10aGlzLmVjcGFyYW1zLkc7aWYoZS5jb21wYXJlVG8oRS5PTkUpPDB8fGUuY29tcGFyZVRvKGkpPj0wKXJldHVybiExO2lmKHIuY29tcGFyZVRvKEUuT05FKTwwfHxyLmNvbXBhcmVUbyhpKT49MClyZXR1cm4hMTt2YXIgcz1yLm1vZEludmVyc2UoaSksYT10Lm11bHRpcGx5KHMpLm1vZChpKSx1PWUubXVsdGlwbHkocykubW9kKGkpO3JldHVybiBvLm11bHRpcGx5KGEpLmFkZChuLm11bHRpcGx5KHUpKS5nZXRYKCkudG9CaWdJbnRlZ2VyKCkubW9kKGkpLmVxdWFscyhlKX0sdGhpcy5zZXJpYWxpemVTaWc9ZnVuY3Rpb24odCxlKXt2YXIgcj10LnRvQnl0ZUFycmF5U2lnbmVkKCksbj1lLnRvQnl0ZUFycmF5U2lnbmVkKCksaT1bXTtyZXR1cm4gaS5wdXNoKDIpLGkucHVzaChyLmxlbmd0aCksKGk9aS5jb25jYXQocikpLnB1c2goMiksaS5wdXNoKG4ubGVuZ3RoKSwoaT1pLmNvbmNhdChuKSkudW5zaGlmdChpLmxlbmd0aCksaS51bnNoaWZ0KDQ4KSxpfSx0aGlzLnBhcnNlU2lnPWZ1bmN0aW9uKHQpe3ZhciBlO2lmKDQ4IT10WzBdKXRocm93IG5ldyBFcnJvcihcIlNpZ25hdHVyZSBub3QgYSB2YWxpZCBERVJTZXF1ZW5jZVwiKTtpZigyIT10W2U9Ml0pdGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgZWxlbWVudCBpbiBzaWduYXR1cmUgbXVzdCBiZSBhIERFUkludGVnZXJcIik7dmFyIHI9dC5zbGljZShlKzIsZSsyK3RbZSsxXSk7aWYoMiE9dFtlKz0yK3RbZSsxXV0pdGhyb3cgbmV3IEVycm9yKFwiU2Vjb25kIGVsZW1lbnQgaW4gc2lnbmF0dXJlIG11c3QgYmUgYSBERVJJbnRlZ2VyXCIpO3ZhciBuPXQuc2xpY2UoZSsyLGUrMit0W2UrMV0pO3JldHVybiBlKz0yK3RbZSsxXSx7cjpFLmZyb21CeXRlQXJyYXlVbnNpZ25lZChyKSxzOkUuZnJvbUJ5dGVBcnJheVVuc2lnbmVkKG4pfX0sdGhpcy5wYXJzZVNpZ0NvbXBhY3Q9ZnVuY3Rpb24odCl7aWYoNjUhPT10Lmxlbmd0aCl0aHJvd1wiU2lnbmF0dXJlIGhhcyB0aGUgd3JvbmcgbGVuZ3RoXCI7dmFyIGU9dFswXS0yNztpZihlPDB8fGU+Nyl0aHJvd1wiSW52YWxpZCBzaWduYXR1cmUgdHlwZVwiO3ZhciByPXRoaXMuZWNwYXJhbXMubjtyZXR1cm57cjpFLmZyb21CeXRlQXJyYXlVbnNpZ25lZCh0LnNsaWNlKDEsMzMpKS5tb2QociksczpFLmZyb21CeXRlQXJyYXlVbnNpZ25lZCh0LnNsaWNlKDMzLDY1KSkubW9kKHIpLGk6ZX19LHRoaXMucmVhZFBLQ1M1UHJ2S2V5SGV4PWZ1bmN0aW9uKHQpe3ZhciBlLHIsbixpPUFyLG89RXIuY3J5cHRvLkVDRFNBLmdldE5hbWUscz1pLmdldFZieUxpc3Q7aWYoITE9PT1pLmlzQVNOMUhFWCh0KSl0aHJvd1wibm90IEFTTi4xIGhleCBzdHJpbmdcIjt0cnl7ZT1zKHQsMCxbMiwwXSxcIjA2XCIpLHI9cyh0LDAsWzFdLFwiMDRcIik7dHJ5e249cyh0LDAsWzMsMF0sXCIwM1wiKS5zdWJzdHIoMil9Y2F0Y2godCl7fX1jYXRjaCh0KXt0aHJvd1wibWFsZm9ybWVkIFBLQ1MjMS81IHBsYWluIEVDQyBwcml2YXRlIGtleVwifWlmKHRoaXMuY3VydmVOYW1lPW8oZSksdm9pZCAwPT09dGhpcy5jdXJ2ZU5hbWUpdGhyb3dcInVuc3VwcG9ydGVkIGN1cnZlIG5hbWVcIjt0aGlzLnNldE5hbWVkQ3VydmUodGhpcy5jdXJ2ZU5hbWUpLHRoaXMuc2V0UHVibGljS2V5SGV4KG4pLHRoaXMuc2V0UHJpdmF0ZUtleUhleChyKSx0aGlzLmlzUHVibGljPSExfSx0aGlzLnJlYWRQS0NTOFBydktleUhleD1mdW5jdGlvbih0KXt2YXIgZSxyLG4saT1BcixvPUVyLmNyeXB0by5FQ0RTQS5nZXROYW1lLHM9aS5nZXRWYnlMaXN0O2lmKCExPT09aS5pc0FTTjFIRVgodCkpdGhyb3dcIm5vdCBBU04uMSBoZXggc3RyaW5nXCI7dHJ5e3ModCwwLFsxLDBdLFwiMDZcIiksZT1zKHQsMCxbMSwxXSxcIjA2XCIpLHI9cyh0LDAsWzIsMCwxXSxcIjA0XCIpO3RyeXtuPXModCwwLFsyLDAsMiwwXSxcIjAzXCIpLnN1YnN0cigyKX1jYXRjaCh0KXt9fWNhdGNoKHQpe3Rocm93XCJtYWxmb3JtZWQgUEtDUyM4IHBsYWluIEVDQyBwcml2YXRlIGtleVwifWlmKHRoaXMuY3VydmVOYW1lPW8oZSksdm9pZCAwPT09dGhpcy5jdXJ2ZU5hbWUpdGhyb3dcInVuc3VwcG9ydGVkIGN1cnZlIG5hbWVcIjt0aGlzLnNldE5hbWVkQ3VydmUodGhpcy5jdXJ2ZU5hbWUpLHRoaXMuc2V0UHVibGljS2V5SGV4KG4pLHRoaXMuc2V0UHJpdmF0ZUtleUhleChyKSx0aGlzLmlzUHVibGljPSExfSx0aGlzLnJlYWRQS0NTOFB1YktleUhleD1mdW5jdGlvbih0KXt2YXIgZSxyLG49QXIsaT1Fci5jcnlwdG8uRUNEU0EuZ2V0TmFtZSxvPW4uZ2V0VmJ5TGlzdDtpZighMT09PW4uaXNBU04xSEVYKHQpKXRocm93XCJub3QgQVNOLjEgaGV4IHN0cmluZ1wiO3RyeXtvKHQsMCxbMCwwXSxcIjA2XCIpLGU9byh0LDAsWzAsMV0sXCIwNlwiKSxyPW8odCwwLFsxXSxcIjAzXCIpLnN1YnN0cigyKX1jYXRjaCh0KXt0aHJvd1wibWFsZm9ybWVkIFBLQ1MjOCBFQ0MgcHVibGljIGtleVwifWlmKHRoaXMuY3VydmVOYW1lPWkoZSksbnVsbD09PXRoaXMuY3VydmVOYW1lKXRocm93XCJ1bnN1cHBvcnRlZCBjdXJ2ZSBuYW1lXCI7dGhpcy5zZXROYW1lZEN1cnZlKHRoaXMuY3VydmVOYW1lKSx0aGlzLnNldFB1YmxpY0tleUhleChyKX0sdGhpcy5yZWFkQ2VydFB1YktleUhleD1mdW5jdGlvbih0LGUpezUhPT1lJiYoZT02KTt2YXIgcixuLGk9QXIsbz1Fci5jcnlwdG8uRUNEU0EuZ2V0TmFtZSxzPWkuZ2V0VmJ5TGlzdDtpZighMT09PWkuaXNBU04xSEVYKHQpKXRocm93XCJub3QgQVNOLjEgaGV4IHN0cmluZ1wiO3RyeXtyPXModCwwLFswLGUsMCwxXSxcIjA2XCIpLG49cyh0LDAsWzAsZSwxXSxcIjAzXCIpLnN1YnN0cigyKX1jYXRjaCh0KXt0aHJvd1wibWFsZm9ybWVkIFguNTA5IGNlcnRpZmljYXRlIEVDQyBwdWJsaWMga2V5XCJ9aWYodGhpcy5jdXJ2ZU5hbWU9byhyKSxudWxsPT09dGhpcy5jdXJ2ZU5hbWUpdGhyb3dcInVuc3VwcG9ydGVkIGN1cnZlIG5hbWVcIjt0aGlzLnNldE5hbWVkQ3VydmUodGhpcy5jdXJ2ZU5hbWUpLHRoaXMuc2V0UHVibGljS2V5SGV4KG4pfSx2b2lkIDAhPT10JiZ2b2lkIDAhPT10LmN1cnZlJiYodGhpcy5jdXJ2ZU5hbWU9dC5jdXJ2ZSksdm9pZCAwPT09dGhpcy5jdXJ2ZU5hbWUmJih0aGlzLmN1cnZlTmFtZT1cInNlY3AyNTZyMVwiKSx0aGlzLnNldE5hbWVkQ3VydmUodGhpcy5jdXJ2ZU5hbWUpLHZvaWQgMCE9PXQmJih2b2lkIDAhPT10LnBydiYmdGhpcy5zZXRQcml2YXRlS2V5SGV4KHQucHJ2KSx2b2lkIDAhPT10LnB1YiYmdGhpcy5zZXRQdWJsaWNLZXlIZXgodC5wdWIpKX0sRXIuY3J5cHRvLkVDRFNBLnBhcnNlU2lnSGV4PWZ1bmN0aW9uKHQpe3ZhciBlPUVyLmNyeXB0by5FQ0RTQS5wYXJzZVNpZ0hleEluSGV4UlModCk7cmV0dXJue3I6bmV3IEUoZS5yLDE2KSxzOm5ldyBFKGUucywxNil9fSxFci5jcnlwdG8uRUNEU0EucGFyc2VTaWdIZXhJbkhleFJTPWZ1bmN0aW9uKHQpe3ZhciBlPUFyLHI9ZS5nZXRDaGlsZElkeCxuPWUuZ2V0VjtpZihcIjMwXCIhPXQuc3Vic3RyKDAsMikpdGhyb3dcInNpZ25hdHVyZSBpcyBub3QgYSBBU04uMSBzZXF1ZW5jZVwiO3ZhciBpPXIodCwwKTtpZigyIT1pLmxlbmd0aCl0aHJvd1wibnVtYmVyIG9mIHNpZ25hdHVyZSBBU04uMSBzZXF1ZW5jZSBlbGVtZW50cyBzZWVtIHdyb25nXCI7dmFyIG89aVswXSxzPWlbMV07aWYoXCIwMlwiIT10LnN1YnN0cihvLDIpKXRocm93XCIxc3QgaXRlbSBvZiBzZXF1ZW5lIG9mIHNpZ25hdHVyZSBpcyBub3QgQVNOLjEgaW50ZWdlclwiO2lmKFwiMDJcIiE9dC5zdWJzdHIocywyKSl0aHJvd1wiMm5kIGl0ZW0gb2Ygc2VxdWVuZSBvZiBzaWduYXR1cmUgaXMgbm90IEFTTi4xIGludGVnZXJcIjtyZXR1cm57cjpuKHQsbyksczpuKHQscyl9fSxFci5jcnlwdG8uRUNEU0EuYXNuMVNpZ1RvQ29uY2F0U2lnPWZ1bmN0aW9uKHQpe3ZhciBlPUVyLmNyeXB0by5FQ0RTQS5wYXJzZVNpZ0hleEluSGV4UlModCkscj1lLnIsbj1lLnM7aWYoXCIwMFwiPT1yLnN1YnN0cigwLDIpJiZyLmxlbmd0aCUzMj09MiYmKHI9ci5zdWJzdHIoMikpLFwiMDBcIj09bi5zdWJzdHIoMCwyKSYmbi5sZW5ndGglMzI9PTImJihuPW4uc3Vic3RyKDIpKSxyLmxlbmd0aCUzMj09MzAmJihyPVwiMDBcIityKSxuLmxlbmd0aCUzMj09MzAmJihuPVwiMDBcIituKSxyLmxlbmd0aCUzMiE9MCl0aHJvd1widW5rbm93biBFQ0RTQSBzaWcgciBsZW5ndGggZXJyb3JcIjtpZihuLmxlbmd0aCUzMiE9MCl0aHJvd1widW5rbm93biBFQ0RTQSBzaWcgcyBsZW5ndGggZXJyb3JcIjtyZXR1cm4gcitufSxFci5jcnlwdG8uRUNEU0EuY29uY2F0U2lnVG9BU04xU2lnPWZ1bmN0aW9uKHQpe2lmKHQubGVuZ3RoLzIqOCUxMjghPTApdGhyb3dcInVua25vd24gRUNEU0EgY29uY2F0aW5hdGVkIHItcyBzaWcgIGxlbmd0aCBlcnJvclwiO3ZhciBlPXQuc3Vic3RyKDAsdC5sZW5ndGgvMikscj10LnN1YnN0cih0Lmxlbmd0aC8yKTtyZXR1cm4gRXIuY3J5cHRvLkVDRFNBLmhleFJTU2lnVG9BU04xU2lnKGUscil9LEVyLmNyeXB0by5FQ0RTQS5oZXhSU1NpZ1RvQVNOMVNpZz1mdW5jdGlvbih0LGUpe3ZhciByPW5ldyBFKHQsMTYpLG49bmV3IEUoZSwxNik7cmV0dXJuIEVyLmNyeXB0by5FQ0RTQS5iaVJTU2lnVG9BU04xU2lnKHIsbil9LEVyLmNyeXB0by5FQ0RTQS5iaVJTU2lnVG9BU04xU2lnPWZ1bmN0aW9uKHQsZSl7dmFyIHI9RXIuYXNuMSxuPW5ldyByLkRFUkludGVnZXIoe2JpZ2ludDp0fSksaT1uZXcgci5ERVJJbnRlZ2VyKHtiaWdpbnQ6ZX0pO3JldHVybiBuZXcgci5ERVJTZXF1ZW5jZSh7YXJyYXk6W24saV19KS5nZXRFbmNvZGVkSGV4KCl9LEVyLmNyeXB0by5FQ0RTQS5nZXROYW1lPWZ1bmN0aW9uKHQpe3JldHVyblwiMmE4NjQ4Y2UzZDAzMDEwN1wiPT09dD9cInNlY3AyNTZyMVwiOlwiMmI4MTA0MDAwYVwiPT09dD9cInNlY3AyNTZrMVwiOlwiMmI4MTA0MDAyMlwiPT09dD9cInNlY3AzODRyMVwiOi0xIT09XCJ8c2VjcDI1NnIxfE5JU1QgUC0yNTZ8UC0yNTZ8cHJpbWUyNTZ2MXxcIi5pbmRleE9mKHQpP1wic2VjcDI1NnIxXCI6LTEhPT1cInxzZWNwMjU2azF8XCIuaW5kZXhPZih0KT9cInNlY3AyNTZrMVwiOi0xIT09XCJ8c2VjcDM4NHIxfE5JU1QgUC0zODR8UC0zODR8XCIuaW5kZXhPZih0KT9cInNlY3AzODRyMVwiOm51bGx9LHZvaWQgMCE9PUVyJiZFcnx8KGUuS0pVUj1Fcj17fSksdm9pZCAwIT09RXIuY3J5cHRvJiZFci5jcnlwdG98fChFci5jcnlwdG89e30pLEVyLmNyeXB0by5FQ1BhcmFtZXRlckRCPW5ldyBmdW5jdGlvbigpe3ZhciB0PXt9LGU9e307ZnVuY3Rpb24gcih0KXtyZXR1cm4gbmV3IEUodCwxNil9dGhpcy5nZXRCeU5hbWU9ZnVuY3Rpb24ocil7dmFyIG49cjtpZih2b2lkIDAhPT1lW25dJiYobj1lW3JdKSx2b2lkIDAhPT10W25dKXJldHVybiB0W25dO3Rocm93XCJ1bnJlZ2lzdGVyZWQgRUMgY3VydmUgbmFtZTogXCIrbn0sdGhpcy5yZWdpc3Q9ZnVuY3Rpb24obixpLG8scyxhLHUsYyxoLGwsZixkLGcpe3Rbbl09e307dmFyIHA9cihvKSx2PXIocykseT1yKGEpLG09cih1KSxfPXIoYyksUz1uZXcgemUocCx2LHkpLEY9Uy5kZWNvZGVQb2ludEhleChcIjA0XCIraCtsKTt0W25dLm5hbWU9bix0W25dLmtleWxlbj1pLHRbbl0uY3VydmU9Uyx0W25dLkc9Rix0W25dLm49bSx0W25dLmg9Xyx0W25dLm9pZD1kLHRbbl0uaW5mbz1nO2Zvcih2YXIgYj0wO2I8Zi5sZW5ndGg7YisrKWVbZltiXV09bn19LEVyLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdChcInNlY3AxMjhyMVwiLDEyOCxcIkZGRkZGRkZERkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGXCIsXCJGRkZGRkZGREZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGQ1wiLFwiRTg3NTc5QzExMDc5RjQzREQ4MjQ5OTNDMkNFRTVFRDNcIixcIkZGRkZGRkZFMDAwMDAwMDA3NUEzMEQxQjkwMzhBMTE1XCIsXCIxXCIsXCIxNjFGRjc1MjhCODk5QjJEMEMyODYwN0NBNTJDNUI4NlwiLFwiQ0Y1QUM4Mzk1QkFGRUIxM0MwMkRBMjkyRERFRDdBODNcIixbXSxcIlwiLFwic2VjcDEyOHIxIDogU0VDRyBjdXJ2ZSBvdmVyIGEgMTI4IGJpdCBwcmltZSBmaWVsZFwiKSxFci5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwMTYwazFcIiwxNjAsXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRUZGRkZBQzczXCIsXCIwXCIsXCI3XCIsXCIwMTAwMDAwMDAwMDAwMDAwMDAwMDAxQjhGQTE2REZBQjlBQ0ExNkI2QjNcIixcIjFcIixcIjNCNEMzODJDRTM3QUExOTJBNDAxOUU3NjMwMzZGNEY1REQ0RDdFQkJcIixcIjkzOENGOTM1MzE4RkRDRUQ2QkMyODI4NjUzMTczM0MzRjAzQzRGRUVcIixbXSxcIlwiLFwic2VjcDE2MGsxIDogU0VDRyBjdXJ2ZSBvdmVyIGEgMTYwIGJpdCBwcmltZSBmaWVsZFwiKSxFci5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwMTYwcjFcIiwxNjAsXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjdGRkZGRkZGXCIsXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjdGRkZGRkZDXCIsXCIxQzk3QkVGQzU0QkQ3QThCNjVBQ0Y4OUY4MUQ0RDRBREM1NjVGQTQ1XCIsXCIwMTAwMDAwMDAwMDAwMDAwMDAwMDAxRjRDOEY5MjdBRUQzQ0E3NTIyNTdcIixcIjFcIixcIjRBOTZCNTY4OEVGNTczMjg0NjY0Njk4OTY4QzM4QkI5MTNDQkZDODJcIixcIjIzQTYyODU1MzE2ODk0N0Q1OURDQzkxMjA0MjM1MTM3N0FDNUZCMzJcIixbXSxcIlwiLFwic2VjcDE2MHIxIDogU0VDRyBjdXJ2ZSBvdmVyIGEgMTYwIGJpdCBwcmltZSBmaWVsZFwiKSxFci5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwMTkyazFcIiwxOTIsXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkVFMzdcIixcIjBcIixcIjNcIixcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRTI2RjJGQzE3MEY2OTQ2NkE3NERFRkQ4RFwiLFwiMVwiLFwiREI0RkYxMEVDMDU3RTlBRTI2QjA3RDAyODBCN0Y0MzQxREE1RDFCMUVBRTA2QzdEXCIsXCI5QjJGMkY2RDlDNTYyOEE3ODQ0MTYzRDAxNUJFODYzNDQwODJBQTg4RDk1RTJGOURcIixbXSksRXIuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDE5MnIxXCIsMTkyLFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkVGRkZGRkZGRkZGRkZGRkZGXCIsXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRUZGRkZGRkZGRkZGRkZGRkNcIixcIjY0MjEwNTE5RTU5QzgwRTcwRkE3RTlBQjcyMjQzMDQ5RkVCOERFRUNDMTQ2QjlCMVwiLFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGOTlERUY4MzYxNDZCQzlCMUI0RDIyODMxXCIsXCIxXCIsXCIxODhEQTgwRUIwMzA5MEY2N0NCRjIwRUI0M0ExODgwMEY0RkYwQUZEODJGRjEwMTJcIixcIjA3MTkyQjk1RkZDOERBNzg2MzEwMTFFRDZCMjRDREQ1NzNGOTc3QTExRTc5NDgxMVwiLFtdKSxFci5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwMjI0cjFcIiwyMjQsXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMVwiLFwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkVGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkVcIixcIkI0MDUwQTg1MEMwNEIzQUJGNTQxMzI1NjUwNDRCMEI3RDdCRkQ4QkEyNzBCMzk0MzIzNTVGRkI0XCIsXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGMTZBMkUwQjhGMDNFMTNERDI5NDU1QzVDMkEzRFwiLFwiMVwiLFwiQjcwRTBDQkQ2QkI0QkY3RjMyMTM5MEI5NEEwM0MxRDM1NkMyMTEyMjM0MzI4MEQ2MTE1QzFEMjFcIixcIkJEMzc2Mzg4QjVGNzIzRkI0QzIyREZFNkNENDM3NUEwNUEwNzQ3NjQ0NEQ1ODE5OTg1MDA3RTM0XCIsW10pLEVyLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdChcInNlY3AyNTZrMVwiLDI1NixcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkZDMkZcIixcIjBcIixcIjdcIixcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFQkFBRURDRTZBRjQ4QTAzQkJGRDI1RThDRDAzNjQxNDFcIixcIjFcIixcIjc5QkU2NjdFRjlEQ0JCQUM1NUEwNjI5NUNFODcwQjA3MDI5QkZDREIyRENFMjhEOTU5RjI4MTVCMTZGODE3OThcIixcIjQ4M0FEQTc3MjZBM0M0NjU1REE0RkJGQzBFMTEwOEE4RkQxN0I0NDhBNjg1NTQxOTlDNDdEMDhGRkIxMEQ0QjhcIixbXSksRXIuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KFwic2VjcDI1NnIxXCIsMjU2LFwiRkZGRkZGRkYwMDAwMDAwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMEZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRlwiLFwiRkZGRkZGRkYwMDAwMDAwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMEZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGQ1wiLFwiNUFDNjM1RDhBQTNBOTNFN0IzRUJCRDU1NzY5ODg2QkM2NTFEMDZCMENDNTNCMEY2M0JDRTNDM0UyN0QyNjA0QlwiLFwiRkZGRkZGRkYwMDAwMDAwMEZGRkZGRkZGRkZGRkZGRkZCQ0U2RkFBREE3MTc5RTg0RjNCOUNBQzJGQzYzMjU1MVwiLFwiMVwiLFwiNkIxN0QxRjJFMTJDNDI0N0Y4QkNFNkU1NjNBNDQwRjI3NzAzN0Q4MTJERUIzM0EwRjRBMTM5NDVEODk4QzI5NlwiLFwiNEZFMzQyRTJGRTFBN0Y5QjhFRTdFQjRBN0MwRjlFMTYyQkNFMzM1NzZCMzE1RUNFQ0JCNjQwNjgzN0JGNTFGNVwiLFtcIk5JU1QgUC0yNTZcIixcIlAtMjU2XCIsXCJwcmltZTI1NnYxXCJdKSxFci5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoXCJzZWNwMzg0cjFcIiwzODQsXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkZGRkYwMDAwMDAwMDAwMDAwMDAwRkZGRkZGRkZcIixcIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkVGRkZGRkZGRjAwMDAwMDAwMDAwMDAwMDBGRkZGRkZGQ1wiLFwiQjMzMTJGQTdFMjNFRTdFNDk4OEUwNTZCRTNGODJEMTkxODFEOUM2RUZFODE0MTEyMDMxNDA4OEY1MDEzODc1QUM2NTYzOThEOEEyRUQxOUQyQTg1QzhFREQzRUMyQUVGXCIsXCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZDNzYzNEQ4MUY0MzcyRERGNTgxQTBEQjI0OEIwQTc3QUVDRUMxOTZBQ0NDNTI5NzNcIixcIjFcIixcIkFBODdDQTIyQkU4QjA1Mzc4RUIxQzcxRUYzMjBBRDc0NkUxRDNCNjI4QkE3OUI5ODU5Rjc0MUUwODI1NDJBMzg1NTAyRjI1REJGNTUyOTZDM0E1NDVFMzg3Mjc2MEFCN1wiLFwiMzYxN2RlNGE5NjI2MmM2ZjVkOWU5OGJmOTI5MmRjMjlmOGY0MWRiZDI4OWExNDdjZTlkYTMxMTNiNWYwYjhjMDBhNjBiMWNlMWQ3ZTgxOWQ3YTQzMWQ3YzkwZWEwZTVmXCIsW1wiTklTVCBQLTM4NFwiLFwiUC0zODRcIl0pLEVyLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdChcInNlY3A1MjFyMVwiLDUyMSxcIjFGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGXCIsXCIxRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGQ1wiLFwiMDUxOTUzRUI5NjE4RTFDOUExRjkyOUEyMUEwQjY4NTQwRUVBMkRBNzI1Qjk5QjMxNUYzQjhCNDg5OTE4RUYxMDlFMTU2MTkzOTUxRUM3RTkzN0IxNjUyQzBCRDNCQjFCRjA3MzU3M0RGODgzRDJDMzRGMUVGNDUxRkQ0NkI1MDNGMDBcIixcIjFGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkE1MTg2ODc4M0JGMkY5NjZCN0ZDQzAxNDhGNzA5QTVEMDNCQjVDOUI4ODk5QzQ3QUVCQjZGQjcxRTkxMzg2NDA5XCIsXCIxXCIsXCJDNjg1OEUwNkI3MDQwNEU5Q0Q5RTNFQ0I2NjIzOTVCNDQyOUM2NDgxMzkwNTNGQjUyMUY4MjhBRjYwNkI0RDNEQkFBMTRCNUU3N0VGRTc1OTI4RkUxREMxMjdBMkZGQThERTMzNDhCM0MxODU2QTQyOUJGOTdFN0UzMUMyRTVCRDY2XCIsXCIwMTE4MzkyOTZhNzg5YTNiYzAwNDVjOGE1ZmI0MmM3ZDFiZDk5OGY1NDQ0OTU3OWI0NDY4MTdhZmJkMTcyNzNlNjYyYzk3ZWU3Mjk5NWVmNDI2NDBjNTUwYjkwMTNmYWQwNzYxMzUzYzcwODZhMjcyYzI0MDg4YmU5NDc2OWZkMTY2NTBcIixbXCJOSVNUIFAtNTIxXCIsXCJQLTUyMVwiXSk7dmFyIHRuPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24gdChyLG4saSl7cmV0dXJuIGUoeS5BRVMscixuLGkpfSxlPWZ1bmN0aW9uIHQoZSxyLG4saSl7dmFyIG89eS5lbmMuSGV4LnBhcnNlKHIpLHM9eS5lbmMuSGV4LnBhcnNlKG4pLGE9eS5lbmMuSGV4LnBhcnNlKGkpLHU9e307dS5rZXk9cyx1Lml2PWEsdS5jaXBoZXJ0ZXh0PW87dmFyIGM9ZS5kZWNyeXB0KHUscyx7aXY6YX0pO3JldHVybiB5LmVuYy5IZXguc3RyaW5naWZ5KGMpfSxyPWZ1bmN0aW9uIHQoZSxyLGkpe3JldHVybiBuKHkuQUVTLGUscixpKX0sbj1mdW5jdGlvbiB0KGUscixuLGkpe3ZhciBvPXkuZW5jLkhleC5wYXJzZShyKSxzPXkuZW5jLkhleC5wYXJzZShuKSxhPXkuZW5jLkhleC5wYXJzZShpKSx1PWUuZW5jcnlwdChvLHMse2l2OmF9KSxjPXkuZW5jLkhleC5wYXJzZSh1LnRvU3RyaW5nKCkpO3JldHVybiB5LmVuYy5CYXNlNjQuc3RyaW5naWZ5KGMpfSxpPXtcIkFFUy0yNTYtQ0JDXCI6e3Byb2M6dCxlcHJvYzpyLGtleWxlbjozMixpdmxlbjoxNn0sXCJBRVMtMTkyLUNCQ1wiOntwcm9jOnQsZXByb2M6cixrZXlsZW46MjQsaXZsZW46MTZ9LFwiQUVTLTEyOC1DQkNcIjp7cHJvYzp0LGVwcm9jOnIsa2V5bGVuOjE2LGl2bGVuOjE2fSxcIkRFUy1FREUzLUNCQ1wiOntwcm9jOmZ1bmN0aW9uIHQocixuLGkpe3JldHVybiBlKHkuVHJpcGxlREVTLHIsbixpKX0sZXByb2M6ZnVuY3Rpb24gdChlLHIsaSl7cmV0dXJuIG4oeS5UcmlwbGVERVMsZSxyLGkpfSxrZXlsZW46MjQsaXZsZW46OH0sXCJERVMtQ0JDXCI6e3Byb2M6ZnVuY3Rpb24gdChyLG4saSl7cmV0dXJuIGUoeS5ERVMscixuLGkpfSxlcHJvYzpmdW5jdGlvbiB0KGUscixpKXtyZXR1cm4gbih5LkRFUyxlLHIsaSl9LGtleWxlbjo4LGl2bGVuOjh9fSxvPWZ1bmN0aW9uIHQoZSl7dmFyIHI9e30sbj1lLm1hdGNoKG5ldyBSZWdFeHAoXCJERUstSW5mbzogKFteLF0rKSwoWzAtOUEtRmEtZl0rKVwiLFwibVwiKSk7biYmKHIuY2lwaGVyPW5bMV0sci5pdnNhbHQ9blsyXSk7dmFyIGk9ZS5tYXRjaChuZXcgUmVnRXhwKFwiLS0tLS1CRUdJTiAoW0EtWl0rKSBQUklWQVRFIEtFWS0tLS0tXCIpKTtpJiYoci50eXBlPWlbMV0pO3ZhciBvPS0xLHM9MDstMSE9ZS5pbmRleE9mKFwiXFxyXFxuXFxyXFxuXCIpJiYobz1lLmluZGV4T2YoXCJcXHJcXG5cXHJcXG5cIikscz0yKSwtMSE9ZS5pbmRleE9mKFwiXFxuXFxuXCIpJiYobz1lLmluZGV4T2YoXCJcXG5cXG5cIikscz0xKTt2YXIgYT1lLmluZGV4T2YoXCItLS0tLUVORFwiKTtpZigtMSE9byYmLTEhPWEpe3ZhciB1PWUuc3Vic3RyaW5nKG8rMipzLGEtcyk7dT11LnJlcGxhY2UoL1xccysvZyxcIlwiKSxyLmRhdGE9dX1yZXR1cm4gcn0scz1mdW5jdGlvbiB0KGUscixuKXtmb3IodmFyIG89bi5zdWJzdHJpbmcoMCwxNikscz15LmVuYy5IZXgucGFyc2UobyksYT15LmVuYy5VdGY4LnBhcnNlKHIpLHU9aVtlXS5rZXlsZW4raVtlXS5pdmxlbixjPVwiXCIsaD1udWxsOzspe3ZhciBsPXkuYWxnby5NRDUuY3JlYXRlKCk7aWYobnVsbCE9aCYmbC51cGRhdGUoaCksbC51cGRhdGUoYSksbC51cGRhdGUocyksaD1sLmZpbmFsaXplKCksKGMrPXkuZW5jLkhleC5zdHJpbmdpZnkoaCkpLmxlbmd0aD49Mip1KWJyZWFrfXZhciBmPXt9O3JldHVybiBmLmtleWhleD1jLnN1YnN0cigwLDIqaVtlXS5rZXlsZW4pLGYuaXZoZXg9Yy5zdWJzdHIoMippW2VdLmtleWxlbiwyKmlbZV0uaXZsZW4pLGZ9LGE9ZnVuY3Rpb24gdChlLHIsbixvKXt2YXIgcz15LmVuYy5CYXNlNjQucGFyc2UoZSksYT15LmVuYy5IZXguc3RyaW5naWZ5KHMpO3JldHVybigwLGlbcl0ucHJvYykoYSxuLG8pfTtyZXR1cm57dmVyc2lvbjpcIjEuMC4wXCIscGFyc2VQS0NTNVBFTTpmdW5jdGlvbiB0KGUpe3JldHVybiBvKGUpfSxnZXRLZXlBbmRVbnVzZWRJdkJ5UGFzc2NvZGVBbmRJdnNhbHQ6ZnVuY3Rpb24gdChlLHIsbil7cmV0dXJuIHMoZSxyLG4pfSxkZWNyeXB0S2V5QjY0OmZ1bmN0aW9uIHQoZSxyLG4saSl7cmV0dXJuIGEoZSxyLG4saSl9LGdldERlY3J5cHRlZEtleUhleDpmdW5jdGlvbiB0KGUscil7dmFyIG49byhlKSxpPShuLnR5cGUsbi5jaXBoZXIpLHU9bi5pdnNhbHQsYz1uLmRhdGEsaD1zKGkscix1KS5rZXloZXg7cmV0dXJuIGEoYyxpLGgsdSl9LGdldEVuY3J5cHRlZFBLQ1M1UEVNRnJvbVBydktleUhleDpmdW5jdGlvbiB0KGUscixuLG8sYSl7dmFyIHU9XCJcIjtpZih2b2lkIDAhPT1vJiZudWxsIT1vfHwobz1cIkFFUy0yNTYtQ0JDXCIpLHZvaWQgMD09PWlbb10pdGhyb3dcIktFWVVUSUwgdW5zdXBwb3J0ZWQgYWxnb3JpdGhtOiBcIitvO3ZvaWQgMCE9PWEmJm51bGwhPWF8fChhPWZ1bmN0aW9uIHQoZSl7dmFyIHI9eS5saWIuV29yZEFycmF5LnJhbmRvbShlKTtyZXR1cm4geS5lbmMuSGV4LnN0cmluZ2lmeShyKX0oaVtvXS5pdmxlbikudG9VcHBlckNhc2UoKSk7dmFyIGM9ZnVuY3Rpb24gdChlLHIsbixvKXtyZXR1cm4oMCxpW3JdLmVwcm9jKShlLG4sbyl9KHIsbyxzKG8sbixhKS5rZXloZXgsYSk7dT1cIi0tLS0tQkVHSU4gXCIrZStcIiBQUklWQVRFIEtFWS0tLS0tXFxyXFxuXCI7cmV0dXJuIHUrPVwiUHJvYy1UeXBlOiA0LEVOQ1JZUFRFRFxcclxcblwiLHUrPVwiREVLLUluZm86IFwiK28rXCIsXCIrYStcIlxcclxcblwiLHUrPVwiXFxyXFxuXCIsdSs9Yy5yZXBsYWNlKC8oLns2NH0pL2csXCIkMVxcclxcblwiKSx1Kz1cIlxcclxcbi0tLS0tRU5EIFwiK2UrXCIgUFJJVkFURSBLRVktLS0tLVxcclxcblwifSxwYXJzZUhleE9mRW5jcnlwdGVkUEtDUzg6ZnVuY3Rpb24gdChlKXt2YXIgcj1BcixuPXIuZ2V0Q2hpbGRJZHgsaT1yLmdldFYsbz17fSxzPW4oZSwwKTtpZigyIT1zLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMCkuaXRlbXMgIT0gMjogXCIrcy5sZW5ndGg7by5jaXBoZXJ0ZXh0PWkoZSxzWzFdKTt2YXIgYT1uKGUsc1swXSk7aWYoMiE9YS5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBmb3JtYXQ6IFNFUVVFTkNFKDAuMCkuaXRlbXMgIT0gMjogXCIrYS5sZW5ndGg7aWYoXCIyYTg2NDg4NmY3MGQwMTA1MGRcIiE9aShlLGFbMF0pKXRocm93XCJ0aGlzIG9ubHkgc3VwcG9ydHMgcGtjczVQQkVTMlwiO3ZhciB1PW4oZSxhWzFdKTtpZigyIT1hLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMC4wLjEpLml0ZW1zICE9IDI6IFwiK3UubGVuZ3RoO3ZhciBjPW4oZSx1WzFdKTtpZigyIT1jLmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMC4wLjEuMSkuaXRlbXMgIT0gMjogXCIrYy5sZW5ndGg7aWYoXCIyYTg2NDg4NmY3MGQwMzA3XCIhPWkoZSxjWzBdKSl0aHJvd1widGhpcyBvbmx5IHN1cHBvcnRzIFRyaXBsZURFU1wiO28uZW5jcnlwdGlvblNjaGVtZUFsZz1cIlRyaXBsZURFU1wiLG8uZW5jcnlwdGlvblNjaGVtZUlWPWkoZSxjWzFdKTt2YXIgaD1uKGUsdVswXSk7aWYoMiE9aC5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBmb3JtYXQ6IFNFUVVFTkNFKDAuMC4xLjApLml0ZW1zICE9IDI6IFwiK2gubGVuZ3RoO2lmKFwiMmE4NjQ4ODZmNzBkMDEwNTBjXCIhPWkoZSxoWzBdKSl0aHJvd1widGhpcyBvbmx5IHN1cHBvcnRzIHBrY3M1UEJLREYyXCI7dmFyIGw9bihlLGhbMV0pO2lmKGwubGVuZ3RoPDIpdGhyb3dcIm1hbGZvcm1lZCBmb3JtYXQ6IFNFUVVFTkNFKDAuMC4xLjAuMSkuaXRlbXMgPCAyOiBcIitsLmxlbmd0aDtvLnBia2RmMlNhbHQ9aShlLGxbMF0pO3ZhciBmPWkoZSxsWzFdKTt0cnl7by5wYmtkZjJJdGVyPXBhcnNlSW50KGYsMTYpfWNhdGNoKHQpe3Rocm93XCJtYWxmb3JtZWQgZm9ybWF0IHBia2RmMkl0ZXI6IFwiK2Z9cmV0dXJuIG99LGdldFBCS0RGMktleUhleEZyb21QYXJhbTpmdW5jdGlvbiB0KGUscil7dmFyIG49eS5lbmMuSGV4LnBhcnNlKGUucGJrZGYyU2FsdCksaT1lLnBia2RmMkl0ZXIsbz15LlBCS0RGMihyLG4se2tleVNpemU6NixpdGVyYXRpb25zOml9KTtyZXR1cm4geS5lbmMuSGV4LnN0cmluZ2lmeShvKX0sX2dldFBsYWluUEtDUzhIZXhGcm9tRW5jcnlwdGVkUEtDUzhQRU06ZnVuY3Rpb24gdChlLHIpe3ZhciBuPXFyKGUsXCJFTkNSWVBURUQgUFJJVkFURSBLRVlcIiksaT10aGlzLnBhcnNlSGV4T2ZFbmNyeXB0ZWRQS0NTOChuKSxvPXRuLmdldFBCS0RGMktleUhleEZyb21QYXJhbShpLHIpLHM9e307cy5jaXBoZXJ0ZXh0PXkuZW5jLkhleC5wYXJzZShpLmNpcGhlcnRleHQpO3ZhciBhPXkuZW5jLkhleC5wYXJzZShvKSx1PXkuZW5jLkhleC5wYXJzZShpLmVuY3J5cHRpb25TY2hlbWVJViksYz15LlRyaXBsZURFUy5kZWNyeXB0KHMsYSx7aXY6dX0pO3JldHVybiB5LmVuYy5IZXguc3RyaW5naWZ5KGMpfSxnZXRLZXlGcm9tRW5jcnlwdGVkUEtDUzhQRU06ZnVuY3Rpb24gdChlLHIpe3ZhciBuPXRoaXMuX2dldFBsYWluUEtDUzhIZXhGcm9tRW5jcnlwdGVkUEtDUzhQRU0oZSxyKTtyZXR1cm4gdGhpcy5nZXRLZXlGcm9tUGxhaW5Qcml2YXRlUEtDUzhIZXgobil9LHBhcnNlUGxhaW5Qcml2YXRlUEtDUzhIZXg6ZnVuY3Rpb24gdChlKXt2YXIgcj1BcixuPXIuZ2V0Q2hpbGRJZHgsaT1yLmdldFYsbz17YWxncGFyYW06bnVsbH07aWYoXCIzMFwiIT1lLnN1YnN0cigwLDIpKXRocm93XCJtYWxmb3JtZWQgcGxhaW4gUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDEpXCI7dmFyIHM9bihlLDApO2lmKDMhPXMubGVuZ3RoKXRocm93XCJtYWxmb3JtZWQgcGxhaW4gUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDIpXCI7aWYoXCIzMFwiIT1lLnN1YnN0cihzWzFdLDIpKXRocm93XCJtYWxmb3JtZWQgUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDMpXCI7dmFyIGE9bihlLHNbMV0pO2lmKDIhPWEubGVuZ3RoKXRocm93XCJtYWxmb3JtZWQgUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDQpXCI7aWYoXCIwNlwiIT1lLnN1YnN0cihhWzBdLDIpKXRocm93XCJtYWxmb3JtZWQgUEtDUzggcHJpdmF0ZSBrZXkoY29kZTowMDUpXCI7aWYoby5hbGdvaWQ9aShlLGFbMF0pLFwiMDZcIj09ZS5zdWJzdHIoYVsxXSwyKSYmKG8uYWxncGFyYW09aShlLGFbMV0pKSxcIjA0XCIhPWUuc3Vic3RyKHNbMl0sMikpdGhyb3dcIm1hbGZvcm1lZCBQS0NTOCBwcml2YXRlIGtleShjb2RlOjAwNilcIjtyZXR1cm4gby5rZXlpZHg9ci5nZXRWaWR4KGUsc1syXSksb30sZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4UEVNOmZ1bmN0aW9uIHQoZSl7dmFyIHI9cXIoZSxcIlBSSVZBVEUgS0VZXCIpO3JldHVybiB0aGlzLmdldEtleUZyb21QbGFpblByaXZhdGVQS0NTOEhleChyKX0sZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4SGV4OmZ1bmN0aW9uIHQoZSl7dmFyIHIsbj10aGlzLnBhcnNlUGxhaW5Qcml2YXRlUEtDUzhIZXgoZSk7aWYoXCIyYTg2NDg4NmY3MGQwMTAxMDFcIj09bi5hbGdvaWQpcj1uZXcgcWU7ZWxzZSBpZihcIjJhODY0OGNlMzgwNDAxXCI9PW4uYWxnb2lkKXI9bmV3IEVyLmNyeXB0by5EU0E7ZWxzZXtpZihcIjJhODY0OGNlM2QwMjAxXCIhPW4uYWxnb2lkKXRocm93XCJ1bnN1cHBvcnRlZCBwcml2YXRlIGtleSBhbGdvcml0aG1cIjtyPW5ldyBFci5jcnlwdG8uRUNEU0F9cmV0dXJuIHIucmVhZFBLQ1M4UHJ2S2V5SGV4KGUpLHJ9LF9nZXRLZXlGcm9tUHVibGljUEtDUzhIZXg6ZnVuY3Rpb24gdChlKXt2YXIgcixuPUFyLmdldFZieUxpc3QoZSwwLFswLDBdLFwiMDZcIik7aWYoXCIyYTg2NDg4NmY3MGQwMTAxMDFcIj09PW4pcj1uZXcgcWU7ZWxzZSBpZihcIjJhODY0OGNlMzgwNDAxXCI9PT1uKXI9bmV3IEVyLmNyeXB0by5EU0E7ZWxzZXtpZihcIjJhODY0OGNlM2QwMjAxXCIhPT1uKXRocm93XCJ1bnN1cHBvcnRlZCBQS0NTIzggcHVibGljIGtleSBoZXhcIjtyPW5ldyBFci5jcnlwdG8uRUNEU0F9cmV0dXJuIHIucmVhZFBLQ1M4UHViS2V5SGV4KGUpLHJ9LHBhcnNlUHVibGljUmF3UlNBS2V5SGV4OmZ1bmN0aW9uIHQoZSl7dmFyIHI9QXIsbj1yLmdldENoaWxkSWR4LGk9ci5nZXRWLG89e307aWYoXCIzMFwiIT1lLnN1YnN0cigwLDIpKXRocm93XCJtYWxmb3JtZWQgUlNBIGtleShjb2RlOjAwMSlcIjt2YXIgcz1uKGUsMCk7aWYoMiE9cy5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBSU0Ega2V5KGNvZGU6MDAyKVwiO2lmKFwiMDJcIiE9ZS5zdWJzdHIoc1swXSwyKSl0aHJvd1wibWFsZm9ybWVkIFJTQSBrZXkoY29kZTowMDMpXCI7aWYoby5uPWkoZSxzWzBdKSxcIjAyXCIhPWUuc3Vic3RyKHNbMV0sMikpdGhyb3dcIm1hbGZvcm1lZCBSU0Ega2V5KGNvZGU6MDA0KVwiO3JldHVybiBvLmU9aShlLHNbMV0pLG99LHBhcnNlUHVibGljUEtDUzhIZXg6ZnVuY3Rpb24gdChlKXt2YXIgcj1BcixuPXIuZ2V0Q2hpbGRJZHgsaT1yLmdldFYsbz17YWxncGFyYW06bnVsbH0scz1uKGUsMCk7aWYoMiE9cy5sZW5ndGgpdGhyb3dcIm91dGVyIERFUlNlcXVlbmNlIHNoYWxsIGhhdmUgMiBlbGVtZW50czogXCIrcy5sZW5ndGg7dmFyIGE9c1swXTtpZihcIjMwXCIhPWUuc3Vic3RyKGEsMikpdGhyb3dcIm1hbGZvcm1lZCBQS0NTOCBwdWJsaWMga2V5KGNvZGU6MDAxKVwiO3ZhciB1PW4oZSxhKTtpZigyIT11Lmxlbmd0aCl0aHJvd1wibWFsZm9ybWVkIFBLQ1M4IHB1YmxpYyBrZXkoY29kZTowMDIpXCI7aWYoXCIwNlwiIT1lLnN1YnN0cih1WzBdLDIpKXRocm93XCJtYWxmb3JtZWQgUEtDUzggcHVibGljIGtleShjb2RlOjAwMylcIjtpZihvLmFsZ29pZD1pKGUsdVswXSksXCIwNlwiPT1lLnN1YnN0cih1WzFdLDIpP28uYWxncGFyYW09aShlLHVbMV0pOlwiMzBcIj09ZS5zdWJzdHIodVsxXSwyKSYmKG8uYWxncGFyYW09e30sby5hbGdwYXJhbS5wPXIuZ2V0VmJ5TGlzdChlLHVbMV0sWzBdLFwiMDJcIiksby5hbGdwYXJhbS5xPXIuZ2V0VmJ5TGlzdChlLHVbMV0sWzFdLFwiMDJcIiksby5hbGdwYXJhbS5nPXIuZ2V0VmJ5TGlzdChlLHVbMV0sWzJdLFwiMDJcIikpLFwiMDNcIiE9ZS5zdWJzdHIoc1sxXSwyKSl0aHJvd1wibWFsZm9ybWVkIFBLQ1M4IHB1YmxpYyBrZXkoY29kZTowMDQpXCI7cmV0dXJuIG8ua2V5PWkoZSxzWzFdKS5zdWJzdHIoMiksb319fSgpO3RuLmdldEtleT1mdW5jdGlvbih0LGUscil7dmFyIG49KHY9QXIpLmdldENoaWxkSWR4LGk9KHYuZ2V0Vix2LmdldFZieUxpc3QpLG89RXIuY3J5cHRvLHM9by5FQ0RTQSxhPW8uRFNBLHU9cWUsYz1xcixoPXRuO2lmKHZvaWQgMCE9PXUmJnQgaW5zdGFuY2VvZiB1KXJldHVybiB0O2lmKHZvaWQgMCE9PXMmJnQgaW5zdGFuY2VvZiBzKXJldHVybiB0O2lmKHZvaWQgMCE9PWEmJnQgaW5zdGFuY2VvZiBhKXJldHVybiB0O2lmKHZvaWQgMCE9PXQuY3VydmUmJnZvaWQgMCE9PXQueHkmJnZvaWQgMD09PXQuZClyZXR1cm4gbmV3IHMoe3B1Yjp0Lnh5LGN1cnZlOnQuY3VydmV9KTtpZih2b2lkIDAhPT10LmN1cnZlJiZ2b2lkIDAhPT10LmQpcmV0dXJuIG5ldyBzKHtwcnY6dC5kLGN1cnZlOnQuY3VydmV9KTtpZih2b2lkIDA9PT10Lmt0eSYmdm9pZCAwIT09dC5uJiZ2b2lkIDAhPT10LmUmJnZvaWQgMD09PXQuZClyZXR1cm4oUD1uZXcgdSkuc2V0UHVibGljKHQubix0LmUpLFA7aWYodm9pZCAwPT09dC5rdHkmJnZvaWQgMCE9PXQubiYmdm9pZCAwIT09dC5lJiZ2b2lkIDAhPT10LmQmJnZvaWQgMCE9PXQucCYmdm9pZCAwIT09dC5xJiZ2b2lkIDAhPT10LmRwJiZ2b2lkIDAhPT10LmRxJiZ2b2lkIDAhPT10LmNvJiZ2b2lkIDA9PT10LnFpKXJldHVybihQPW5ldyB1KS5zZXRQcml2YXRlRXgodC5uLHQuZSx0LmQsdC5wLHQucSx0LmRwLHQuZHEsdC5jbyksUDtpZih2b2lkIDA9PT10Lmt0eSYmdm9pZCAwIT09dC5uJiZ2b2lkIDAhPT10LmUmJnZvaWQgMCE9PXQuZCYmdm9pZCAwPT09dC5wKXJldHVybihQPW5ldyB1KS5zZXRQcml2YXRlKHQubix0LmUsdC5kKSxQO2lmKHZvaWQgMCE9PXQucCYmdm9pZCAwIT09dC5xJiZ2b2lkIDAhPT10LmcmJnZvaWQgMCE9PXQueSYmdm9pZCAwPT09dC54KXJldHVybihQPW5ldyBhKS5zZXRQdWJsaWModC5wLHQucSx0LmcsdC55KSxQO2lmKHZvaWQgMCE9PXQucCYmdm9pZCAwIT09dC5xJiZ2b2lkIDAhPT10LmcmJnZvaWQgMCE9PXQueSYmdm9pZCAwIT09dC54KXJldHVybihQPW5ldyBhKS5zZXRQcml2YXRlKHQucCx0LnEsdC5nLHQueSx0LngpLFA7aWYoXCJSU0FcIj09PXQua3R5JiZ2b2lkIDAhPT10Lm4mJnZvaWQgMCE9PXQuZSYmdm9pZCAwPT09dC5kKXJldHVybihQPW5ldyB1KS5zZXRQdWJsaWMoTHIodC5uKSxMcih0LmUpKSxQO2lmKFwiUlNBXCI9PT10Lmt0eSYmdm9pZCAwIT09dC5uJiZ2b2lkIDAhPT10LmUmJnZvaWQgMCE9PXQuZCYmdm9pZCAwIT09dC5wJiZ2b2lkIDAhPT10LnEmJnZvaWQgMCE9PXQuZHAmJnZvaWQgMCE9PXQuZHEmJnZvaWQgMCE9PXQucWkpcmV0dXJuKFA9bmV3IHUpLnNldFByaXZhdGVFeChMcih0Lm4pLExyKHQuZSksTHIodC5kKSxMcih0LnApLExyKHQucSksTHIodC5kcCksTHIodC5kcSksTHIodC5xaSkpLFA7aWYoXCJSU0FcIj09PXQua3R5JiZ2b2lkIDAhPT10Lm4mJnZvaWQgMCE9PXQuZSYmdm9pZCAwIT09dC5kKXJldHVybihQPW5ldyB1KS5zZXRQcml2YXRlKExyKHQubiksTHIodC5lKSxMcih0LmQpKSxQO2lmKFwiRUNcIj09PXQua3R5JiZ2b2lkIDAhPT10LmNydiYmdm9pZCAwIT09dC54JiZ2b2lkIDAhPT10LnkmJnZvaWQgMD09PXQuZCl7dmFyIGw9KEE9bmV3IHMoe2N1cnZlOnQuY3J2fSkpLmVjcGFyYW1zLmtleWxlbi80LGY9XCIwNFwiKyhcIjAwMDAwMDAwMDBcIitMcih0LngpKS5zbGljZSgtbCkrKFwiMDAwMDAwMDAwMFwiK0xyKHQueSkpLnNsaWNlKC1sKTtyZXR1cm4gQS5zZXRQdWJsaWNLZXlIZXgoZiksQX1pZihcIkVDXCI9PT10Lmt0eSYmdm9pZCAwIT09dC5jcnYmJnZvaWQgMCE9PXQueCYmdm9pZCAwIT09dC55JiZ2b2lkIDAhPT10LmQpe2w9KEE9bmV3IHMoe2N1cnZlOnQuY3J2fSkpLmVjcGFyYW1zLmtleWxlbi80LGY9XCIwNFwiKyhcIjAwMDAwMDAwMDBcIitMcih0LngpKS5zbGljZSgtbCkrKFwiMDAwMDAwMDAwMFwiK0xyKHQueSkpLnNsaWNlKC1sKTt2YXIgZD0oXCIwMDAwMDAwMDAwXCIrTHIodC5kKSkuc2xpY2UoLWwpO3JldHVybiBBLnNldFB1YmxpY0tleUhleChmKSxBLnNldFByaXZhdGVLZXlIZXgoZCksQX1pZihcInBrY3M1cHJ2XCI9PT1yKXt2YXIgZyxwPXQsdj1BcjtpZig5PT09KGc9bihwLDApKS5sZW5ndGgpKFA9bmV3IHUpLnJlYWRQS0NTNVBydktleUhleChwKTtlbHNlIGlmKDY9PT1nLmxlbmd0aCkoUD1uZXcgYSkucmVhZFBLQ1M1UHJ2S2V5SGV4KHApO2Vsc2V7aWYoIShnLmxlbmd0aD4yJiZcIjA0XCI9PT1wLnN1YnN0cihnWzFdLDIpKSl0aHJvd1widW5zdXBwb3J0ZWQgUEtDUyMxLzUgaGV4YWRlY2ltYWwga2V5XCI7KFA9bmV3IHMpLnJlYWRQS0NTNVBydktleUhleChwKX1yZXR1cm4gUH1pZihcInBrY3M4cHJ2XCI9PT1yKXJldHVybiBQPWguZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4SGV4KHQpO2lmKFwicGtjczhwdWJcIj09PXIpcmV0dXJuIGguX2dldEtleUZyb21QdWJsaWNQS0NTOEhleCh0KTtpZihcIng1MDlwdWJcIj09PXIpcmV0dXJuIHNuLmdldFB1YmxpY0tleUZyb21DZXJ0SGV4KHQpO2lmKC0xIT10LmluZGV4T2YoXCItRU5EIENFUlRJRklDQVRFLVwiLDApfHwtMSE9dC5pbmRleE9mKFwiLUVORCBYNTA5IENFUlRJRklDQVRFLVwiLDApfHwtMSE9dC5pbmRleE9mKFwiLUVORCBUUlVTVEVEIENFUlRJRklDQVRFLVwiLDApKXJldHVybiBzbi5nZXRQdWJsaWNLZXlGcm9tQ2VydFBFTSh0KTtpZigtMSE9dC5pbmRleE9mKFwiLUVORCBQVUJMSUMgS0VZLVwiKSl7dmFyIHk9cXIodCxcIlBVQkxJQyBLRVlcIik7cmV0dXJuIGguX2dldEtleUZyb21QdWJsaWNQS0NTOEhleCh5KX1pZigtMSE9dC5pbmRleE9mKFwiLUVORCBSU0EgUFJJVkFURSBLRVktXCIpJiYtMT09dC5pbmRleE9mKFwiNCxFTkNSWVBURURcIikpe3ZhciBtPWModCxcIlJTQSBQUklWQVRFIEtFWVwiKTtyZXR1cm4gaC5nZXRLZXkobSxudWxsLFwicGtjczVwcnZcIil9aWYoLTEhPXQuaW5kZXhPZihcIi1FTkQgRFNBIFBSSVZBVEUgS0VZLVwiKSYmLTE9PXQuaW5kZXhPZihcIjQsRU5DUllQVEVEXCIpKXt2YXIgXz1pKFI9Yyh0LFwiRFNBIFBSSVZBVEUgS0VZXCIpLDAsWzFdLFwiMDJcIiksUz1pKFIsMCxbMl0sXCIwMlwiKSxGPWkoUiwwLFszXSxcIjAyXCIpLGI9aShSLDAsWzRdLFwiMDJcIiksdz1pKFIsMCxbNV0sXCIwMlwiKTtyZXR1cm4oUD1uZXcgYSkuc2V0UHJpdmF0ZShuZXcgRShfLDE2KSxuZXcgRShTLDE2KSxuZXcgRShGLDE2KSxuZXcgRShiLDE2KSxuZXcgRSh3LDE2KSksUH1pZigtMSE9dC5pbmRleE9mKFwiLUVORCBQUklWQVRFIEtFWS1cIikpcmV0dXJuIGguZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4UEVNKHQpO2lmKC0xIT10LmluZGV4T2YoXCItRU5EIFJTQSBQUklWQVRFIEtFWS1cIikmJi0xIT10LmluZGV4T2YoXCI0LEVOQ1JZUFRFRFwiKSl7dmFyIHg9aC5nZXREZWNyeXB0ZWRLZXlIZXgodCxlKSxrPW5ldyBxZTtyZXR1cm4gay5yZWFkUEtDUzVQcnZLZXlIZXgoeCksa31pZigtMSE9dC5pbmRleE9mKFwiLUVORCBFQyBQUklWQVRFIEtFWS1cIikmJi0xIT10LmluZGV4T2YoXCI0LEVOQ1JZUFRFRFwiKSl7dmFyIEEsUD1pKFI9aC5nZXREZWNyeXB0ZWRLZXlIZXgodCxlKSwwLFsxXSxcIjA0XCIpLEM9aShSLDAsWzIsMF0sXCIwNlwiKSxUPWkoUiwwLFszLDBdLFwiMDNcIikuc3Vic3RyKDIpO2lmKHZvaWQgMD09PUVyLmNyeXB0by5PSUQub2lkaGV4Mm5hbWVbQ10pdGhyb3dcInVuZGVmaW5lZCBPSUQoaGV4KSBpbiBLSlVSLmNyeXB0by5PSUQ6IFwiK0M7cmV0dXJuKEE9bmV3IHMoe2N1cnZlOkVyLmNyeXB0by5PSUQub2lkaGV4Mm5hbWVbQ119KSkuc2V0UHVibGljS2V5SGV4KFQpLEEuc2V0UHJpdmF0ZUtleUhleChQKSxBLmlzUHVibGljPSExLEF9aWYoLTEhPXQuaW5kZXhPZihcIi1FTkQgRFNBIFBSSVZBVEUgS0VZLVwiKSYmLTEhPXQuaW5kZXhPZihcIjQsRU5DUllQVEVEXCIpKXt2YXIgUjtfPWkoUj1oLmdldERlY3J5cHRlZEtleUhleCh0LGUpLDAsWzFdLFwiMDJcIiksUz1pKFIsMCxbMl0sXCIwMlwiKSxGPWkoUiwwLFszXSxcIjAyXCIpLGI9aShSLDAsWzRdLFwiMDJcIiksdz1pKFIsMCxbNV0sXCIwMlwiKTtyZXR1cm4oUD1uZXcgYSkuc2V0UHJpdmF0ZShuZXcgRShfLDE2KSxuZXcgRShTLDE2KSxuZXcgRShGLDE2KSxuZXcgRShiLDE2KSxuZXcgRSh3LDE2KSksUH1pZigtMSE9dC5pbmRleE9mKFwiLUVORCBFTkNSWVBURUQgUFJJVkFURSBLRVktXCIpKXJldHVybiBoLmdldEtleUZyb21FbmNyeXB0ZWRQS0NTOFBFTSh0LGUpO3Rocm93XCJub3Qgc3VwcG9ydGVkIGFyZ3VtZW50XCJ9LHRuLmdlbmVyYXRlS2V5cGFpcj1mdW5jdGlvbih0LGUpe2lmKFwiUlNBXCI9PXQpe3ZhciByPWU7KHM9bmV3IHFlKS5nZW5lcmF0ZShyLFwiMTAwMDFcIikscy5pc1ByaXZhdGU9ITAscy5pc1B1YmxpYz0hMDt2YXIgbj1uZXcgcWUsaT1zLm4udG9TdHJpbmcoMTYpLG89cy5lLnRvU3RyaW5nKDE2KTtyZXR1cm4gbi5zZXRQdWJsaWMoaSxvKSxuLmlzUHJpdmF0ZT0hMSxuLmlzUHVibGljPSEwLChhPXt9KS5wcnZLZXlPYmo9cyxhLnB1YktleU9iaj1uLGF9aWYoXCJFQ1wiPT10KXt2YXIgcyxhLHU9ZSxjPW5ldyBFci5jcnlwdG8uRUNEU0Eoe2N1cnZlOnV9KS5nZW5lcmF0ZUtleVBhaXJIZXgoKTtyZXR1cm4ocz1uZXcgRXIuY3J5cHRvLkVDRFNBKHtjdXJ2ZTp1fSkpLnNldFB1YmxpY0tleUhleChjLmVjcHViaGV4KSxzLnNldFByaXZhdGVLZXlIZXgoYy5lY3BydmhleCkscy5pc1ByaXZhdGU9ITAscy5pc1B1YmxpYz0hMSwobj1uZXcgRXIuY3J5cHRvLkVDRFNBKHtjdXJ2ZTp1fSkpLnNldFB1YmxpY0tleUhleChjLmVjcHViaGV4KSxuLmlzUHJpdmF0ZT0hMSxuLmlzUHVibGljPSEwLChhPXt9KS5wcnZLZXlPYmo9cyxhLnB1YktleU9iaj1uLGF9dGhyb3dcInVua25vd24gYWxnb3JpdGhtOiBcIit0fSx0bi5nZXRQRU09ZnVuY3Rpb24odCxlLHIsbixpLG8pe3ZhciBzPUVyLGE9cy5hc24xLHU9YS5ERVJPYmplY3RJZGVudGlmaWVyLGM9YS5ERVJJbnRlZ2VyLGg9YS5BU04xVXRpbC5uZXdPYmplY3QsbD1hLng1MDkuU3ViamVjdFB1YmxpY0tleUluZm8sZj1zLmNyeXB0byxkPWYuRFNBLGc9Zi5FQ0RTQSxwPXFlO2Z1bmN0aW9uIHYodCl7cmV0dXJuIGgoe3NlcTpbe2ludDowfSx7aW50OntiaWdpbnQ6dC5ufX0se2ludDp0LmV9LHtpbnQ6e2JpZ2ludDp0LmR9fSx7aW50OntiaWdpbnQ6dC5wfX0se2ludDp7YmlnaW50OnQucX19LHtpbnQ6e2JpZ2ludDp0LmRtcDF9fSx7aW50OntiaWdpbnQ6dC5kbXExfX0se2ludDp7YmlnaW50OnQuY29lZmZ9fV19KX1mdW5jdGlvbiBtKHQpe3JldHVybiBoKHtzZXE6W3tpbnQ6MX0se29jdHN0cjp7aGV4OnQucHJ2S2V5SGV4fX0se3RhZzpbXCJhMFwiLCEwLHtvaWQ6e25hbWU6dC5jdXJ2ZU5hbWV9fV19LHt0YWc6W1wiYTFcIiwhMCx7Yml0c3RyOntoZXg6XCIwMFwiK3QucHViS2V5SGV4fX1dfV19KX1mdW5jdGlvbiBfKHQpe3JldHVybiBoKHtzZXE6W3tpbnQ6MH0se2ludDp7YmlnaW50OnQucH19LHtpbnQ6e2JpZ2ludDp0LnF9fSx7aW50OntiaWdpbnQ6dC5nfX0se2ludDp7YmlnaW50OnQueX19LHtpbnQ6e2JpZ2ludDp0Lnh9fV19KX1pZigodm9pZCAwIT09cCYmdCBpbnN0YW5jZW9mIHB8fHZvaWQgMCE9PWQmJnQgaW5zdGFuY2VvZiBkfHx2b2lkIDAhPT1nJiZ0IGluc3RhbmNlb2YgZykmJjE9PXQuaXNQdWJsaWMmJih2b2lkIDA9PT1lfHxcIlBLQ1M4UFVCXCI9PWUpKXJldHVybiBWcih3PW5ldyBsKHQpLmdldEVuY29kZWRIZXgoKSxcIlBVQkxJQyBLRVlcIik7aWYoXCJQS0NTMVBSVlwiPT1lJiZ2b2lkIDAhPT1wJiZ0IGluc3RhbmNlb2YgcCYmKHZvaWQgMD09PXJ8fG51bGw9PXIpJiYxPT10LmlzUHJpdmF0ZSlyZXR1cm4gVnIodz12KHQpLmdldEVuY29kZWRIZXgoKSxcIlJTQSBQUklWQVRFIEtFWVwiKTtpZihcIlBLQ1MxUFJWXCI9PWUmJnZvaWQgMCE9PWcmJnQgaW5zdGFuY2VvZiBnJiYodm9pZCAwPT09cnx8bnVsbD09cikmJjE9PXQuaXNQcml2YXRlKXt2YXIgUz1uZXcgdSh7bmFtZTp0LmN1cnZlTmFtZX0pLmdldEVuY29kZWRIZXgoKSxGPW0odCkuZ2V0RW5jb2RlZEhleCgpLGI9XCJcIjtyZXR1cm4gYis9VnIoUyxcIkVDIFBBUkFNRVRFUlNcIiksYis9VnIoRixcIkVDIFBSSVZBVEUgS0VZXCIpfWlmKFwiUEtDUzFQUlZcIj09ZSYmdm9pZCAwIT09ZCYmdCBpbnN0YW5jZW9mIGQmJih2b2lkIDA9PT1yfHxudWxsPT1yKSYmMT09dC5pc1ByaXZhdGUpcmV0dXJuIFZyKHc9Xyh0KS5nZXRFbmNvZGVkSGV4KCksXCJEU0EgUFJJVkFURSBLRVlcIik7aWYoXCJQS0NTNVBSVlwiPT1lJiZ2b2lkIDAhPT1wJiZ0IGluc3RhbmNlb2YgcCYmdm9pZCAwIT09ciYmbnVsbCE9ciYmMT09dC5pc1ByaXZhdGUpe3ZhciB3PXYodCkuZ2V0RW5jb2RlZEhleCgpO3JldHVybiB2b2lkIDA9PT1uJiYobj1cIkRFUy1FREUzLUNCQ1wiKSx0aGlzLmdldEVuY3J5cHRlZFBLQ1M1UEVNRnJvbVBydktleUhleChcIlJTQVwiLHcscixuLG8pfWlmKFwiUEtDUzVQUlZcIj09ZSYmdm9pZCAwIT09ZyYmdCBpbnN0YW5jZW9mIGcmJnZvaWQgMCE9PXImJm51bGwhPXImJjE9PXQuaXNQcml2YXRlKXt3PW0odCkuZ2V0RW5jb2RlZEhleCgpO3JldHVybiB2b2lkIDA9PT1uJiYobj1cIkRFUy1FREUzLUNCQ1wiKSx0aGlzLmdldEVuY3J5cHRlZFBLQ1M1UEVNRnJvbVBydktleUhleChcIkVDXCIsdyxyLG4sbyl9aWYoXCJQS0NTNVBSVlwiPT1lJiZ2b2lkIDAhPT1kJiZ0IGluc3RhbmNlb2YgZCYmdm9pZCAwIT09ciYmbnVsbCE9ciYmMT09dC5pc1ByaXZhdGUpe3c9Xyh0KS5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHZvaWQgMD09PW4mJihuPVwiREVTLUVERTMtQ0JDXCIpLHRoaXMuZ2V0RW5jcnlwdGVkUEtDUzVQRU1Gcm9tUHJ2S2V5SGV4KFwiRFNBXCIsdyxyLG4sbyl9dmFyIEU9ZnVuY3Rpb24gdChlLHIpe3ZhciBuPXgoZSxyKTtyZXR1cm4gbmV3IGgoe3NlcTpbe3NlcTpbe29pZDp7bmFtZTpcInBrY3M1UEJFUzJcIn19LHtzZXE6W3tzZXE6W3tvaWQ6e25hbWU6XCJwa2NzNVBCS0RGMlwifX0se3NlcTpbe29jdHN0cjp7aGV4Om4ucGJrZGYyU2FsdH19LHtpbnQ6bi5wYmtkZjJJdGVyfV19XX0se3NlcTpbe29pZDp7bmFtZTpcImRlcy1FREUzLUNCQ1wifX0se29jdHN0cjp7aGV4Om4uZW5jcnlwdGlvblNjaGVtZUlWfX1dfV19XX0se29jdHN0cjp7aGV4Om4uY2lwaGVydGV4dH19XX0pLmdldEVuY29kZWRIZXgoKX0seD1mdW5jdGlvbiB0KGUscil7dmFyIG49eS5saWIuV29yZEFycmF5LnJhbmRvbSg4KSxpPXkubGliLldvcmRBcnJheS5yYW5kb20oOCksbz15LlBCS0RGMihyLG4se2tleVNpemU6NixpdGVyYXRpb25zOjEwMH0pLHM9eS5lbmMuSGV4LnBhcnNlKGUpLGE9eS5UcmlwbGVERVMuZW5jcnlwdChzLG8se2l2Oml9KStcIlwiLHU9e307cmV0dXJuIHUuY2lwaGVydGV4dD1hLHUucGJrZGYyU2FsdD15LmVuYy5IZXguc3RyaW5naWZ5KG4pLHUucGJrZGYySXRlcj0xMDAsdS5lbmNyeXB0aW9uU2NoZW1lQWxnPVwiREVTLUVERTMtQ0JDXCIsdS5lbmNyeXB0aW9uU2NoZW1lSVY9eS5lbmMuSGV4LnN0cmluZ2lmeShpKSx1fTtpZihcIlBLQ1M4UFJWXCI9PWUmJnZvaWQgMCE9cCYmdCBpbnN0YW5jZW9mIHAmJjE9PXQuaXNQcml2YXRlKXt2YXIgaz12KHQpLmdldEVuY29kZWRIZXgoKTt3PWgoe3NlcTpbe2ludDowfSx7c2VxOlt7b2lkOntuYW1lOlwicnNhRW5jcnlwdGlvblwifX0se251bGw6ITB9XX0se29jdHN0cjp7aGV4Omt9fV19KS5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHZvaWQgMD09PXJ8fG51bGw9PXI/VnIodyxcIlBSSVZBVEUgS0VZXCIpOlZyKEY9RSh3LHIpLFwiRU5DUllQVEVEIFBSSVZBVEUgS0VZXCIpfWlmKFwiUEtDUzhQUlZcIj09ZSYmdm9pZCAwIT09ZyYmdCBpbnN0YW5jZW9mIGcmJjE9PXQuaXNQcml2YXRlKXtrPW5ldyBoKHtzZXE6W3tpbnQ6MX0se29jdHN0cjp7aGV4OnQucHJ2S2V5SGV4fX0se3RhZzpbXCJhMVwiLCEwLHtiaXRzdHI6e2hleDpcIjAwXCIrdC5wdWJLZXlIZXh9fV19XX0pLmdldEVuY29kZWRIZXgoKSx3PWgoe3NlcTpbe2ludDowfSx7c2VxOlt7b2lkOntuYW1lOlwiZWNQdWJsaWNLZXlcIn19LHtvaWQ6e25hbWU6dC5jdXJ2ZU5hbWV9fV19LHtvY3RzdHI6e2hleDprfX1dfSkuZ2V0RW5jb2RlZEhleCgpO3JldHVybiB2b2lkIDA9PT1yfHxudWxsPT1yP1ZyKHcsXCJQUklWQVRFIEtFWVwiKTpWcihGPUUodyxyKSxcIkVOQ1JZUFRFRCBQUklWQVRFIEtFWVwiKX1pZihcIlBLQ1M4UFJWXCI9PWUmJnZvaWQgMCE9PWQmJnQgaW5zdGFuY2VvZiBkJiYxPT10LmlzUHJpdmF0ZSl7az1uZXcgYyh7YmlnaW50OnQueH0pLmdldEVuY29kZWRIZXgoKSx3PWgoe3NlcTpbe2ludDowfSx7c2VxOlt7b2lkOntuYW1lOlwiZHNhXCJ9fSx7c2VxOlt7aW50OntiaWdpbnQ6dC5wfX0se2ludDp7YmlnaW50OnQucX19LHtpbnQ6e2JpZ2ludDp0Lmd9fV19XX0se29jdHN0cjp7aGV4Omt9fV19KS5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHZvaWQgMD09PXJ8fG51bGw9PXI/VnIodyxcIlBSSVZBVEUgS0VZXCIpOlZyKEY9RSh3LHIpLFwiRU5DUllQVEVEIFBSSVZBVEUgS0VZXCIpfXRocm93XCJ1bnN1cHBvcnRlZCBvYmplY3Qgbm9yIGZvcm1hdFwifSx0bi5nZXRLZXlGcm9tQ1NSUEVNPWZ1bmN0aW9uKHQpe3ZhciBlPXFyKHQsXCJDRVJUSUZJQ0FURSBSRVFVRVNUXCIpO3JldHVybiB0bi5nZXRLZXlGcm9tQ1NSSGV4KGUpfSx0bi5nZXRLZXlGcm9tQ1NSSGV4PWZ1bmN0aW9uKHQpe3ZhciBlPXRuLnBhcnNlQ1NSSGV4KHQpO3JldHVybiB0bi5nZXRLZXkoZS5wOHB1YmtleWhleCxudWxsLFwicGtjczhwdWJcIil9LHRuLnBhcnNlQ1NSSGV4PWZ1bmN0aW9uKHQpe3ZhciBlPUFyLHI9ZS5nZXRDaGlsZElkeCxuPWUuZ2V0VExWLGk9e30sbz10O2lmKFwiMzBcIiE9by5zdWJzdHIoMCwyKSl0aHJvd1wibWFsZm9ybWVkIENTUihjb2RlOjAwMSlcIjt2YXIgcz1yKG8sMCk7aWYocy5sZW5ndGg8MSl0aHJvd1wibWFsZm9ybWVkIENTUihjb2RlOjAwMilcIjtpZihcIjMwXCIhPW8uc3Vic3RyKHNbMF0sMikpdGhyb3dcIm1hbGZvcm1lZCBDU1IoY29kZTowMDMpXCI7dmFyIGE9cihvLHNbMF0pO2lmKGEubGVuZ3RoPDMpdGhyb3dcIm1hbGZvcm1lZCBDU1IoY29kZTowMDQpXCI7cmV0dXJuIGkucDhwdWJrZXloZXg9bihvLGFbMl0pLGl9LHRuLmdldEpXS0Zyb21LZXk9ZnVuY3Rpb24odCl7dmFyIGU9e307aWYodCBpbnN0YW5jZW9mIHFlJiZ0LmlzUHJpdmF0ZSlyZXR1cm4gZS5rdHk9XCJSU0FcIixlLm49VXIodC5uLnRvU3RyaW5nKDE2KSksZS5lPVVyKHQuZS50b1N0cmluZygxNikpLGUuZD1Vcih0LmQudG9TdHJpbmcoMTYpKSxlLnA9VXIodC5wLnRvU3RyaW5nKDE2KSksZS5xPVVyKHQucS50b1N0cmluZygxNikpLGUuZHA9VXIodC5kbXAxLnRvU3RyaW5nKDE2KSksZS5kcT1Vcih0LmRtcTEudG9TdHJpbmcoMTYpKSxlLnFpPVVyKHQuY29lZmYudG9TdHJpbmcoMTYpKSxlO2lmKHQgaW5zdGFuY2VvZiBxZSYmdC5pc1B1YmxpYylyZXR1cm4gZS5rdHk9XCJSU0FcIixlLm49VXIodC5uLnRvU3RyaW5nKDE2KSksZS5lPVVyKHQuZS50b1N0cmluZygxNikpLGU7aWYodCBpbnN0YW5jZW9mIEVyLmNyeXB0by5FQ0RTQSYmdC5pc1ByaXZhdGUpe2lmKFwiUC0yNTZcIiE9PShuPXQuZ2V0U2hvcnROSVNUUEN1cnZlTmFtZSgpKSYmXCJQLTM4NFwiIT09bil0aHJvd1widW5zdXBwb3J0ZWQgY3VydmUgbmFtZSBmb3IgSldUOiBcIituO3ZhciByPXQuZ2V0UHVibGljS2V5WFlIZXgoKTtyZXR1cm4gZS5rdHk9XCJFQ1wiLGUuY3J2PW4sZS54PVVyKHIueCksZS55PVVyKHIueSksZS5kPVVyKHQucHJ2S2V5SGV4KSxlfWlmKHQgaW5zdGFuY2VvZiBFci5jcnlwdG8uRUNEU0EmJnQuaXNQdWJsaWMpe3ZhciBuO2lmKFwiUC0yNTZcIiE9PShuPXQuZ2V0U2hvcnROSVNUUEN1cnZlTmFtZSgpKSYmXCJQLTM4NFwiIT09bil0aHJvd1widW5zdXBwb3J0ZWQgY3VydmUgbmFtZSBmb3IgSldUOiBcIituO3I9dC5nZXRQdWJsaWNLZXlYWUhleCgpO3JldHVybiBlLmt0eT1cIkVDXCIsZS5jcnY9bixlLng9VXIoci54KSxlLnk9VXIoci55KSxlfXRocm93XCJub3Qgc3VwcG9ydGVkIGtleSBvYmplY3RcIn0scWUuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuRnJvbUhleD1mdW5jdGlvbih0KXtyZXR1cm4gQXIuZ2V0Q2hpbGRJZHgodCwwKX0scWUuZ2V0SGV4VmFsdWVBcnJheU9mQ2hpbGRyZW5Gcm9tSGV4PWZ1bmN0aW9uKHQpe3ZhciBlLHI9QXIuZ2V0VixuPXIodCwoZT1xZS5nZXRQb3NBcnJheU9mQ2hpbGRyZW5Gcm9tSGV4KHQpKVswXSksaT1yKHQsZVsxXSksbz1yKHQsZVsyXSkscz1yKHQsZVszXSksYT1yKHQsZVs0XSksdT1yKHQsZVs1XSksYz1yKHQsZVs2XSksaD1yKHQsZVs3XSksbD1yKHQsZVs4XSk7cmV0dXJuKGU9bmV3IEFycmF5KS5wdXNoKG4saSxvLHMsYSx1LGMsaCxsKSxlfSxxZS5wcm90b3R5cGUucmVhZFByaXZhdGVLZXlGcm9tUEVNU3RyaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPXFyKHQpLHI9cWUuZ2V0SGV4VmFsdWVBcnJheU9mQ2hpbGRyZW5Gcm9tSGV4KGUpO3RoaXMuc2V0UHJpdmF0ZUV4KHJbMV0sclsyXSxyWzNdLHJbNF0scls1XSxyWzZdLHJbN10scls4XSl9LHFlLnByb3RvdHlwZS5yZWFkUEtDUzVQcnZLZXlIZXg9ZnVuY3Rpb24odCl7dmFyIGU9cWUuZ2V0SGV4VmFsdWVBcnJheU9mQ2hpbGRyZW5Gcm9tSGV4KHQpO3RoaXMuc2V0UHJpdmF0ZUV4KGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XSxlWzZdLGVbN10sZVs4XSl9LHFlLnByb3RvdHlwZS5yZWFkUEtDUzhQcnZLZXlIZXg9ZnVuY3Rpb24odCl7dmFyIGUscixuLGksbyxzLGEsdSxjPUFyLGg9Yy5nZXRWYnlMaXN0O2lmKCExPT09Yy5pc0FTTjFIRVgodCkpdGhyb3dcIm5vdCBBU04uMSBoZXggc3RyaW5nXCI7dHJ5e2U9aCh0LDAsWzIsMCwxXSxcIjAyXCIpLHI9aCh0LDAsWzIsMCwyXSxcIjAyXCIpLG49aCh0LDAsWzIsMCwzXSxcIjAyXCIpLGk9aCh0LDAsWzIsMCw0XSxcIjAyXCIpLG89aCh0LDAsWzIsMCw1XSxcIjAyXCIpLHM9aCh0LDAsWzIsMCw2XSxcIjAyXCIpLGE9aCh0LDAsWzIsMCw3XSxcIjAyXCIpLHU9aCh0LDAsWzIsMCw4XSxcIjAyXCIpfWNhdGNoKHQpe3Rocm93XCJtYWxmb3JtZWQgUEtDUyM4IHBsYWluIFJTQSBwcml2YXRlIGtleVwifXRoaXMuc2V0UHJpdmF0ZUV4KGUscixuLGksbyxzLGEsdSl9LHFlLnByb3RvdHlwZS5yZWFkUEtDUzVQdWJLZXlIZXg9ZnVuY3Rpb24odCl7dmFyIGU9QXIscj1lLmdldFY7aWYoITE9PT1lLmlzQVNOMUhFWCh0KSl0aHJvd1wia2V5SGV4IGlzIG5vdCBBU04uMSBoZXggc3RyaW5nXCI7dmFyIG49ZS5nZXRDaGlsZElkeCh0LDApO2lmKDIhPT1uLmxlbmd0aHx8XCIwMlwiIT09dC5zdWJzdHIoblswXSwyKXx8XCIwMlwiIT09dC5zdWJzdHIoblsxXSwyKSl0aHJvd1wid3JvbmcgaGV4IGZvciBQS0NTIzUgcHVibGljIGtleVwiO3ZhciBpPXIodCxuWzBdKSxvPXIodCxuWzFdKTt0aGlzLnNldFB1YmxpYyhpLG8pfSxxZS5wcm90b3R5cGUucmVhZFBLQ1M4UHViS2V5SGV4PWZ1bmN0aW9uKHQpe3ZhciBlPUFyO2lmKCExPT09ZS5pc0FTTjFIRVgodCkpdGhyb3dcIm5vdCBBU04uMSBoZXggc3RyaW5nXCI7aWYoXCIwNjA5MmE4NjQ4ODZmNzBkMDEwMTAxXCIhPT1lLmdldFRMVmJ5TGlzdCh0LDAsWzAsMF0pKXRocm93XCJub3QgUEtDUzggUlNBIHB1YmxpYyBrZXlcIjt2YXIgcj1lLmdldFRMVmJ5TGlzdCh0LDAsWzEsMF0pO3RoaXMucmVhZFBLQ1M1UHViS2V5SGV4KHIpfSxxZS5wcm90b3R5cGUucmVhZENlcnRQdWJLZXlIZXg9ZnVuY3Rpb24odCxlKXt2YXIgcixuOyhyPW5ldyBzbikucmVhZENlcnRIZXgodCksbj1yLmdldFB1YmxpY0tleUhleCgpLHRoaXMucmVhZFBLQ1M4UHViS2V5SGV4KG4pfTt2YXIgZW49bmV3IFJlZ0V4cChcIlwiKTtmdW5jdGlvbiBybih0LGUpe2Zvcih2YXIgcj1cIlwiLG49ZS80LXQubGVuZ3RoLGk9MDtpPG47aSsrKXIrPVwiMFwiO3JldHVybiByK3R9ZnVuY3Rpb24gbm4odCxlLHIpe2Zvcih2YXIgbj1cIlwiLGk9MDtuLmxlbmd0aDxlOyluKz1PcihyKGpyKHQrU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsWyg0Mjc4MTkwMDgwJmkpPj4yNCwoMTY3MTE2ODAmaSk+PjE2LCg2NTI4MCZpKT4+OCwyNTUmaV0pKSkpLGkrPTE7cmV0dXJuIG59ZnVuY3Rpb24gb24odCl7Zm9yKHZhciBlIGluIEVyLmNyeXB0by5VdGlsLkRJR0VTVElORk9IRUFEKXt2YXIgcj1Fci5jcnlwdG8uVXRpbC5ESUdFU1RJTkZPSEVBRFtlXSxuPXIubGVuZ3RoO2lmKHQuc3Vic3RyaW5nKDAsbik9PXIpcmV0dXJuW2UsdC5zdWJzdHJpbmcobildfXJldHVybltdfWZ1bmN0aW9uIHNuKCl7dmFyIHQ9QXIsZT10LmdldENoaWxkSWR4LHI9dC5nZXRWLG49dC5nZXRUTFYsaT10LmdldFZieUxpc3Qsbz10LmdldFRMVmJ5TGlzdCxzPXQuZ2V0SWR4YnlMaXN0LGE9dC5nZXRWaWR4LHU9dC5vaWRuYW1lLGM9c24saD1xcjt0aGlzLmhleD1udWxsLHRoaXMudmVyc2lvbj0wLHRoaXMuZm9mZnNldD0wLHRoaXMuYUV4dEluZm89bnVsbCx0aGlzLmdldFZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuaGV4fHwwIT09dGhpcy52ZXJzaW9uP3RoaXMudmVyc2lvbjpcImEwMDMwMjAxMDJcIiE9PW8odGhpcy5oZXgsMCxbMCwwXSk/KHRoaXMudmVyc2lvbj0xLHRoaXMuZm9mZnNldD0tMSwxKToodGhpcy52ZXJzaW9uPTMsMyl9LHRoaXMuZ2V0U2VyaWFsTnVtYmVySGV4PWZ1bmN0aW9uKCl7cmV0dXJuIGkodGhpcy5oZXgsMCxbMCwxK3RoaXMuZm9mZnNldF0sXCIwMlwiKX0sdGhpcy5nZXRTaWduYXR1cmVBbGdvcml0aG1GaWVsZD1mdW5jdGlvbigpe3JldHVybiB1KGkodGhpcy5oZXgsMCxbMCwyK3RoaXMuZm9mZnNldCwwXSxcIjA2XCIpKX0sdGhpcy5nZXRJc3N1ZXJIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzLmhleCwwLFswLDMrdGhpcy5mb2Zmc2V0XSxcIjMwXCIpfSx0aGlzLmdldElzc3VlclN0cmluZz1mdW5jdGlvbigpe3JldHVybiBjLmhleDJkbih0aGlzLmdldElzc3VlckhleCgpKX0sdGhpcy5nZXRTdWJqZWN0SGV4PWZ1bmN0aW9uKCl7cmV0dXJuIG8odGhpcy5oZXgsMCxbMCw1K3RoaXMuZm9mZnNldF0sXCIzMFwiKX0sdGhpcy5nZXRTdWJqZWN0U3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGMuaGV4MmRuKHRoaXMuZ2V0U3ViamVjdEhleCgpKX0sdGhpcy5nZXROb3RCZWZvcmU9ZnVuY3Rpb24oKXt2YXIgdD1pKHRoaXMuaGV4LDAsWzAsNCt0aGlzLmZvZmZzZXQsMF0pO3JldHVybiB0PXQucmVwbGFjZSgvKC4uKS9nLFwiJSQxXCIpLHQ9ZGVjb2RlVVJJQ29tcG9uZW50KHQpfSx0aGlzLmdldE5vdEFmdGVyPWZ1bmN0aW9uKCl7dmFyIHQ9aSh0aGlzLmhleCwwLFswLDQrdGhpcy5mb2Zmc2V0LDFdKTtyZXR1cm4gdD10LnJlcGxhY2UoLyguLikvZyxcIiUkMVwiKSx0PWRlY29kZVVSSUNvbXBvbmVudCh0KX0sdGhpcy5nZXRQdWJsaWNLZXlIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdC5nZXRUTFZieUxpc3QodGhpcy5oZXgsMCxbMCw2K3RoaXMuZm9mZnNldF0sXCIzMFwiKX0sdGhpcy5nZXRQdWJsaWNLZXlJZHg9ZnVuY3Rpb24oKXtyZXR1cm4gcyh0aGlzLmhleCwwLFswLDYrdGhpcy5mb2Zmc2V0XSxcIjMwXCIpfSx0aGlzLmdldFB1YmxpY0tleUNvbnRlbnRJZHg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFB1YmxpY0tleUlkeCgpO3JldHVybiBzKHRoaXMuaGV4LHQsWzEsMF0sXCIzMFwiKX0sdGhpcy5nZXRQdWJsaWNLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdG4uZ2V0S2V5KHRoaXMuZ2V0UHVibGljS2V5SGV4KCksbnVsbCxcInBrY3M4cHViXCIpfSx0aGlzLmdldFNpZ25hdHVyZUFsZ29yaXRobU5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdShpKHRoaXMuaGV4LDAsWzEsMF0sXCIwNlwiKSl9LHRoaXMuZ2V0U2lnbmF0dXJlVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gaSh0aGlzLmhleCwwLFsyXSxcIjAzXCIsITApfSx0aGlzLnZlcmlmeVNpZ25hdHVyZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFNpZ25hdHVyZUFsZ29yaXRobU5hbWUoKSxyPXRoaXMuZ2V0U2lnbmF0dXJlVmFsdWVIZXgoKSxuPW8odGhpcy5oZXgsMCxbMF0sXCIzMFwiKSxpPW5ldyBFci5jcnlwdG8uU2lnbmF0dXJlKHthbGc6ZX0pO3JldHVybiBpLmluaXQodCksaS51cGRhdGVIZXgobiksaS52ZXJpZnkocil9LHRoaXMucGFyc2VFeHQ9ZnVuY3Rpb24oKXtpZigzIT09dGhpcy52ZXJzaW9uKXJldHVybi0xO3ZhciByPXModGhpcy5oZXgsMCxbMCw3LDBdLFwiMzBcIiksbj1lKHRoaXMuaGV4LHIpO3RoaXMuYUV4dEluZm89bmV3IEFycmF5O2Zvcih2YXIgbz0wO288bi5sZW5ndGg7bysrKXt2YXIgdT17Y3JpdGljYWw6ITF9LGM9MDszPT09ZSh0aGlzLmhleCxuW29dKS5sZW5ndGgmJih1LmNyaXRpY2FsPSEwLGM9MSksdS5vaWQ9dC5oZXh0b29pZHN0cihpKHRoaXMuaGV4LG5bb10sWzBdLFwiMDZcIikpO3ZhciBoPXModGhpcy5oZXgsbltvXSxbMStjXSk7dS52aWR4PWEodGhpcy5oZXgsaCksdGhpcy5hRXh0SW5mby5wdXNoKHUpfX0sdGhpcy5nZXRFeHRJbmZvPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYUV4dEluZm8scj10O2lmKHQubWF0Y2goL15bMC05Ll0rJC8pfHwocj1Fci5hc24xLng1MDkuT0lELm5hbWUyb2lkKHQpKSxcIlwiIT09cilmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZihlW25dLm9pZD09PXIpcmV0dXJuIGVbbl19LHRoaXMuZ2V0RXh0QmFzaWNDb25zdHJhaW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RXh0SW5mbyhcImJhc2ljQ29uc3RyYWludHNcIik7aWYodm9pZCAwPT09dClyZXR1cm4gdDt2YXIgZT1yKHRoaXMuaGV4LHQudmlkeCk7aWYoXCJcIj09PWUpcmV0dXJue307aWYoXCIwMTAxZmZcIj09PWUpcmV0dXJue2NBOiEwfTtpZihcIjAxMDFmZjAyXCI9PT1lLnN1YnN0cigwLDgpKXt2YXIgbj1yKGUsNik7cmV0dXJue2NBOiEwLHBhdGhMZW46cGFyc2VJbnQobiwxNil9fXRocm93XCJiYXNpY0NvbnN0cmFpbnRzIHBhcnNlIGVycm9yXCJ9LHRoaXMuZ2V0RXh0S2V5VXNhZ2VCaW49ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEV4dEluZm8oXCJrZXlVc2FnZVwiKTtpZih2b2lkIDA9PT10KXJldHVyblwiXCI7dmFyIGU9cih0aGlzLmhleCx0LnZpZHgpO2lmKGUubGVuZ3RoJTIhPTB8fGUubGVuZ3RoPD0yKXRocm93XCJtYWxmb3JtZWQga2V5IHVzYWdlIHZhbHVlXCI7dmFyIG49cGFyc2VJbnQoZS5zdWJzdHIoMCwyKSksaT1wYXJzZUludChlLnN1YnN0cigyKSwxNikudG9TdHJpbmcoMik7cmV0dXJuIGkuc3Vic3RyKDAsaS5sZW5ndGgtbil9LHRoaXMuZ2V0RXh0S2V5VXNhZ2VTdHJpbmc9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5nZXRFeHRLZXlVc2FnZUJpbigpLGU9bmV3IEFycmF5LHI9MDtyPHQubGVuZ3RoO3IrKylcIjFcIj09dC5zdWJzdHIociwxKSYmZS5wdXNoKHNuLktFWVVTQUdFX05BTUVbcl0pO3JldHVybiBlLmpvaW4oXCIsXCIpfSx0aGlzLmdldEV4dFN1YmplY3RLZXlJZGVudGlmaWVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRFeHRJbmZvKFwic3ViamVjdEtleUlkZW50aWZpZXJcIik7cmV0dXJuIHZvaWQgMD09PXQ/dDpyKHRoaXMuaGV4LHQudmlkeCl9LHRoaXMuZ2V0RXh0QXV0aG9yaXR5S2V5SWRlbnRpZmllcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RXh0SW5mbyhcImF1dGhvcml0eUtleUlkZW50aWZpZXJcIik7aWYodm9pZCAwPT09dClyZXR1cm4gdDtmb3IodmFyIGk9e30sbz1uKHRoaXMuaGV4LHQudmlkeCkscz1lKG8sMCksYT0wO2E8cy5sZW5ndGg7YSsrKVwiODBcIj09PW8uc3Vic3RyKHNbYV0sMikmJihpLmtpZD1yKG8sc1thXSkpO3JldHVybiBpfSx0aGlzLmdldEV4dEV4dEtleVVzYWdlTmFtZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RXh0SW5mbyhcImV4dEtleVVzYWdlXCIpO2lmKHZvaWQgMD09PXQpcmV0dXJuIHQ7dmFyIGk9bmV3IEFycmF5LG89bih0aGlzLmhleCx0LnZpZHgpO2lmKFwiXCI9PT1vKXJldHVybiBpO2Zvcih2YXIgcz1lKG8sMCksYT0wO2E8cy5sZW5ndGg7YSsrKWkucHVzaCh1KHIobyxzW2FdKSkpO3JldHVybiBpfSx0aGlzLmdldEV4dFN1YmplY3RBbHROYW1lPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZ2V0RXh0U3ViamVjdEFsdE5hbWUyKCksZT1uZXcgQXJyYXkscj0wO3I8dC5sZW5ndGg7cisrKVwiRE5TXCI9PT10W3JdWzBdJiZlLnB1c2godFtyXVsxXSk7cmV0dXJuIGV9LHRoaXMuZ2V0RXh0U3ViamVjdEFsdE5hbWUyPWZ1bmN0aW9uKCl7dmFyIHQsaSxvLHM9dGhpcy5nZXRFeHRJbmZvKFwic3ViamVjdEFsdE5hbWVcIik7aWYodm9pZCAwPT09cylyZXR1cm4gcztmb3IodmFyIGE9bmV3IEFycmF5LHU9bih0aGlzLmhleCxzLnZpZHgpLGM9ZSh1LDApLGg9MDtoPGMubGVuZ3RoO2grKylvPXUuc3Vic3RyKGNbaF0sMiksdD1yKHUsY1toXSksXCI4MVwiPT09byYmKGk9TnIodCksYS5wdXNoKFtcIk1BSUxcIixpXSkpLFwiODJcIj09PW8mJihpPU5yKHQpLGEucHVzaChbXCJETlNcIixpXSkpLFwiODRcIj09PW8mJihpPXNuLmhleDJkbih0LDApLGEucHVzaChbXCJETlwiLGldKSksXCI4NlwiPT09byYmKGk9TnIodCksYS5wdXNoKFtcIlVSSVwiLGldKSksXCI4N1wiPT09byYmKGk9UXIodCksYS5wdXNoKFtcIklQXCIsaV0pKTtyZXR1cm4gYX0sdGhpcy5nZXRFeHRDUkxEaXN0cmlidXRpb25Qb2ludHNVUkk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEV4dEluZm8oXCJjUkxEaXN0cmlidXRpb25Qb2ludHNcIik7aWYodm9pZCAwPT09dClyZXR1cm4gdDtmb3IodmFyIHI9bmV3IEFycmF5LG49ZSh0aGlzLmhleCx0LnZpZHgpLG89MDtvPG4ubGVuZ3RoO28rKyl0cnl7dmFyIHM9TnIoaSh0aGlzLmhleCxuW29dLFswLDAsMF0sXCI4NlwiKSk7ci5wdXNoKHMpfWNhdGNoKHQpe31yZXR1cm4gcn0sdGhpcy5nZXRFeHRBSUFJbmZvPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRFeHRJbmZvKFwiYXV0aG9yaXR5SW5mb0FjY2Vzc1wiKTtpZih2b2lkIDA9PT10KXJldHVybiB0O2Zvcih2YXIgcj17b2NzcDpbXSxjYWlzc3VlcjpbXX0sbj1lKHRoaXMuaGV4LHQudmlkeCksbz0wO288bi5sZW5ndGg7bysrKXt2YXIgcz1pKHRoaXMuaGV4LG5bb10sWzBdLFwiMDZcIiksYT1pKHRoaXMuaGV4LG5bb10sWzFdLFwiODZcIik7XCIyYjA2MDEwNTA1MDczMDAxXCI9PT1zJiZyLm9jc3AucHVzaChOcihhKSksXCIyYjA2MDEwNTA1MDczMDAyXCI9PT1zJiZyLmNhaXNzdWVyLnB1c2goTnIoYSkpfXJldHVybiByfSx0aGlzLmdldEV4dENlcnRpZmljYXRlUG9saWNpZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEV4dEluZm8oXCJjZXJ0aWZpY2F0ZVBvbGljaWVzXCIpO2lmKHZvaWQgMD09PXQpcmV0dXJuIHQ7Zm9yKHZhciBvPW4odGhpcy5oZXgsdC52aWR4KSxzPVtdLGE9ZShvLDApLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGg9e30sbD1lKG8sYVtjXSk7aWYoaC5pZD11KHIobyxsWzBdKSksMj09PWwubGVuZ3RoKWZvcih2YXIgZj1lKG8sbFsxXSksZD0wO2Q8Zi5sZW5ndGg7ZCsrKXt2YXIgZz1pKG8sZltkXSxbMF0sXCIwNlwiKTtcIjJiMDYwMTA1MDUwNzAyMDFcIj09PWc/aC5jcHM9TnIoaShvLGZbZF0sWzFdKSk6XCIyYjA2MDEwNTA1MDcwMjAyXCI9PT1nJiYoaC51bm90aWNlPU5yKGkobyxmW2RdLFsxLDBdKSkpfXMucHVzaChoKX1yZXR1cm4gc30sdGhpcy5yZWFkQ2VydFBFTT1mdW5jdGlvbih0KXt0aGlzLnJlYWRDZXJ0SGV4KGgodCkpfSx0aGlzLnJlYWRDZXJ0SGV4PWZ1bmN0aW9uKHQpe3RoaXMuaGV4PXQsdGhpcy5nZXRWZXJzaW9uKCk7dHJ5e3ModGhpcy5oZXgsMCxbMCw3XSxcImEzXCIpLHRoaXMucGFyc2VFeHQoKX1jYXRjaCh0KXt9fSx0aGlzLmdldEluZm89ZnVuY3Rpb24oKXt2YXIgdCxlLHI7aWYodD1cIkJhc2ljIEZpZWxkc1xcblwiLHQrPVwiICBzZXJpYWwgbnVtYmVyOiBcIit0aGlzLmdldFNlcmlhbE51bWJlckhleCgpK1wiXFxuXCIsdCs9XCIgIHNpZ25hdHVyZSBhbGdvcml0aG06IFwiK3RoaXMuZ2V0U2lnbmF0dXJlQWxnb3JpdGhtRmllbGQoKStcIlxcblwiLHQrPVwiICBpc3N1ZXI6IFwiK3RoaXMuZ2V0SXNzdWVyU3RyaW5nKCkrXCJcXG5cIix0Kz1cIiAgbm90QmVmb3JlOiBcIit0aGlzLmdldE5vdEJlZm9yZSgpK1wiXFxuXCIsdCs9XCIgIG5vdEFmdGVyOiBcIit0aGlzLmdldE5vdEFmdGVyKCkrXCJcXG5cIix0Kz1cIiAgc3ViamVjdDogXCIrdGhpcy5nZXRTdWJqZWN0U3RyaW5nKCkrXCJcXG5cIix0Kz1cIiAgc3ViamVjdCBwdWJsaWMga2V5IGluZm86IFxcblwiLHQrPVwiICAgIGtleSBhbGdvcml0aG06IFwiKyhlPXRoaXMuZ2V0UHVibGljS2V5KCkpLnR5cGUrXCJcXG5cIixcIlJTQVwiPT09ZS50eXBlJiYodCs9XCIgICAgbj1cIitacihlLm4udG9TdHJpbmcoMTYpKS5zdWJzdHIoMCwxNikrXCIuLi5cXG5cIix0Kz1cIiAgICBlPVwiK1pyKGUuZS50b1N0cmluZygxNikpK1wiXFxuXCIpLHZvaWQgMCE9PShyPXRoaXMuYUV4dEluZm8pJiZudWxsIT09cil7dCs9XCJYNTA5djMgRXh0ZW5zaW9uczpcXG5cIjtmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXSxvPUVyLmFzbjEueDUwOS5PSUQub2lkMm5hbWUoaS5vaWQpO1wiXCI9PT1vJiYobz1pLm9pZCk7dmFyIHM9XCJcIjtpZighMD09PWkuY3JpdGljYWwmJihzPVwiQ1JJVElDQUxcIiksdCs9XCIgIFwiK28rXCIgXCIrcytcIjpcXG5cIixcImJhc2ljQ29uc3RyYWludHNcIj09PW8pe3ZhciBhPXRoaXMuZ2V0RXh0QmFzaWNDb25zdHJhaW50cygpO3ZvaWQgMD09PWEuY0E/dCs9XCIgICAge31cXG5cIjoodCs9XCIgICAgY0E9dHJ1ZVwiLHZvaWQgMCE9PWEucGF0aExlbiYmKHQrPVwiLCBwYXRoTGVuPVwiK2EucGF0aExlbiksdCs9XCJcXG5cIil9ZWxzZSBpZihcImtleVVzYWdlXCI9PT1vKXQrPVwiICAgIFwiK3RoaXMuZ2V0RXh0S2V5VXNhZ2VTdHJpbmcoKStcIlxcblwiO2Vsc2UgaWYoXCJzdWJqZWN0S2V5SWRlbnRpZmllclwiPT09byl0Kz1cIiAgICBcIit0aGlzLmdldEV4dFN1YmplY3RLZXlJZGVudGlmaWVyKCkrXCJcXG5cIjtlbHNlIGlmKFwiYXV0aG9yaXR5S2V5SWRlbnRpZmllclwiPT09byl7dmFyIHU9dGhpcy5nZXRFeHRBdXRob3JpdHlLZXlJZGVudGlmaWVyKCk7dm9pZCAwIT09dS5raWQmJih0Kz1cIiAgICBraWQ9XCIrdS5raWQrXCJcXG5cIil9ZWxzZXtpZihcImV4dEtleVVzYWdlXCI9PT1vKXQrPVwiICAgIFwiK3RoaXMuZ2V0RXh0RXh0S2V5VXNhZ2VOYW1lKCkuam9pbihcIiwgXCIpK1wiXFxuXCI7ZWxzZSBpZihcInN1YmplY3RBbHROYW1lXCI9PT1vKXQrPVwiICAgIFwiK3RoaXMuZ2V0RXh0U3ViamVjdEFsdE5hbWUyKCkrXCJcXG5cIjtlbHNlIGlmKFwiY1JMRGlzdHJpYnV0aW9uUG9pbnRzXCI9PT1vKXQrPVwiICAgIFwiK3RoaXMuZ2V0RXh0Q1JMRGlzdHJpYnV0aW9uUG9pbnRzVVJJKCkrXCJcXG5cIjtlbHNlIGlmKFwiYXV0aG9yaXR5SW5mb0FjY2Vzc1wiPT09byl7dmFyIGM9dGhpcy5nZXRFeHRBSUFJbmZvKCk7dm9pZCAwIT09Yy5vY3NwJiYodCs9XCIgICAgb2NzcDogXCIrYy5vY3NwLmpvaW4oXCIsXCIpK1wiXFxuXCIpLHZvaWQgMCE9PWMuY2Fpc3N1ZXImJih0Kz1cIiAgICBjYWlzc3VlcjogXCIrYy5jYWlzc3Vlci5qb2luKFwiLFwiKStcIlxcblwiKX1lbHNlIGlmKFwiY2VydGlmaWNhdGVQb2xpY2llc1wiPT09bylmb3IodmFyIGg9dGhpcy5nZXRFeHRDZXJ0aWZpY2F0ZVBvbGljaWVzKCksbD0wO2w8aC5sZW5ndGg7bCsrKXZvaWQgMCE9PWhbbF0uaWQmJih0Kz1cIiAgICBwb2xpY3kgb2lkOiBcIitoW2xdLmlkK1wiXFxuXCIpLHZvaWQgMCE9PWhbbF0uY3BzJiYodCs9XCIgICAgY3BzOiBcIitoW2xdLmNwcytcIlxcblwiKX19fXJldHVybiB0Kz1cInNpZ25hdHVyZSBhbGdvcml0aG06IFwiK3RoaXMuZ2V0U2lnbmF0dXJlQWxnb3JpdGhtTmFtZSgpK1wiXFxuXCIsdCs9XCJzaWduYXR1cmU6IFwiK3RoaXMuZ2V0U2lnbmF0dXJlVmFsdWVIZXgoKS5zdWJzdHIoMCwxNikrXCIuLi5cXG5cIn19ZW4uY29tcGlsZShcIlteMC05YS1mXVwiLFwiZ2lcIikscWUucHJvdG90eXBlLnNpZ249ZnVuY3Rpb24odCxlKXt2YXIgcj1mdW5jdGlvbiB0KHIpe3JldHVybiBFci5jcnlwdG8uVXRpbC5oYXNoU3RyaW5nKHIsZSl9KHQpO3JldHVybiB0aGlzLnNpZ25XaXRoTWVzc2FnZUhhc2gocixlKX0scWUucHJvdG90eXBlLnNpZ25XaXRoTWVzc2FnZUhhc2g9ZnVuY3Rpb24odCxlKXt2YXIgcj1LZShFci5jcnlwdG8uVXRpbC5nZXRQYWRkZWREaWdlc3RJbmZvSGV4KHQsZSx0aGlzLm4uYml0TGVuZ3RoKCkpLDE2KTtyZXR1cm4gcm4odGhpcy5kb1ByaXZhdGUocikudG9TdHJpbmcoMTYpLHRoaXMubi5iaXRMZW5ndGgoKSl9LHFlLnByb3RvdHlwZS5zaWduUFNTPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1mdW5jdGlvbiB0KHIpe3JldHVybiBFci5jcnlwdG8uVXRpbC5oYXNoSGV4KHIsZSl9KGpyKHQpKTtyZXR1cm4gdm9pZCAwPT09ciYmKHI9LTEpLHRoaXMuc2lnbldpdGhNZXNzYWdlSGFzaFBTUyhuLGUscil9LHFlLnByb3RvdHlwZS5zaWduV2l0aE1lc3NhZ2VIYXNoUFNTPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbixpPU9yKHQpLG89aS5sZW5ndGgscz10aGlzLm4uYml0TGVuZ3RoKCktMSxhPU1hdGguY2VpbChzLzgpLHU9ZnVuY3Rpb24gdChyKXtyZXR1cm4gRXIuY3J5cHRvLlV0aWwuaGFzaEhleChyLGUpfTtpZigtMT09PXJ8fHZvaWQgMD09PXIpcj1vO2Vsc2UgaWYoLTI9PT1yKXI9YS1vLTI7ZWxzZSBpZihyPC0yKXRocm93XCJpbnZhbGlkIHNhbHQgbGVuZ3RoXCI7aWYoYTxvK3IrMil0aHJvd1wiZGF0YSB0b28gbG9uZ1wiO3ZhciBjPVwiXCI7cj4wJiYoYz1uZXcgQXJyYXkociksKG5ldyBNZSkubmV4dEJ5dGVzKGMpLGM9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsYykpO3ZhciBoPU9yKHUoanIoXCJcXDBcXDBcXDBcXDBcXDBcXDBcXDBcXDBcIitpK2MpKSksbD1bXTtmb3Iobj0wO248YS1yLW8tMjtuKz0xKWxbbl09MDt2YXIgZj1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxsKStcIlx1MDAwMVwiK2MsZD1ubihoLGYubGVuZ3RoLHUpLGc9W107Zm9yKG49MDtuPGYubGVuZ3RoO24rPTEpZ1tuXT1mLmNoYXJDb2RlQXQobileZC5jaGFyQ29kZUF0KG4pO3ZhciBwPTY1MjgwPj44KmEtcyYyNTU7Zm9yKGdbMF0mPX5wLG49MDtuPG87bisrKWcucHVzaChoLmNoYXJDb2RlQXQobikpO3JldHVybiBnLnB1c2goMTg4KSxybih0aGlzLmRvUHJpdmF0ZShuZXcgRShnKSkudG9TdHJpbmcoMTYpLHRoaXMubi5iaXRMZW5ndGgoKSl9LHFlLnByb3RvdHlwZS52ZXJpZnk9ZnVuY3Rpb24odCxlKXt2YXIgcj1LZShlPShlPWUucmVwbGFjZShlbixcIlwiKSkucmVwbGFjZSgvWyBcXG5dKy9nLFwiXCIpLDE2KTtpZihyLmJpdExlbmd0aCgpPnRoaXMubi5iaXRMZW5ndGgoKSlyZXR1cm4gMDt2YXIgbj1vbih0aGlzLmRvUHVibGljKHIpLnRvU3RyaW5nKDE2KS5yZXBsYWNlKC9eMWYrMDAvLFwiXCIpKTtpZigwPT1uLmxlbmd0aClyZXR1cm4hMTt2YXIgaT1uWzBdO3JldHVybiBuWzFdPT1mdW5jdGlvbiB0KGUpe3JldHVybiBFci5jcnlwdG8uVXRpbC5oYXNoU3RyaW5nKGUsaSl9KHQpfSxxZS5wcm90b3R5cGUudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoPWZ1bmN0aW9uKHQsZSl7dmFyIHI9S2UoZT0oZT1lLnJlcGxhY2UoZW4sXCJcIikpLnJlcGxhY2UoL1sgXFxuXSsvZyxcIlwiKSwxNik7aWYoci5iaXRMZW5ndGgoKT50aGlzLm4uYml0TGVuZ3RoKCkpcmV0dXJuIDA7dmFyIG49b24odGhpcy5kb1B1YmxpYyhyKS50b1N0cmluZygxNikucmVwbGFjZSgvXjFmKzAwLyxcIlwiKSk7aWYoMD09bi5sZW5ndGgpcmV0dXJuITE7blswXTtyZXR1cm4gblsxXT09dH0scWUucHJvdG90eXBlLnZlcmlmeVBTUz1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1mdW5jdGlvbiB0KGUpe3JldHVybiBFci5jcnlwdG8uVXRpbC5oYXNoSGV4KGUscil9KGpyKHQpKTtyZXR1cm4gdm9pZCAwPT09biYmKG49LTEpLHRoaXMudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoUFNTKGksZSxyLG4pfSxxZS5wcm90b3R5cGUudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoUFNTPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPW5ldyBFKGUsMTYpO2lmKGkuYml0TGVuZ3RoKCk+dGhpcy5uLmJpdExlbmd0aCgpKXJldHVybiExO3ZhciBvLHM9ZnVuY3Rpb24gdChlKXtyZXR1cm4gRXIuY3J5cHRvLlV0aWwuaGFzaEhleChlLHIpfSxhPU9yKHQpLHU9YS5sZW5ndGgsYz10aGlzLm4uYml0TGVuZ3RoKCktMSxoPU1hdGguY2VpbChjLzgpO2lmKC0xPT09bnx8dm9pZCAwPT09biluPXU7ZWxzZSBpZigtMj09PW4pbj1oLXUtMjtlbHNlIGlmKG48LTIpdGhyb3dcImludmFsaWQgc2FsdCBsZW5ndGhcIjtpZihoPHUrbisyKXRocm93XCJkYXRhIHRvbyBsb25nXCI7dmFyIGw9dGhpcy5kb1B1YmxpYyhpKS50b0J5dGVBcnJheSgpO2ZvcihvPTA7bzxsLmxlbmd0aDtvKz0xKWxbb10mPTI1NTtmb3IoO2wubGVuZ3RoPGg7KWwudW5zaGlmdCgwKTtpZigxODghPT1sW2gtMV0pdGhyb3dcImVuY29kZWQgbWVzc2FnZSBkb2VzIG5vdCBlbmQgaW4gMHhiY1wiO3ZhciBmPShsPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGwpKS5zdWJzdHIoMCxoLXUtMSksZD1sLnN1YnN0cihmLmxlbmd0aCx1KSxnPTY1MjgwPj44KmgtYyYyNTU7aWYoMCE9KGYuY2hhckNvZGVBdCgwKSZnKSl0aHJvd1wiYml0cyBiZXlvbmQga2V5c2l6ZSBub3QgemVyb1wiO3ZhciBwPW5uKGQsZi5sZW5ndGgscyksdj1bXTtmb3Iobz0wO288Zi5sZW5ndGg7bys9MSl2W29dPWYuY2hhckNvZGVBdChvKV5wLmNoYXJDb2RlQXQobyk7dlswXSY9fmc7dmFyIHk9aC11LW4tMjtmb3Iobz0wO288eTtvKz0xKWlmKDAhPT12W29dKXRocm93XCJsZWZ0bW9zdCBvY3RldHMgbm90IHplcm9cIjtpZigxIT09dlt5XSl0aHJvd1wiMHgwMSBtYXJrZXIgbm90IGZvdW5kXCI7cmV0dXJuIGQ9PT1PcihzKGpyKFwiXFwwXFwwXFwwXFwwXFwwXFwwXFwwXFwwXCIrYStTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyx2LnNsaWNlKC1uKSkpKSl9LHFlLlNBTFRfTEVOX0hMRU49LTEscWUuU0FMVF9MRU5fTUFYPS0yLHFlLlNBTFRfTEVOX1JFQ09WRVI9LTIsc24uaGV4MmRuPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9MCksXCIzMFwiIT09dC5zdWJzdHIoZSwyKSl0aHJvd1wibWFsZm9ybWVkIEROXCI7Zm9yKHZhciByPW5ldyBBcnJheSxuPUFyLmdldENoaWxkSWR4KHQsZSksaT0wO2k8bi5sZW5ndGg7aSsrKXIucHVzaChzbi5oZXgycmRuKHQsbltpXSkpO3JldHVyblwiL1wiKyhyPXIubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoXCIvXCIsXCJcXFxcL1wiKX0pKS5qb2luKFwiL1wiKX0sc24uaGV4MnJkbj1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPTApLFwiMzFcIiE9PXQuc3Vic3RyKGUsMikpdGhyb3dcIm1hbGZvcm1lZCBSRE5cIjtmb3IodmFyIHI9bmV3IEFycmF5LG49QXIuZ2V0Q2hpbGRJZHgodCxlKSxpPTA7aTxuLmxlbmd0aDtpKyspci5wdXNoKHNuLmhleDJhdHRyVHlwZVZhbHVlKHQsbltpXSkpO3JldHVybihyPXIubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoXCIrXCIsXCJcXFxcK1wiKX0pKS5qb2luKFwiK1wiKX0sc24uaGV4MmF0dHJUeXBlVmFsdWU9ZnVuY3Rpb24odCxlKXt2YXIgcj1BcixuPXIuZ2V0VjtpZih2b2lkIDA9PT1lJiYoZT0wKSxcIjMwXCIhPT10LnN1YnN0cihlLDIpKXRocm93XCJtYWxmb3JtZWQgYXR0cmlidXRlIHR5cGUgYW5kIHZhbHVlXCI7dmFyIGk9ci5nZXRDaGlsZElkeCh0LGUpOzIhPT1pLmxlbmd0aHx8dC5zdWJzdHIoaVswXSwyKTt2YXIgbz1uKHQsaVswXSkscz1Fci5hc24xLkFTTjFVdGlsLm9pZEhleFRvSW50KG8pO3JldHVybiBFci5hc24xLng1MDkuT0lELm9pZDJhdHlwZShzKStcIj1cIitPcihuKHQsaVsxXSkpfSxzbi5nZXRQdWJsaWNLZXlGcm9tQ2VydEhleD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgc247cmV0dXJuIGUucmVhZENlcnRIZXgodCksZS5nZXRQdWJsaWNLZXkoKX0sc24uZ2V0UHVibGljS2V5RnJvbUNlcnRQRU09ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHNuO3JldHVybiBlLnJlYWRDZXJ0UEVNKHQpLGUuZ2V0UHVibGljS2V5KCl9LHNuLmdldFB1YmxpY0tleUluZm9Qcm9wT2ZDZXJ0UEVNPWZ1bmN0aW9uKHQpe3ZhciBlLHIsbj1Bci5nZXRWYnlMaXN0LGk9e307cmV0dXJuIGkuYWxncGFyYW09bnVsbCwoZT1uZXcgc24pLnJlYWRDZXJ0UEVNKHQpLHI9ZS5nZXRQdWJsaWNLZXlIZXgoKSxpLmtleWhleD1uKHIsMCxbMV0sXCIwM1wiKS5zdWJzdHIoMiksaS5hbGdvaWQ9bihyLDAsWzAsMF0sXCIwNlwiKSxcIjJhODY0OGNlM2QwMjAxXCI9PT1pLmFsZ29pZCYmKGkuYWxncGFyYW09bihyLDAsWzAsMV0sXCIwNlwiKSksaX0sc24uS0VZVVNBR0VfTkFNRT1bXCJkaWdpdGFsU2lnbmF0dXJlXCIsXCJub25SZXB1ZGlhdGlvblwiLFwia2V5RW5jaXBoZXJtZW50XCIsXCJkYXRhRW5jaXBoZXJtZW50XCIsXCJrZXlBZ3JlZW1lbnRcIixcImtleUNlcnRTaWduXCIsXCJjUkxTaWduXCIsXCJlbmNpcGhlck9ubHlcIixcImRlY2lwaGVyT25seVwiXSx2b2lkIDAhPT1FciYmRXJ8fChlLktKVVI9RXI9e30pLHZvaWQgMCE9PUVyLmp3cyYmRXIuandzfHwoRXIuandzPXt9KSxFci5qd3MuSldTPWZ1bmN0aW9uKCl7dmFyIHQ9RXIuandzLkpXUy5pc1NhZmVKU09OU3RyaW5nO3RoaXMucGFyc2VKV1M9ZnVuY3Rpb24oZSxyKXtpZih2b2lkIDA9PT10aGlzLnBhcnNlZEpXU3x8IXImJnZvaWQgMD09PXRoaXMucGFyc2VkSldTLnNpZ3ZhbEgpe3ZhciBuPWUubWF0Y2goL14oW14uXSspXFwuKFteLl0rKVxcLihbXi5dKykkLyk7aWYobnVsbD09bil0aHJvd1wiSldTIHNpZ25hdHVyZSBpcyBub3QgYSBmb3JtIG9mICdIZWFkLlBheWxvYWQuU2lnVmFsdWUnLlwiO3ZhciBpPW5bMV0sbz1uWzJdLHM9blszXSxhPWkrXCIuXCIrbztpZih0aGlzLnBhcnNlZEpXUz17fSx0aGlzLnBhcnNlZEpXUy5oZWFkQjY0VT1pLHRoaXMucGFyc2VkSldTLnBheWxvYWRCNjRVPW8sdGhpcy5wYXJzZWRKV1Muc2lndmFsQjY0VT1zLHRoaXMucGFyc2VkSldTLnNpPWEsIXIpe3ZhciB1PUxyKHMpLGM9S2UodSwxNik7dGhpcy5wYXJzZWRKV1Muc2lndmFsSD11LHRoaXMucGFyc2VkSldTLnNpZ3ZhbEJJPWN9dmFyIGg9a3IoaSksbD1rcihvKTtpZih0aGlzLnBhcnNlZEpXUy5oZWFkUz1oLHRoaXMucGFyc2VkSldTLnBheWxvYWRTPWwsIXQoaCx0aGlzLnBhcnNlZEpXUyxcImhlYWRQXCIpKXRocm93XCJtYWxmb3JtZWQgSlNPTiBzdHJpbmcgZm9yIEpXUyBIZWFkOiBcIitofX19LEVyLmp3cy5KV1Muc2lnbj1mdW5jdGlvbih0LGUsbixpLG8pe3ZhciBzLGEsdSxjPUVyLGg9Yy5qd3MuSldTLGw9aC5yZWFkU2FmZUpTT05TdHJpbmcsZj1oLmlzU2FmZUpTT05TdHJpbmcsZD1jLmNyeXB0byxnPShkLkVDRFNBLGQuTWFjKSxwPWQuU2lnbmF0dXJlLHY9SlNPTjtpZihcInN0cmluZ1wiIT10eXBlb2YgZSYmXCJvYmplY3RcIiE9KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjpyKGUpKSl0aHJvd1wic3BIZWFkZXIgbXVzdCBiZSBKU09OIHN0cmluZyBvciBvYmplY3Q6IFwiK2U7aWYoXCJvYmplY3RcIj09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjpyKGUpKSYmKGE9ZSxzPXYuc3RyaW5naWZ5KGEpKSxcInN0cmluZ1wiPT10eXBlb2YgZSl7aWYoIWYocz1lKSl0aHJvd1wiSldTIEhlYWQgaXMgbm90IHNhZmUgSlNPTiBzdHJpbmc6IFwiK3M7YT1sKHMpfWlmKHU9bixcIm9iamVjdFwiPT0odm9pZCAwPT09bj9cInVuZGVmaW5lZFwiOnIobikpJiYodT12LnN0cmluZ2lmeShuKSksXCJcIiE9dCYmbnVsbCE9dHx8dm9pZCAwPT09YS5hbGd8fCh0PWEuYWxnKSxcIlwiIT10JiZudWxsIT10JiZ2b2lkIDA9PT1hLmFsZyYmKGEuYWxnPXQscz12LnN0cmluZ2lmeShhKSksdCE9PWEuYWxnKXRocm93XCJhbGcgYW5kIHNIZWFkZXIuYWxnIGRvZXNuJ3QgbWF0Y2g6IFwiK3QrXCIhPVwiK2EuYWxnO3ZhciB5PW51bGw7aWYodm9pZCAwPT09aC5qd3NhbGcyc2lnYWxnW3RdKXRocm93XCJ1bnN1cHBvcnRlZCBhbGcgbmFtZTogXCIrdDt5PWguandzYWxnMnNpZ2FsZ1t0XTt2YXIgbT14cihzKStcIi5cIit4cih1KSxfPVwiXCI7aWYoXCJIbWFjXCI9PXkuc3Vic3RyKDAsNCkpe2lmKHZvaWQgMD09PWkpdGhyb3dcIm1hYyBrZXkgc2hhbGwgYmUgc3BlY2lmaWVkIGZvciBIUyogYWxnXCI7dmFyIFM9bmV3IGcoe2FsZzp5LHByb3Y6XCJjcnlwdG9qc1wiLHBhc3M6aX0pO1MudXBkYXRlU3RyaW5nKG0pLF89Uy5kb0ZpbmFsKCl9ZWxzZXt2YXIgRjtpZigtMSE9eS5pbmRleE9mKFwid2l0aEVDRFNBXCIpKShGPW5ldyBwKHthbGc6eX0pKS5pbml0KGksbyksRi51cGRhdGVTdHJpbmcobSksaEFTTjFTaWc9Ri5zaWduKCksXz1Fci5jcnlwdG8uRUNEU0EuYXNuMVNpZ1RvQ29uY2F0U2lnKGhBU04xU2lnKTtlbHNlIGlmKFwibm9uZVwiIT15KShGPW5ldyBwKHthbGc6eX0pKS5pbml0KGksbyksRi51cGRhdGVTdHJpbmcobSksXz1GLnNpZ24oKX1yZXR1cm4gbStcIi5cIitVcihfKX0sRXIuandzLkpXUy52ZXJpZnk9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLG89RXIscz1vLmp3cy5KV1MsYT1zLnJlYWRTYWZlSlNPTlN0cmluZyx1PW8uY3J5cHRvLGM9dS5FQ0RTQSxoPXUuTWFjLGw9dS5TaWduYXR1cmU7dm9pZCAwIT09cihxZSkmJihpPXFlKTt2YXIgZj10LnNwbGl0KFwiLlwiKTtpZigzIT09Zi5sZW5ndGgpcmV0dXJuITE7dmFyIGQ9ZlswXStcIi5cIitmWzFdLGc9THIoZlsyXSkscD1hKGtyKGZbMF0pKSx2PW51bGwseT1udWxsO2lmKHZvaWQgMD09PXAuYWxnKXRocm93XCJhbGdvcml0aG0gbm90IHNwZWNpZmllZCBpbiBoZWFkZXJcIjtpZigoeT0odj1wLmFsZykuc3Vic3RyKDAsMiksbnVsbCE9biYmXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pJiZuLmxlbmd0aD4wKSYmLTE9PShcIjpcIituLmpvaW4oXCI6XCIpK1wiOlwiKS5pbmRleE9mKFwiOlwiK3YrXCI6XCIpKXRocm93XCJhbGdvcml0aG0gJ1wiK3YrXCInIG5vdCBhY2NlcHRlZCBpbiB0aGUgbGlzdFwiO2lmKFwibm9uZVwiIT12JiZudWxsPT09ZSl0aHJvd1wia2V5IHNoYWxsIGJlIHNwZWNpZmllZCB0byB2ZXJpZnkuXCI7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJi0xIT1lLmluZGV4T2YoXCItLS0tLUJFR0lOIFwiKSYmKGU9dG4uZ2V0S2V5KGUpKSwhKFwiUlNcIiE9eSYmXCJQU1wiIT15fHxlIGluc3RhbmNlb2YgaSkpdGhyb3dcImtleSBzaGFsbCBiZSBhIFJTQUtleSBvYmogZm9yIFJTKiBhbmQgUFMqIGFsZ3NcIjtpZihcIkVTXCI9PXkmJiEoZSBpbnN0YW5jZW9mIGMpKXRocm93XCJrZXkgc2hhbGwgYmUgYSBFQ0RTQSBvYmogZm9yIEVTKiBhbGdzXCI7dmFyIG09bnVsbDtpZih2b2lkIDA9PT1zLmp3c2FsZzJzaWdhbGdbcC5hbGddKXRocm93XCJ1bnN1cHBvcnRlZCBhbGcgbmFtZTogXCIrdjtpZihcIm5vbmVcIj09KG09cy5qd3NhbGcyc2lnYWxnW3ZdKSl0aHJvd1wibm90IHN1cHBvcnRlZFwiO2lmKFwiSG1hY1wiPT1tLnN1YnN0cigwLDQpKXtpZih2b2lkIDA9PT1lKXRocm93XCJoZXhhZGVjaW1hbCBrZXkgc2hhbGwgYmUgc3BlY2lmaWVkIGZvciBITUFDXCI7dmFyIF89bmV3IGgoe2FsZzptLHBhc3M6ZX0pO3JldHVybiBfLnVwZGF0ZVN0cmluZyhkKSxnPT1fLmRvRmluYWwoKX1pZigtMSE9bS5pbmRleE9mKFwid2l0aEVDRFNBXCIpKXt2YXIgUyxGPW51bGw7dHJ5e0Y9Yy5jb25jYXRTaWdUb0FTTjFTaWcoZyl9Y2F0Y2godCl7cmV0dXJuITF9cmV0dXJuKFM9bmV3IGwoe2FsZzptfSkpLmluaXQoZSksUy51cGRhdGVTdHJpbmcoZCksUy52ZXJpZnkoRil9cmV0dXJuKFM9bmV3IGwoe2FsZzptfSkpLmluaXQoZSksUy51cGRhdGVTdHJpbmcoZCksUy52ZXJpZnkoZyl9LEVyLmp3cy5KV1MucGFyc2U9ZnVuY3Rpb24odCl7dmFyIGUscixuLGk9dC5zcGxpdChcIi5cIiksbz17fTtpZigyIT1pLmxlbmd0aCYmMyE9aS5sZW5ndGgpdGhyb3dcIm1hbGZvcm1lZCBzSldTOiB3cm9uZyBudW1iZXIgb2YgJy4nIHNwbGl0dGVkIGVsZW1lbnRzXCI7cmV0dXJuIGU9aVswXSxyPWlbMV0sMz09aS5sZW5ndGgmJihuPWlbMl0pLG8uaGVhZGVyT2JqPUVyLmp3cy5KV1MucmVhZFNhZmVKU09OU3RyaW5nKGtyKGUpKSxvLnBheWxvYWRPYmo9RXIuandzLkpXUy5yZWFkU2FmZUpTT05TdHJpbmcoa3IocikpLG8uaGVhZGVyUFA9SlNPTi5zdHJpbmdpZnkoby5oZWFkZXJPYmosbnVsbCxcIiAgXCIpLG51bGw9PW8ucGF5bG9hZE9iaj9vLnBheWxvYWRQUD1rcihyKTpvLnBheWxvYWRQUD1KU09OLnN0cmluZ2lmeShvLnBheWxvYWRPYmosbnVsbCxcIiAgXCIpLHZvaWQgMCE9PW4mJihvLnNpZ0hleD1McihuKSksb30sRXIuandzLkpXUy52ZXJpZnlKV1Q9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPUVyLmp3cyxvPWkuSldTLHM9by5yZWFkU2FmZUpTT05TdHJpbmcsYT1vLmluQXJyYXksdT1vLmluY2x1ZGVkQXJyYXksYz10LnNwbGl0KFwiLlwiKSxoPWNbMF0sbD1jWzFdLGY9KExyKGNbMl0pLHMoa3IoaCkpKSxkPXMoa3IobCkpO2lmKHZvaWQgMD09PWYuYWxnKXJldHVybiExO2lmKHZvaWQgMD09PW4uYWxnKXRocm93XCJhY2NlcHRGaWVsZC5hbGcgc2hhbGwgYmUgc3BlY2lmaWVkXCI7aWYoIWEoZi5hbGcsbi5hbGcpKXJldHVybiExO2lmKHZvaWQgMCE9PWQuaXNzJiZcIm9iamVjdFwiPT09cihuLmlzcykmJiFhKGQuaXNzLG4uaXNzKSlyZXR1cm4hMTtpZih2b2lkIDAhPT1kLnN1YiYmXCJvYmplY3RcIj09PXIobi5zdWIpJiYhYShkLnN1YixuLnN1YikpcmV0dXJuITE7aWYodm9pZCAwIT09ZC5hdWQmJlwib2JqZWN0XCI9PT1yKG4uYXVkKSlpZihcInN0cmluZ1wiPT10eXBlb2YgZC5hdWQpe2lmKCFhKGQuYXVkLG4uYXVkKSlyZXR1cm4hMX1lbHNlIGlmKFwib2JqZWN0XCI9PXIoZC5hdWQpJiYhdShkLmF1ZCxuLmF1ZCkpcmV0dXJuITE7dmFyIGc9aS5JbnREYXRlLmdldE5vdygpO3JldHVybiB2b2lkIDAhPT1uLnZlcmlmeUF0JiZcIm51bWJlclwiPT10eXBlb2Ygbi52ZXJpZnlBdCYmKGc9bi52ZXJpZnlBdCksdm9pZCAwIT09bi5ncmFjZVBlcmlvZCYmXCJudW1iZXJcIj09dHlwZW9mIG4uZ3JhY2VQZXJpb2R8fChuLmdyYWNlUGVyaW9kPTApLCEodm9pZCAwIT09ZC5leHAmJlwibnVtYmVyXCI9PXR5cGVvZiBkLmV4cCYmZC5leHArbi5ncmFjZVBlcmlvZDxnKSYmKCEodm9pZCAwIT09ZC5uYmYmJlwibnVtYmVyXCI9PXR5cGVvZiBkLm5iZiYmZzxkLm5iZi1uLmdyYWNlUGVyaW9kKSYmKCEodm9pZCAwIT09ZC5pYXQmJlwibnVtYmVyXCI9PXR5cGVvZiBkLmlhdCYmZzxkLmlhdC1uLmdyYWNlUGVyaW9kKSYmKCh2b2lkIDA9PT1kLmp0aXx8dm9pZCAwPT09bi5qdGl8fGQuanRpPT09bi5qdGkpJiYhIW8udmVyaWZ5KHQsZSxuLmFsZykpKSl9LEVyLmp3cy5KV1MuaW5jbHVkZWRBcnJheT1mdW5jdGlvbih0LGUpe3ZhciBuPUVyLmp3cy5KV1MuaW5BcnJheTtpZihudWxsPT09dClyZXR1cm4hMTtpZihcIm9iamVjdFwiIT09KHZvaWQgMD09PXQ/XCJ1bmRlZmluZWRcIjpyKHQpKSlyZXR1cm4hMTtpZihcIm51bWJlclwiIT10eXBlb2YgdC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspaWYoIW4odFtpXSxlKSlyZXR1cm4hMTtyZXR1cm4hMH0sRXIuandzLkpXUy5pbkFycmF5PWZ1bmN0aW9uKHQsZSl7aWYobnVsbD09PWUpcmV0dXJuITE7aWYoXCJvYmplY3RcIiE9PSh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6cihlKSkpcmV0dXJuITE7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKWlmKGVbbl09PXQpcmV0dXJuITA7cmV0dXJuITF9LEVyLmp3cy5KV1MuandzYWxnMnNpZ2FsZz17SFMyNTY6XCJIbWFjU0hBMjU2XCIsSFMzODQ6XCJIbWFjU0hBMzg0XCIsSFM1MTI6XCJIbWFjU0hBNTEyXCIsUlMyNTY6XCJTSEEyNTZ3aXRoUlNBXCIsUlMzODQ6XCJTSEEzODR3aXRoUlNBXCIsUlM1MTI6XCJTSEE1MTJ3aXRoUlNBXCIsRVMyNTY6XCJTSEEyNTZ3aXRoRUNEU0FcIixFUzM4NDpcIlNIQTM4NHdpdGhFQ0RTQVwiLFBTMjU2OlwiU0hBMjU2d2l0aFJTQWFuZE1HRjFcIixQUzM4NDpcIlNIQTM4NHdpdGhSU0FhbmRNR0YxXCIsUFM1MTI6XCJTSEE1MTJ3aXRoUlNBYW5kTUdGMVwiLG5vbmU6XCJub25lXCJ9LEVyLmp3cy5KV1MuaXNTYWZlSlNPTlN0cmluZz1mdW5jdGlvbih0LGUsbil7dmFyIGk9bnVsbDt0cnl7cmV0dXJuXCJvYmplY3RcIiE9KHZvaWQgMD09PShpPXdyKHQpKT9cInVuZGVmaW5lZFwiOnIoaSkpPzA6aS5jb25zdHJ1Y3Rvcj09PUFycmF5PzA6KGUmJihlW25dPWkpLDEpfWNhdGNoKHQpe3JldHVybiAwfX0sRXIuandzLkpXUy5yZWFkU2FmZUpTT05TdHJpbmc9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbDt0cnl7cmV0dXJuXCJvYmplY3RcIiE9KHZvaWQgMD09PShlPXdyKHQpKT9cInVuZGVmaW5lZFwiOnIoZSkpP251bGw6ZS5jb25zdHJ1Y3Rvcj09PUFycmF5P251bGw6ZX1jYXRjaCh0KXtyZXR1cm4gbnVsbH19LEVyLmp3cy5KV1MuZ2V0RW5jb2RlZFNpZ25hdHVyZVZhbHVlRnJvbUpXUz1mdW5jdGlvbih0KXt2YXIgZT10Lm1hdGNoKC9eW14uXStcXC5bXi5dK1xcLihbXi5dKykkLyk7aWYobnVsbD09ZSl0aHJvd1wiSldTIHNpZ25hdHVyZSBpcyBub3QgYSBmb3JtIG9mICdIZWFkLlBheWxvYWQuU2lnVmFsdWUnLlwiO3JldHVybiBlWzFdfSxFci5qd3MuSldTLmdldEpXS3RodW1icHJpbnQ9ZnVuY3Rpb24odCl7aWYoXCJSU0FcIiE9PXQua3R5JiZcIkVDXCIhPT10Lmt0eSYmXCJvY3RcIiE9PXQua3R5KXRocm93XCJ1bnN1cHBvcnRlZCBhbGdvcml0aG0gZm9yIEpXSyBUaHVtcHJpbnRcIjt2YXIgZT1cIntcIjtpZihcIlJTQVwiPT09dC5rdHkpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0Lm58fFwic3RyaW5nXCIhPXR5cGVvZiB0LmUpdGhyb3dcIndyb25nIG4gYW5kIGUgdmFsdWUgZm9yIFJTQSBrZXlcIjtlKz0nXCJlXCI6XCInK3QuZSsnXCIsJyxlKz0nXCJrdHlcIjpcIicrdC5rdHkrJ1wiLCcsZSs9J1wiblwiOlwiJyt0Lm4rJ1wifSd9ZWxzZSBpZihcIkVDXCI9PT10Lmt0eSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQuY3J2fHxcInN0cmluZ1wiIT10eXBlb2YgdC54fHxcInN0cmluZ1wiIT10eXBlb2YgdC55KXRocm93XCJ3cm9uZyBjcnYsIHggYW5kIHkgdmFsdWUgZm9yIEVDIGtleVwiO2UrPSdcImNydlwiOlwiJyt0LmNydisnXCIsJyxlKz0nXCJrdHlcIjpcIicrdC5rdHkrJ1wiLCcsZSs9J1wieFwiOlwiJyt0LngrJ1wiLCcsZSs9J1wieVwiOlwiJyt0LnkrJ1wifSd9ZWxzZSBpZihcIm9jdFwiPT09dC5rdHkpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0LmspdGhyb3dcIndyb25nIGsgdmFsdWUgZm9yIG9jdChzeW1tZXRyaWMpIGtleVwiO2UrPSdcImt0eVwiOlwiJyt0Lmt0eSsnXCIsJyxlKz0nXCJrXCI6XCInK3QuaysnXCJ9J312YXIgcj1qcihlKTtyZXR1cm4gVXIoRXIuY3J5cHRvLlV0aWwuaGFzaEhleChyLFwic2hhMjU2XCIpKX0sRXIuandzLkludERhdGU9e30sRXIuandzLkludERhdGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPUVyLmp3cy5JbnREYXRlLHI9ZS5nZXROb3csbj1lLmdldFp1bHU7aWYoXCJub3dcIj09dClyZXR1cm4gcigpO2lmKFwibm93ICsgMWhvdXJcIj09dClyZXR1cm4gcigpKzM2MDA7aWYoXCJub3cgKyAxZGF5XCI9PXQpcmV0dXJuIHIoKSs4NjQwMDtpZihcIm5vdyArIDFtb250aFwiPT10KXJldHVybiByKCkrMjU5MmUzO2lmKFwibm93ICsgMXllYXJcIj09dClyZXR1cm4gcigpKzMxNTM2ZTM7aWYodC5tYXRjaCgvWiQvKSlyZXR1cm4gbih0KTtpZih0Lm1hdGNoKC9eWzAtOV0rJC8pKXJldHVybiBwYXJzZUludCh0KTt0aHJvd1widW5zdXBwb3J0ZWQgZm9ybWF0OiBcIit0fSxFci5qd3MuSW50RGF0ZS5nZXRadWx1PWZ1bmN0aW9uKHQpe3JldHVybiBXcih0KX0sRXIuandzLkludERhdGUuZ2V0Tm93PWZ1bmN0aW9uKCl7cmV0dXJufn4obmV3IERhdGUvMWUzKX0sRXIuandzLkludERhdGUuaW50RGF0ZTJVVENTdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBEYXRlKDFlMyp0KS50b1VUQ1N0cmluZygpfSxFci5qd3MuSW50RGF0ZS5pbnREYXRlMlp1bHU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IERhdGUoMWUzKnQpO3JldHVybihcIjAwMDBcIitlLmdldFVUQ0Z1bGxZZWFyKCkpLnNsaWNlKC00KSsoXCIwMFwiKyhlLmdldFVUQ01vbnRoKCkrMSkpLnNsaWNlKC0yKSsoXCIwMFwiK2UuZ2V0VVRDRGF0ZSgpKS5zbGljZSgtMikrKFwiMDBcIitlLmdldFVUQ0hvdXJzKCkpLnNsaWNlKC0yKSsoXCIwMFwiK2UuZ2V0VVRDTWludXRlcygpKS5zbGljZSgtMikrKFwiMDBcIitlLmdldFVUQ1NlY29uZHMoKSkuc2xpY2UoLTIpK1wiWlwifSxlLlNlY3VyZVJhbmRvbT1NZSxlLnJuZ19zZWVkX3RpbWU9TGUsZS5CaWdJbnRlZ2VyPUUsZS5SU0FLZXk9cWU7dmFyIGFuPUVyLmNyeXB0by5FRFNBO2UuRURTQT1hbjt2YXIgdW49RXIuY3J5cHRvLkRTQTtlLkRTQT11bjt2YXIgY249RXIuY3J5cHRvLlNpZ25hdHVyZTtlLlNpZ25hdHVyZT1jbjt2YXIgaG49RXIuY3J5cHRvLk1lc3NhZ2VEaWdlc3Q7ZS5NZXNzYWdlRGlnZXN0PWhuO3ZhciBsbj1Fci5jcnlwdG8uTWFjO2UuTWFjPWxuO3ZhciBmbj1Fci5jcnlwdG8uQ2lwaGVyO2UuQ2lwaGVyPWZuLGUuS0VZVVRJTD10bixlLkFTTjFIRVg9QXIsZS5YNTA5PXNuLGUuQ3J5cHRvSlM9eSxlLmI2NHRvaGV4PWIsZS5iNjR0b0JBPXcsZS5zdG9CQT1QcixlLkJBdG9zPUNyLGUuQkF0b2hleD1UcixlLnN0b2hleD1ScixlLnN0b2I2ND1mdW5jdGlvbiBkbih0KXtyZXR1cm4gRihScih0KSl9LGUuc3RvYjY0dT1mdW5jdGlvbiBnbih0KXtyZXR1cm4gSXIoRihScih0KSkpfSxlLmI2NHV0b3M9ZnVuY3Rpb24gcG4odCl7cmV0dXJuIENyKHcoRHIodCkpKX0sZS5iNjR0b2I2NHU9SXIsZS5iNjR1dG9iNjQ9RHIsZS5oZXgyYjY0PUYsZS5oZXh0b2I2NHU9VXIsZS5iNjR1dG9oZXg9THIsZS51dGY4dG9iNjR1PXhyLGUuYjY0dXRvdXRmOD1rcixlLnV0Zjh0b2I2ND1mdW5jdGlvbiB2bih0KXtyZXR1cm4gRih6cigkcih0KSkpfSxlLmI2NHRvdXRmOD1mdW5jdGlvbiB5bih0KXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KFlyKGIodCkpKX0sZS51dGY4dG9oZXg9QnIsZS5oZXh0b3V0Zjg9TnIsZS5oZXh0b3JzdHI9T3IsZS5yc3RydG9oZXg9anIsZS5oZXh0b2I2ND1IcixlLmhleHRvYjY0bmw9TXIsZS5iNjRubHRvaGV4PUtyLGUuaGV4dG9wZW09VnIsZS5wZW10b2hleD1xcixlLmhleHRvQXJyYXlCdWZmZXI9ZnVuY3Rpb24gbW4odCl7aWYodC5sZW5ndGglMiE9MCl0aHJvd1wiaW5wdXQgaXMgbm90IGV2ZW4gbGVuZ3RoXCI7aWYobnVsbD09dC5tYXRjaCgvXlswLTlBLUZhLWZdKyQvKSl0aHJvd1wiaW5wdXQgaXMgbm90IGhleGFkZWNpbWFsXCI7Zm9yKHZhciBlPW5ldyBBcnJheUJ1ZmZlcih0Lmxlbmd0aC8yKSxyPW5ldyBEYXRhVmlldyhlKSxuPTA7bjx0Lmxlbmd0aC8yO24rKylyLnNldFVpbnQ4KG4scGFyc2VJbnQodC5zdWJzdHIoMipuLDIpLDE2KSk7cmV0dXJuIGV9LGUuQXJyYXlCdWZmZXJ0b2hleD1mdW5jdGlvbiBfbih0KXtmb3IodmFyIGU9XCJcIixyPW5ldyBEYXRhVmlldyh0KSxuPTA7bjx0LmJ5dGVMZW5ndGg7bisrKWUrPShcIjAwXCIrci5nZXRVaW50OChuKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtyZXR1cm4gZX0sZS56dWx1dG9tc2VjPUpyLGUuenVsdXRvc2VjPVdyLGUuenVsdXRvZGF0ZT1mdW5jdGlvbiBTbih0KXtyZXR1cm4gbmV3IERhdGUoSnIodCkpfSxlLmRhdGV0b3p1bHU9ZnVuY3Rpb24gRm4odCxlLHIpe3ZhciBuLGk9dC5nZXRVVENGdWxsWWVhcigpO2lmKGUpe2lmKGk8MTk1MHx8MjA0OTxpKXRocm93XCJub3QgcHJvcGVyIHllYXIgZm9yIFVUQ1RpbWU6IFwiK2k7bj0oXCJcIitpKS5zbGljZSgtMil9ZWxzZSBuPShcIjAwMFwiK2kpLnNsaWNlKC00KTtpZihuKz0oXCIwXCIrKHQuZ2V0VVRDTW9udGgoKSsxKSkuc2xpY2UoLTIpLG4rPShcIjBcIit0LmdldFVUQ0RhdGUoKSkuc2xpY2UoLTIpLG4rPShcIjBcIit0LmdldFVUQ0hvdXJzKCkpLnNsaWNlKC0yKSxuKz0oXCIwXCIrdC5nZXRVVENNaW51dGVzKCkpLnNsaWNlKC0yKSxuKz0oXCIwXCIrdC5nZXRVVENTZWNvbmRzKCkpLnNsaWNlKC0yKSxyKXt2YXIgbz10LmdldFVUQ01pbGxpc2Vjb25kcygpOzAhPT1vJiYobis9XCIuXCIrKG89KG89KFwiMDBcIitvKS5zbGljZSgtMykpLnJlcGxhY2UoLzArJC9nLFwiXCIpKSl9cmV0dXJuIG4rPVwiWlwifSxlLnVyaWNtcHRvaGV4PXpyLGUuaGV4dG91cmljbXA9WXIsZS5pcHY2dG9oZXg9R3IsZS5oZXh0b2lwdjY9WHIsZS5oZXh0b2lwPVFyLGUuaXB0b2hleD1mdW5jdGlvbiBibih0KXt2YXIgZT1cIm1hbGZvcm1lZCBJUCBhZGRyZXNzXCI7aWYoISh0PXQudG9Mb3dlckNhc2UodCkpLm1hdGNoKC9eWzAtOS5dKyQvKSl7aWYodC5tYXRjaCgvXlswLTlhLWY6XSskLykmJi0xIT09dC5pbmRleE9mKFwiOlwiKSlyZXR1cm4gR3IodCk7dGhyb3cgZX12YXIgcj10LnNwbGl0KFwiLlwiKTtpZig0IT09ci5sZW5ndGgpdGhyb3cgZTt2YXIgbj1cIlwiO3RyeXtmb3IodmFyIGk9MDtpPDQ7aSsrKW4rPShcIjBcIitwYXJzZUludChyW2ldKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtyZXR1cm4gbn1jYXRjaCh0KXt0aHJvdyBlfX0sZS5lbmNvZGVVUklDb21wb25lbnRBbGw9JHIsZS5uZXdsaW5lX3RvVW5peD1mdW5jdGlvbiB3bih0KXtyZXR1cm4gdD10LnJlcGxhY2UoL1xcclxcbi9nbSxcIlxcblwiKX0sZS5uZXdsaW5lX3RvRG9zPWZ1bmN0aW9uIEVuKHQpe3JldHVybiB0PSh0PXQucmVwbGFjZSgvXFxyXFxuL2dtLFwiXFxuXCIpKS5yZXBsYWNlKC9cXG4vZ20sXCJcXHJcXG5cIil9LGUuaGV4dG9wb3NoZXg9WnIsZS5pbnRhcnlzdHJ0b2hleD1mdW5jdGlvbiB4bih0KXt0PSh0PSh0PXQucmVwbGFjZSgvXlxccypcXFtcXHMqLyxcIlwiKSkucmVwbGFjZSgvXFxzKlxcXVxccyokLyxcIlwiKSkucmVwbGFjZSgvXFxzKi9nLFwiXCIpO3RyeXtyZXR1cm4gdC5zcGxpdCgvLC8pLm1hcChmdW5jdGlvbih0LGUscil7dmFyIG49cGFyc2VJbnQodCk7aWYobjwwfHwyNTU8bil0aHJvd1wiaW50ZWdlciBub3QgaW4gcmFuZ2UgMC0yNTVcIjtyZXR1cm4oXCIwMFwiK24udG9TdHJpbmcoMTYpKS5zbGljZSgtMil9KS5qb2luKFwiXCIpfWNhdGNoKHQpe3Rocm93XCJtYWxmb3JtZWQgaW50ZWdlciBhcnJheSBzdHJpbmc6IFwiK3R9fSxlLnN0cmRpZmZpZHg9ZnVuY3Rpb24gdChlLHIpe3ZhciBuPWUubGVuZ3RoO2UubGVuZ3RoPnIubGVuZ3RoJiYobj1yLmxlbmd0aCk7Zm9yKHZhciBpPTA7aTxuO2krKylpZihlLmNoYXJDb2RlQXQoaSkhPXIuY2hhckNvZGVBdChpKSlyZXR1cm4gaTtyZXR1cm4gZS5sZW5ndGghPXIubGVuZ3RoP246LTF9LGUuS0pVUj1Fcjt2YXIga249RXIuY3J5cHRvO2UuY3J5cHRvPWtuO3ZhciBBbj1Fci5hc24xO2UuYXNuMT1Bbjt2YXIgUG49RXIuandzO2UuandzPVBuO3ZhciBDbj1Fci5sYW5nO2UubGFuZz1Dbn0pLmNhbGwodGhpcyxyKDI3KS5CdWZmZXIpfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHQpe1xuLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xudmFyIG49cigyOSksaT1yKDMwKSxvPXIoMzEpO2Z1bmN0aW9uIHMoKXtyZXR1cm4gdS5UWVBFRF9BUlJBWV9TVVBQT1JUPzIxNDc0ODM2NDc6MTA3Mzc0MTgyM31mdW5jdGlvbiBhKHQsZSl7aWYocygpPGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aFwiKTtyZXR1cm4gdS5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0PW5ldyBVaW50OEFycmF5KGUpKS5fX3Byb3RvX189dS5wcm90b3R5cGU6KG51bGw9PT10JiYodD1uZXcgdShlKSksdC5sZW5ndGg9ZSksdH1mdW5jdGlvbiB1KHQsZSxyKXtpZighKHUuVFlQRURfQVJSQVlfU1VQUE9SVHx8dGhpcyBpbnN0YW5jZW9mIHUpKXJldHVybiBuZXcgdSh0LGUscik7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIklmIGVuY29kaW5nIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nXCIpO3JldHVybiBsKHRoaXMsdCl9cmV0dXJuIGModGhpcyx0LGUscil9ZnVuY3Rpb24gYyh0LGUscixuKXtpZihcIm51bWJlclwiPT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJmUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9mdW5jdGlvbiBpKHQsZSxyLG4pe2lmKGUuYnl0ZUxlbmd0aCxyPDB8fGUuYnl0ZUxlbmd0aDxyKXRocm93IG5ldyBSYW5nZUVycm9yKFwiJ29mZnNldCcgaXMgb3V0IG9mIGJvdW5kc1wiKTtpZihlLmJ5dGVMZW5ndGg8cisobnx8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCInbGVuZ3RoJyBpcyBvdXQgb2YgYm91bmRzXCIpO2U9dm9pZCAwPT09ciYmdm9pZCAwPT09bj9uZXcgVWludDhBcnJheShlKTp2b2lkIDA9PT1uP25ldyBVaW50OEFycmF5KGUscik6bmV3IFVpbnQ4QXJyYXkoZSxyLG4pO3UuVFlQRURfQVJSQVlfU1VQUE9SVD8odD1lKS5fX3Byb3RvX189dS5wcm90b3R5cGU6dD1mKHQsZSk7cmV0dXJuIHR9KHQsZSxyLG4pOlwic3RyaW5nXCI9PXR5cGVvZiBlP2Z1bmN0aW9uIHModCxlLHIpe1wic3RyaW5nXCI9PXR5cGVvZiByJiZcIlwiIT09cnx8KHI9XCJ1dGY4XCIpO2lmKCF1LmlzRW5jb2RpbmcocikpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJlbmNvZGluZ1wiIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKTt2YXIgbj0wfGcoZSxyKSxpPSh0PWEodCxuKSkud3JpdGUoZSxyKTtpIT09biYmKHQ9dC5zbGljZSgwLGkpKTtyZXR1cm4gdH0odCxlLHIpOmZ1bmN0aW9uIGModCxlKXtpZih1LmlzQnVmZmVyKGUpKXt2YXIgcj0wfGQoZS5sZW5ndGgpO3JldHVybiAwPT09KHQ9YSh0LHIpKS5sZW5ndGg/dDooZS5jb3B5KHQsMCwwLHIpLHQpfWlmKGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmZS5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8XCJsZW5ndGhcImluIGUpcmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIGUubGVuZ3RofHxmdW5jdGlvbiBuKHQpe3JldHVybiB0IT10fShlLmxlbmd0aCk/YSh0LDApOmYodCxlKTtpZihcIkJ1ZmZlclwiPT09ZS50eXBlJiZvKGUuZGF0YSkpcmV0dXJuIGYodCxlLmRhdGEpfXRocm93IG5ldyBUeXBlRXJyb3IoXCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuXCIpfSh0LGUpfWZ1bmN0aW9uIGgodCl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpO2lmKHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKX1mdW5jdGlvbiBsKHQsZSl7aWYoaChlKSx0PWEodCxlPDA/MDowfGQoZSkpLCF1LlRZUEVEX0FSUkFZX1NVUFBPUlQpZm9yKHZhciByPTA7cjxlOysrcil0W3JdPTA7cmV0dXJuIHR9ZnVuY3Rpb24gZih0LGUpe3ZhciByPWUubGVuZ3RoPDA/MDowfGQoZS5sZW5ndGgpO3Q9YSh0LHIpO2Zvcih2YXIgbj0wO248cjtuKz0xKXRbbl09MjU1JmVbbl07cmV0dXJuIHR9ZnVuY3Rpb24gZCh0KXtpZih0Pj1zKCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtIHNpemU6IDB4XCIrcygpLnRvU3RyaW5nKDE2KStcIiBieXRlc1wiKTtyZXR1cm4gMHx0fWZ1bmN0aW9uIGcodCxlKXtpZih1LmlzQnVmZmVyKHQpKXJldHVybiB0Lmxlbmd0aDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyYmKEFycmF5QnVmZmVyLmlzVmlldyh0KXx8dCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSlyZXR1cm4gdC5ieXRlTGVuZ3RoO1wic3RyaW5nXCIhPXR5cGVvZiB0JiYodD1cIlwiK3QpO3ZhciByPXQubGVuZ3RoO2lmKDA9PT1yKXJldHVybiAwO2Zvcih2YXIgbj0hMTs7KXN3aXRjaChlKXtjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiByO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2Ugdm9pZCAwOnJldHVybiBLKHQpLmxlbmd0aDtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gMipyO2Nhc2VcImhleFwiOnJldHVybiByPj4+MTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gVih0KS5sZW5ndGg7ZGVmYXVsdDppZihuKXJldHVybiBLKHQpLmxlbmd0aDtlPShcIlwiK2UpLnRvTG93ZXJDYXNlKCksbj0hMH19ZnVuY3Rpb24gcCh0LGUscil7dmFyIG49dFtlXTt0W2VdPXRbcl0sdFtyXT1ufWZ1bmN0aW9uIHYodCxlLHIsbixpKXtpZigwPT09dC5sZW5ndGgpcmV0dXJuLTE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHI/KG49cixyPTApOnI+MjE0NzQ4MzY0Nz9yPTIxNDc0ODM2NDc6cjwtMjE0NzQ4MzY0OCYmKHI9LTIxNDc0ODM2NDgpLHI9K3IsaXNOYU4ocikmJihyPWk/MDp0Lmxlbmd0aC0xKSxyPDAmJihyPXQubGVuZ3RoK3IpLHI+PXQubGVuZ3RoKXtpZihpKXJldHVybi0xO3I9dC5sZW5ndGgtMX1lbHNlIGlmKHI8MCl7aWYoIWkpcmV0dXJuLTE7cj0wfWlmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT11LmZyb20oZSxuKSksdS5pc0J1ZmZlcihlKSlyZXR1cm4gMD09PWUubGVuZ3RoPy0xOnkodCxlLHIsbixpKTtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gZSY9MjU1LHUuVFlQRURfQVJSQVlfU1VQUE9SVCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZj9pP1VpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0LGUscik6VWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbCh0LGUscik6eSh0LFtlXSxyLG4saSk7dGhyb3cgbmV3IFR5cGVFcnJvcihcInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlclwiKX1mdW5jdGlvbiB5KHQsZSxyLG4saSl7dmFyIG8scz0xLGE9dC5sZW5ndGgsdT1lLmxlbmd0aDtpZih2b2lkIDAhPT1uJiYoXCJ1Y3MyXCI9PT0obj1TdHJpbmcobikudG9Mb3dlckNhc2UoKSl8fFwidWNzLTJcIj09PW58fFwidXRmMTZsZVwiPT09bnx8XCJ1dGYtMTZsZVwiPT09bikpe2lmKHQubGVuZ3RoPDJ8fGUubGVuZ3RoPDIpcmV0dXJuLTE7cz0yLGEvPTIsdS89MixyLz0yfWZ1bmN0aW9uIGModCxlKXtyZXR1cm4gMT09PXM/dFtlXTp0LnJlYWRVSW50MTZCRShlKnMpfWlmKGkpe3ZhciBoPS0xO2ZvcihvPXI7bzxhO28rKylpZihjKHQsbyk9PT1jKGUsLTE9PT1oPzA6by1oKSl7aWYoLTE9PT1oJiYoaD1vKSxvLWgrMT09PXUpcmV0dXJuIGgqc31lbHNlLTEhPT1oJiYoby09by1oKSxoPS0xfWVsc2UgZm9yKHIrdT5hJiYocj1hLXUpLG89cjtvPj0wO28tLSl7Zm9yKHZhciBsPSEwLGY9MDtmPHU7ZisrKWlmKGModCxvK2YpIT09YyhlLGYpKXtsPSExO2JyZWFrfWlmKGwpcmV0dXJuIG99cmV0dXJuLTF9ZnVuY3Rpb24gbSh0LGUscixuKXtyPU51bWJlcihyKXx8MDt2YXIgaT10Lmxlbmd0aC1yO24/KG49TnVtYmVyKG4pKT5pJiYobj1pKTpuPWk7dmFyIG89ZS5sZW5ndGg7aWYobyUyIT0wKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGhleCBzdHJpbmdcIik7bj5vLzImJihuPW8vMik7Zm9yKHZhciBzPTA7czxuOysrcyl7dmFyIGE9cGFyc2VJbnQoZS5zdWJzdHIoMipzLDIpLDE2KTtpZihpc05hTihhKSlyZXR1cm4gczt0W3Irc109YX1yZXR1cm4gc31mdW5jdGlvbiBfKHQsZSxyLG4pe3JldHVybiBxKEsoZSx0Lmxlbmd0aC1yKSx0LHIsbil9ZnVuY3Rpb24gUyh0LGUscixuKXtyZXR1cm4gcShmdW5jdGlvbiBpKHQpe2Zvcih2YXIgZT1bXSxyPTA7cjx0Lmxlbmd0aDsrK3IpZS5wdXNoKDI1NSZ0LmNoYXJDb2RlQXQocikpO3JldHVybiBlfShlKSx0LHIsbil9ZnVuY3Rpb24gRih0LGUscixuKXtyZXR1cm4gUyh0LGUscixuKX1mdW5jdGlvbiBiKHQsZSxyLG4pe3JldHVybiBxKFYoZSksdCxyLG4pfWZ1bmN0aW9uIHcodCxlLHIsbil7cmV0dXJuIHEoZnVuY3Rpb24gaSh0LGUpe2Zvcih2YXIgcixuLGksbz1bXSxzPTA7czx0Lmxlbmd0aCYmISgoZS09Mik8MCk7KytzKXI9dC5jaGFyQ29kZUF0KHMpLG49cj4+OCxpPXIlMjU2LG8ucHVzaChpKSxvLnB1c2gobik7cmV0dXJuIG99KGUsdC5sZW5ndGgtciksdCxyLG4pfWZ1bmN0aW9uIEUodCxlLHIpe3JldHVybiAwPT09ZSYmcj09PXQubGVuZ3RoP24uZnJvbUJ5dGVBcnJheSh0KTpuLmZyb21CeXRlQXJyYXkodC5zbGljZShlLHIpKX1mdW5jdGlvbiB4KHQsZSxyKXtyPU1hdGgubWluKHQubGVuZ3RoLHIpO2Zvcih2YXIgbj1bXSxpPWU7aTxyOyl7dmFyIG8scyxhLHUsYz10W2ldLGg9bnVsbCxsPWM+MjM5PzQ6Yz4yMjM/MzpjPjE5MT8yOjE7aWYoaStsPD1yKXN3aXRjaChsKXtjYXNlIDE6YzwxMjgmJihoPWMpO2JyZWFrO2Nhc2UgMjoxMjg9PSgxOTImKG89dFtpKzFdKSkmJih1PSgzMSZjKTw8Nnw2MyZvKT4xMjcmJihoPXUpO2JyZWFrO2Nhc2UgMzpvPXRbaSsxXSxzPXRbaSsyXSwxMjg9PSgxOTImbykmJjEyOD09KDE5MiZzKSYmKHU9KDE1JmMpPDwxMnwoNjMmbyk8PDZ8NjMmcyk+MjA0NyYmKHU8NTUyOTZ8fHU+NTczNDMpJiYoaD11KTticmVhaztjYXNlIDQ6bz10W2krMV0scz10W2krMl0sYT10W2krM10sMTI4PT0oMTkyJm8pJiYxMjg9PSgxOTImcykmJjEyOD09KDE5MiZhKSYmKHU9KDE1JmMpPDwxOHwoNjMmbyk8PDEyfCg2MyZzKTw8Nnw2MyZhKT42NTUzNSYmdTwxMTE0MTEyJiYoaD11KX1udWxsPT09aD8oaD02NTUzMyxsPTEpOmg+NjU1MzUmJihoLT02NTUzNixuLnB1c2goaD4+PjEwJjEwMjN8NTUyOTYpLGg9NTYzMjB8MTAyMyZoKSxuLnB1c2goaCksaSs9bH1yZXR1cm4gZnVuY3Rpb24gZih0KXt2YXIgZT10Lmxlbmd0aDtpZihlPD1QKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyx0KTt2YXIgcj1cIlwiLG49MDtmb3IoO248ZTspcis9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsdC5zbGljZShuLG4rPVApKTtyZXR1cm4gcn0obil9ZS5CdWZmZXI9dSxlLlNsb3dCdWZmZXI9ZnVuY3Rpb24gayh0KXsrdCE9dCYmKHQ9MCk7cmV0dXJuIHUuYWxsb2MoK3QpfSxlLklOU1BFQ1RfTUFYX0JZVEVTPTUwLHUuVFlQRURfQVJSQVlfU1VQUE9SVD12b2lkIDAhPT10LlRZUEVEX0FSUkFZX1NVUFBPUlQ/dC5UWVBFRF9BUlJBWV9TVVBQT1JUOmZ1bmN0aW9uIEEoKXt0cnl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIHQuX19wcm90b19fPXtfX3Byb3RvX186VWludDhBcnJheS5wcm90b3R5cGUsZm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX0sNDI9PT10LmZvbygpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnN1YmFycmF5JiYwPT09dC5zdWJhcnJheSgxLDEpLmJ5dGVMZW5ndGh9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGUua01heExlbmd0aD1zKCksdS5wb29sU2l6ZT04MTkyLHUuX2F1Z21lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19fPXUucHJvdG90eXBlLHR9LHUuZnJvbT1mdW5jdGlvbih0LGUscil7cmV0dXJuIGMobnVsbCx0LGUscil9LHUuVFlQRURfQVJSQVlfU1VQUE9SVCYmKHUucHJvdG90eXBlLl9fcHJvdG9fXz1VaW50OEFycmF5LnByb3RvdHlwZSx1Ll9fcHJvdG9fXz1VaW50OEFycmF5LFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5zcGVjaWVzJiZ1W1N5bWJvbC5zcGVjaWVzXT09PXUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LFN5bWJvbC5zcGVjaWVzLHt2YWx1ZTpudWxsLGNvbmZpZ3VyYWJsZTohMH0pKSx1LmFsbG9jPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZnVuY3Rpb24gbih0LGUscixpKXtyZXR1cm4gaChlKSxlPD0wP2EodCxlKTp2b2lkIDAhPT1yP1wic3RyaW5nXCI9PXR5cGVvZiBpP2EodCxlKS5maWxsKHIsaSk6YSh0LGUpLmZpbGwocik6YSh0LGUpfShudWxsLHQsZSxyKX0sdS5hbGxvY1Vuc2FmZT1mdW5jdGlvbih0KXtyZXR1cm4gbChudWxsLHQpfSx1LmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbih0KXtyZXR1cm4gbChudWxsLHQpfSx1LmlzQnVmZmVyPWZ1bmN0aW9uIHQoZSl7cmV0dXJuIShudWxsPT1lfHwhZS5faXNCdWZmZXIpfSx1LmNvbXBhcmU9ZnVuY3Rpb24gdChlLHIpe2lmKCF1LmlzQnVmZmVyKGUpfHwhdS5pc0J1ZmZlcihyKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnRzIG11c3QgYmUgQnVmZmVyc1wiKTtpZihlPT09cilyZXR1cm4gMDtmb3IodmFyIG49ZS5sZW5ndGgsaT1yLmxlbmd0aCxvPTAscz1NYXRoLm1pbihuLGkpO288czsrK28paWYoZVtvXSE9PXJbb10pe249ZVtvXSxpPXJbb107YnJlYWt9cmV0dXJuIG48aT8tMTppPG4/MTowfSx1LmlzRW5jb2Rpbmc9ZnVuY3Rpb24gdChlKXtzd2l0Y2goU3RyaW5nKGUpLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhleFwiOmNhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6Y2FzZVwiYmFzZTY0XCI6Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LHUuY29uY2F0PWZ1bmN0aW9uIHQoZSxyKXtpZighbyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIHUuYWxsb2MoMCk7dmFyIG47aWYodm9pZCAwPT09cilmb3Iocj0wLG49MDtuPGUubGVuZ3RoOysrbilyKz1lW25dLmxlbmd0aDt2YXIgaT11LmFsbG9jVW5zYWZlKHIpLHM9MDtmb3Iobj0wO248ZS5sZW5ndGg7KytuKXt2YXIgYT1lW25dO2lmKCF1LmlzQnVmZmVyKGEpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2EuY29weShpLHMpLHMrPWEubGVuZ3RofXJldHVybiBpfSx1LmJ5dGVMZW5ndGg9Zyx1LnByb3RvdHlwZS5faXNCdWZmZXI9ITAsdS5wcm90b3R5cGUuc3dhcDE2PWZ1bmN0aW9uIHQoKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTIhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0c1wiKTtmb3IodmFyIHI9MDtyPGU7cis9MilwKHRoaXMscixyKzEpO3JldHVybiB0aGlzfSx1LnByb3RvdHlwZS5zd2FwMzI9ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlNCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzXCIpO2Zvcih2YXIgcj0wO3I8ZTtyKz00KXAodGhpcyxyLHIrMykscCh0aGlzLHIrMSxyKzIpO3JldHVybiB0aGlzfSx1LnByb3RvdHlwZS5zd2FwNjQ9ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlOCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzXCIpO2Zvcih2YXIgcj0wO3I8ZTtyKz04KXAodGhpcyxyLHIrNykscCh0aGlzLHIrMSxyKzYpLHAodGhpcyxyKzIscis1KSxwKHRoaXMsciszLHIrNCk7cmV0dXJuIHRoaXN9LHUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uIHQoKXt2YXIgZT0wfHRoaXMubGVuZ3RoO3JldHVybiAwPT09ZT9cIlwiOjA9PT1hcmd1bWVudHMubGVuZ3RoP3godGhpcywwLGUpOmZ1bmN0aW9uIHIodCxlLG4pe3ZhciBpPSExO2lmKCh2b2lkIDA9PT1lfHxlPDApJiYoZT0wKSxlPnRoaXMubGVuZ3RoKXJldHVyblwiXCI7aWYoKHZvaWQgMD09PW58fG4+dGhpcy5sZW5ndGgpJiYobj10aGlzLmxlbmd0aCksbjw9MClyZXR1cm5cIlwiO2lmKChuPj4+PTApPD0oZT4+Pj0wKSlyZXR1cm5cIlwiO2Zvcih0fHwodD1cInV0ZjhcIik7Oylzd2l0Y2godCl7Y2FzZVwiaGV4XCI6cmV0dXJuIFIodGhpcyxlLG4pO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiB4KHRoaXMsZSxuKTtjYXNlXCJhc2NpaVwiOnJldHVybiBDKHRoaXMsZSxuKTtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gVCh0aGlzLGUsbik7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIEUodGhpcyxlLG4pO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiBJKHRoaXMsZSxuKTtkZWZhdWx0OmlmKGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK3QpO3Q9KHQrXCJcIikudG9Mb3dlckNhc2UoKSxpPSEwfX0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSx1LnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24gdChlKXtpZighdS5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlclwiKTtyZXR1cm4gdGhpcz09PWV8fDA9PT11LmNvbXBhcmUodGhpcyxlKX0sdS5wcm90b3R5cGUuaW5zcGVjdD1mdW5jdGlvbiB0KCl7dmFyIHI9XCJcIixuPWUuSU5TUEVDVF9NQVhfQllURVM7cmV0dXJuIHRoaXMubGVuZ3RoPjAmJihyPXRoaXMudG9TdHJpbmcoXCJoZXhcIiwwLG4pLm1hdGNoKC8uezJ9L2cpLmpvaW4oXCIgXCIpLHRoaXMubGVuZ3RoPm4mJihyKz1cIiAuLi4gXCIpKSxcIjxCdWZmZXIgXCIrcitcIj5cIn0sdS5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbiB0KGUscixuLGksbyl7aWYoIXUuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXJcIik7aWYodm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09biYmKG49ZT9lLmxlbmd0aDowKSx2b2lkIDA9PT1pJiYoaT0wKSx2b2lkIDA9PT1vJiYobz10aGlzLmxlbmd0aCkscjwwfHxuPmUubGVuZ3RofHxpPDB8fG8+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvdXQgb2YgcmFuZ2UgaW5kZXhcIik7aWYoaT49byYmcj49bilyZXR1cm4gMDtpZihpPj1vKXJldHVybi0xO2lmKHI+PW4pcmV0dXJuIDE7aWYocj4+Pj0wLG4+Pj49MCxpPj4+PTAsbz4+Pj0wLHRoaXM9PT1lKXJldHVybiAwO2Zvcih2YXIgcz1vLWksYT1uLXIsYz1NYXRoLm1pbihzLGEpLGg9dGhpcy5zbGljZShpLG8pLGw9ZS5zbGljZShyLG4pLGY9MDtmPGM7KytmKWlmKGhbZl0hPT1sW2ZdKXtzPWhbZl0sYT1sW2ZdO2JyZWFrfXJldHVybiBzPGE/LTE6YTxzPzE6MH0sdS5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24gdChlLHIsbil7cmV0dXJuLTEhPT10aGlzLmluZGV4T2YoZSxyLG4pfSx1LnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uIHQoZSxyLG4pe3JldHVybiB2KHRoaXMsZSxyLG4sITApfSx1LnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbiB0KGUscixuKXtyZXR1cm4gdih0aGlzLGUscixuLCExKX0sdS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24gdChlLHIsbixpKXtpZih2b2lkIDA9PT1yKWk9XCJ1dGY4XCIsbj10aGlzLmxlbmd0aCxyPTA7ZWxzZSBpZih2b2lkIDA9PT1uJiZcInN0cmluZ1wiPT10eXBlb2YgcilpPXIsbj10aGlzLmxlbmd0aCxyPTA7ZWxzZXtpZighaXNGaW5pdGUocikpdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWRcIik7cnw9MCxpc0Zpbml0ZShuKT8obnw9MCx2b2lkIDA9PT1pJiYoaT1cInV0ZjhcIikpOihpPW4sbj12b2lkIDApfXZhciBvPXRoaXMubGVuZ3RoLXI7aWYoKHZvaWQgMD09PW58fG4+bykmJihuPW8pLGUubGVuZ3RoPjAmJihuPDB8fHI8MCl8fHI+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kc1wiKTtpfHwoaT1cInV0ZjhcIik7Zm9yKHZhciBzPSExOzspc3dpdGNoKGkpe2Nhc2VcImhleFwiOnJldHVybiBtKHRoaXMsZSxyLG4pO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBfKHRoaXMsZSxyLG4pO2Nhc2VcImFzY2lpXCI6cmV0dXJuIFModGhpcyxlLHIsbik7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIEYodGhpcyxlLHIsbik7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGIodGhpcyxlLHIsbik7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIHcodGhpcyxlLHIsbik7ZGVmYXVsdDppZihzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitpKTtpPShcIlwiK2kpLnRvTG93ZXJDYXNlKCkscz0hMH19LHUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbiB0KCl7cmV0dXJue3R5cGU6XCJCdWZmZXJcIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19O3ZhciBQPTQwOTY7ZnVuY3Rpb24gQyh0LGUscil7dmFyIG49XCJcIjtyPU1hdGgubWluKHQubGVuZ3RoLHIpO2Zvcih2YXIgaT1lO2k8cjsrK2kpbis9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjcmdFtpXSk7cmV0dXJuIG59ZnVuY3Rpb24gVCh0LGUscil7dmFyIG49XCJcIjtyPU1hdGgubWluKHQubGVuZ3RoLHIpO2Zvcih2YXIgaT1lO2k8cjsrK2kpbis9U3RyaW5nLmZyb21DaGFyQ29kZSh0W2ldKTtyZXR1cm4gbn1mdW5jdGlvbiBSKHQsZSxyKXt2YXIgbj10Lmxlbmd0aDsoIWV8fGU8MCkmJihlPTApLCghcnx8cjwwfHxyPm4pJiYocj1uKTtmb3IodmFyIGk9XCJcIixvPWU7bzxyOysrbylpKz1NKHRbb10pO3JldHVybiBpfWZ1bmN0aW9uIEkodCxlLHIpe2Zvcih2YXIgbj10LnNsaWNlKGUsciksaT1cIlwiLG89MDtvPG4ubGVuZ3RoO28rPTIpaSs9U3RyaW5nLmZyb21DaGFyQ29kZShuW29dKzI1NipuW28rMV0pO3JldHVybiBpfWZ1bmN0aW9uIEQodCxlLHIpe2lmKHQlMSE9MHx8dDwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwib2Zmc2V0IGlzIG5vdCB1aW50XCIpO2lmKHQrZT5yKXRocm93IG5ldyBSYW5nZUVycm9yKFwiVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKX1mdW5jdGlvbiBVKHQsZSxyLG4saSxvKXtpZighdS5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKTtpZihlPml8fGU8byl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZihyK24+dC5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9ZnVuY3Rpb24gTCh0LGUscixuKXtlPDAmJihlPTY1NTM1K2UrMSk7Zm9yKHZhciBpPTAsbz1NYXRoLm1pbih0Lmxlbmd0aC1yLDIpO2k8bzsrK2kpdFtyK2ldPShlJjI1NTw8OCoobj9pOjEtaSkpPj4+OCoobj9pOjEtaSl9ZnVuY3Rpb24gQih0LGUscixuKXtlPDAmJihlPTQyOTQ5NjcyOTUrZSsxKTtmb3IodmFyIGk9MCxvPU1hdGgubWluKHQubGVuZ3RoLXIsNCk7aTxvOysraSl0W3IraV09ZT4+PjgqKG4/aTozLWkpJjI1NX1mdW5jdGlvbiBOKHQsZSxyLG4saSxvKXtpZihyK24+dC5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIik7aWYocjwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfWZ1bmN0aW9uIE8odCxlLHIsbixvKXtyZXR1cm4gb3x8Tih0LDAsciw0KSxpLndyaXRlKHQsZSxyLG4sMjMsNCkscis0fWZ1bmN0aW9uIGoodCxlLHIsbixvKXtyZXR1cm4gb3x8Tih0LDAsciw4KSxpLndyaXRlKHQsZSxyLG4sNTIsOCkscis4fXUucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uIHQoZSxyKXt2YXIgbixpPXRoaXMubGVuZ3RoO2lmKGU9fn5lLHI9dm9pZCAwPT09cj9pOn5+cixlPDA/KGUrPWkpPDAmJihlPTApOmU+aSYmKGU9aSkscjwwPyhyKz1pKTwwJiYocj0wKTpyPmkmJihyPWkpLHI8ZSYmKHI9ZSksdS5UWVBFRF9BUlJBWV9TVVBQT1JUKShuPXRoaXMuc3ViYXJyYXkoZSxyKSkuX19wcm90b19fPXUucHJvdG90eXBlO2Vsc2V7dmFyIG89ci1lO249bmV3IHUobyx2b2lkIDApO2Zvcih2YXIgcz0wO3M8bzsrK3MpbltzXT10aGlzW3MrZV19cmV0dXJuIG59LHUucHJvdG90eXBlLnJlYWRVSW50TEU9ZnVuY3Rpb24gdChlLHIsbil7ZXw9MCxyfD0wLG58fEQoZSxyLHRoaXMubGVuZ3RoKTtmb3IodmFyIGk9dGhpc1tlXSxvPTEscz0wOysrczxyJiYobyo9MjU2KTspaSs9dGhpc1tlK3NdKm87cmV0dXJuIGl9LHUucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24gdChlLHIsbil7ZXw9MCxyfD0wLG58fEQoZSxyLHRoaXMubGVuZ3RoKTtmb3IodmFyIGk9dGhpc1tlKy0tcl0sbz0xO3I+MCYmKG8qPTI1Nik7KWkrPXRoaXNbZSstLXJdKm87cmV0dXJuIGl9LHUucHJvdG90eXBlLnJlYWRVSW50OD1mdW5jdGlvbiB0KGUscil7cmV0dXJuIHJ8fEQoZSwxLHRoaXMubGVuZ3RoKSx0aGlzW2VdfSx1LnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24gdChlLHIpe3JldHVybiByfHxEKGUsMix0aGlzLmxlbmd0aCksdGhpc1tlXXx0aGlzW2UrMV08PDh9LHUucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbiB0KGUscil7cmV0dXJuIHJ8fEQoZSwyLHRoaXMubGVuZ3RoKSx0aGlzW2VdPDw4fHRoaXNbZSsxXX0sdS5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uIHQoZSxyKXtyZXR1cm4gcnx8RChlLDQsdGhpcy5sZW5ndGgpLCh0aGlzW2VdfHRoaXNbZSsxXTw8OHx0aGlzW2UrMl08PDE2KSsxNjc3NzIxNip0aGlzW2UrM119LHUucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbiB0KGUscil7cmV0dXJuIHJ8fEQoZSw0LHRoaXMubGVuZ3RoKSwxNjc3NzIxNip0aGlzW2VdKyh0aGlzW2UrMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM10pfSx1LnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24gdChlLHIsbil7ZXw9MCxyfD0wLG58fEQoZSxyLHRoaXMubGVuZ3RoKTtmb3IodmFyIGk9dGhpc1tlXSxvPTEscz0wOysrczxyJiYobyo9MjU2KTspaSs9dGhpc1tlK3NdKm87cmV0dXJuIGk+PShvKj0xMjgpJiYoaS09TWF0aC5wb3coMiw4KnIpKSxpfSx1LnByb3RvdHlwZS5yZWFkSW50QkU9ZnVuY3Rpb24gdChlLHIsbil7ZXw9MCxyfD0wLG58fEQoZSxyLHRoaXMubGVuZ3RoKTtmb3IodmFyIGk9cixvPTEscz10aGlzW2UrLS1pXTtpPjAmJihvKj0yNTYpOylzKz10aGlzW2UrLS1pXSpvO3JldHVybiBzPj0obyo9MTI4KSYmKHMtPU1hdGgucG93KDIsOCpyKSksc30sdS5wcm90b3R5cGUucmVhZEludDg9ZnVuY3Rpb24gdChlLHIpe3JldHVybiByfHxEKGUsMSx0aGlzLmxlbmd0aCksMTI4JnRoaXNbZV0/LTEqKDI1NS10aGlzW2VdKzEpOnRoaXNbZV19LHUucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uIHQoZSxyKXtyfHxEKGUsMix0aGlzLmxlbmd0aCk7dmFyIG49dGhpc1tlXXx0aGlzW2UrMV08PDg7cmV0dXJuIDMyNzY4Jm4/NDI5NDkwMTc2MHxuOm59LHUucHJvdG90eXBlLnJlYWRJbnQxNkJFPWZ1bmN0aW9uIHQoZSxyKXtyfHxEKGUsMix0aGlzLmxlbmd0aCk7dmFyIG49dGhpc1tlKzFdfHRoaXNbZV08PDg7cmV0dXJuIDMyNzY4Jm4/NDI5NDkwMTc2MHxuOm59LHUucHJvdG90eXBlLnJlYWRJbnQzMkxFPWZ1bmN0aW9uIHQoZSxyKXtyZXR1cm4gcnx8RChlLDQsdGhpcy5sZW5ndGgpLHRoaXNbZV18dGhpc1tlKzFdPDw4fHRoaXNbZSsyXTw8MTZ8dGhpc1tlKzNdPDwyNH0sdS5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24gdChlLHIpe3JldHVybiByfHxEKGUsNCx0aGlzLmxlbmd0aCksdGhpc1tlXTw8MjR8dGhpc1tlKzFdPDwxNnx0aGlzW2UrMl08PDh8dGhpc1tlKzNdfSx1LnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbiB0KGUscil7cmV0dXJuIHJ8fEQoZSw0LHRoaXMubGVuZ3RoKSxpLnJlYWQodGhpcyxlLCEwLDIzLDQpfSx1LnByb3RvdHlwZS5yZWFkRmxvYXRCRT1mdW5jdGlvbiB0KGUscil7cmV0dXJuIHJ8fEQoZSw0LHRoaXMubGVuZ3RoKSxpLnJlYWQodGhpcyxlLCExLDIzLDQpfSx1LnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24gdChlLHIpe3JldHVybiByfHxEKGUsOCx0aGlzLmxlbmd0aCksaS5yZWFkKHRoaXMsZSwhMCw1Miw4KX0sdS5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uIHQoZSxyKXtyZXR1cm4gcnx8RChlLDgsdGhpcy5sZW5ndGgpLGkucmVhZCh0aGlzLGUsITEsNTIsOCl9LHUucHJvdG90eXBlLndyaXRlVUludExFPWZ1bmN0aW9uIHQoZSxyLG4saSl7KGU9K2Uscnw9MCxufD0wLGkpfHxVKHRoaXMsZSxyLG4sTWF0aC5wb3coMiw4Km4pLTEsMCk7dmFyIG89MSxzPTA7Zm9yKHRoaXNbcl09MjU1JmU7KytzPG4mJihvKj0yNTYpOyl0aGlzW3Irc109ZS9vJjI1NTtyZXR1cm4gcitufSx1LnByb3RvdHlwZS53cml0ZVVJbnRCRT1mdW5jdGlvbiB0KGUscixuLGkpeyhlPStlLHJ8PTAsbnw9MCxpKXx8VSh0aGlzLGUscixuLE1hdGgucG93KDIsOCpuKS0xLDApO3ZhciBvPW4tMSxzPTE7Zm9yKHRoaXNbcitvXT0yNTUmZTstLW8+PTAmJihzKj0yNTYpOyl0aGlzW3Irb109ZS9zJjI1NTtyZXR1cm4gcitufSx1LnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uIHQoZSxyLG4pe3JldHVybiBlPStlLHJ8PTAsbnx8VSh0aGlzLGUsciwxLDI1NSwwKSx1LlRZUEVEX0FSUkFZX1NVUFBPUlR8fChlPU1hdGguZmxvb3IoZSkpLHRoaXNbcl09MjU1JmUscisxfSx1LnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uIHQoZSxyLG4pe3JldHVybiBlPStlLHJ8PTAsbnx8VSh0aGlzLGUsciwyLDY1NTM1LDApLHUuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tyXT0yNTUmZSx0aGlzW3IrMV09ZT4+PjgpOkwodGhpcyxlLHIsITApLHIrMn0sdS5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbiB0KGUscixuKXtyZXR1cm4gZT0rZSxyfD0wLG58fFUodGhpcyxlLHIsMiw2NTUzNSwwKSx1LlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbcl09ZT4+PjgsdGhpc1tyKzFdPTI1NSZlKTpMKHRoaXMsZSxyLCExKSxyKzJ9LHUucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24gdChlLHIsbil7cmV0dXJuIGU9K2Uscnw9MCxufHxVKHRoaXMsZSxyLDQsNDI5NDk2NzI5NSwwKSx1LlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbciszXT1lPj4+MjQsdGhpc1tyKzJdPWU+Pj4xNix0aGlzW3IrMV09ZT4+PjgsdGhpc1tyXT0yNTUmZSk6Qih0aGlzLGUsciwhMCkscis0fSx1LnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uIHQoZSxyLG4pe3JldHVybiBlPStlLHJ8PTAsbnx8VSh0aGlzLGUsciw0LDQyOTQ5NjcyOTUsMCksdS5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3JdPWU+Pj4yNCx0aGlzW3IrMV09ZT4+PjE2LHRoaXNbcisyXT1lPj4+OCx0aGlzW3IrM109MjU1JmUpOkIodGhpcyxlLHIsITEpLHIrNH0sdS5wcm90b3R5cGUud3JpdGVJbnRMRT1mdW5jdGlvbiB0KGUscixuLGkpe2lmKGU9K2Uscnw9MCwhaSl7dmFyIG89TWF0aC5wb3coMiw4Km4tMSk7VSh0aGlzLGUscixuLG8tMSwtbyl9dmFyIHM9MCxhPTEsdT0wO2Zvcih0aGlzW3JdPTI1NSZlOysrczxuJiYoYSo9MjU2KTspZTwwJiYwPT09dSYmMCE9PXRoaXNbcitzLTFdJiYodT0xKSx0aGlzW3Irc109KGUvYT4+MCktdSYyNTU7cmV0dXJuIHIrbn0sdS5wcm90b3R5cGUud3JpdGVJbnRCRT1mdW5jdGlvbiB0KGUscixuLGkpe2lmKGU9K2Uscnw9MCwhaSl7dmFyIG89TWF0aC5wb3coMiw4Km4tMSk7VSh0aGlzLGUscixuLG8tMSwtbyl9dmFyIHM9bi0xLGE9MSx1PTA7Zm9yKHRoaXNbcitzXT0yNTUmZTstLXM+PTAmJihhKj0yNTYpOyllPDAmJjA9PT11JiYwIT09dGhpc1tyK3MrMV0mJih1PTEpLHRoaXNbcitzXT0oZS9hPj4wKS11JjI1NTtyZXR1cm4gcitufSx1LnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24gdChlLHIsbil7cmV0dXJuIGU9K2Uscnw9MCxufHxVKHRoaXMsZSxyLDEsMTI3LC0xMjgpLHUuVFlQRURfQVJSQVlfU1VQUE9SVHx8KGU9TWF0aC5mbG9vcihlKSksZTwwJiYoZT0yNTUrZSsxKSx0aGlzW3JdPTI1NSZlLHIrMX0sdS5wcm90b3R5cGUud3JpdGVJbnQxNkxFPWZ1bmN0aW9uIHQoZSxyLG4pe3JldHVybiBlPStlLHJ8PTAsbnx8VSh0aGlzLGUsciwyLDMyNzY3LC0zMjc2OCksdS5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3JdPTI1NSZlLHRoaXNbcisxXT1lPj4+OCk6TCh0aGlzLGUsciwhMCkscisyfSx1LnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24gdChlLHIsbil7cmV0dXJuIGU9K2Uscnw9MCxufHxVKHRoaXMsZSxyLDIsMzI3NjcsLTMyNzY4KSx1LlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbcl09ZT4+PjgsdGhpc1tyKzFdPTI1NSZlKTpMKHRoaXMsZSxyLCExKSxyKzJ9LHUucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbiB0KGUscixuKXtyZXR1cm4gZT0rZSxyfD0wLG58fFUodGhpcyxlLHIsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx1LlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbcl09MjU1JmUsdGhpc1tyKzFdPWU+Pj44LHRoaXNbcisyXT1lPj4+MTYsdGhpc1tyKzNdPWU+Pj4yNCk6Qih0aGlzLGUsciwhMCkscis0fSx1LnByb3RvdHlwZS53cml0ZUludDMyQkU9ZnVuY3Rpb24gdChlLHIsbil7cmV0dXJuIGU9K2Uscnw9MCxufHxVKHRoaXMsZSxyLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksZTwwJiYoZT00Mjk0OTY3Mjk1K2UrMSksdS5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3JdPWU+Pj4yNCx0aGlzW3IrMV09ZT4+PjE2LHRoaXNbcisyXT1lPj4+OCx0aGlzW3IrM109MjU1JmUpOkIodGhpcyxlLHIsITEpLHIrNH0sdS5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uIHQoZSxyLG4pe3JldHVybiBPKHRoaXMsZSxyLCEwLG4pfSx1LnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24gdChlLHIsbil7cmV0dXJuIE8odGhpcyxlLHIsITEsbil9LHUucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24gdChlLHIsbil7cmV0dXJuIGoodGhpcyxlLHIsITAsbil9LHUucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24gdChlLHIsbil7cmV0dXJuIGoodGhpcyxlLHIsITEsbil9LHUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24gdChlLHIsbixpKXtpZihufHwobj0wKSxpfHwwPT09aXx8KGk9dGhpcy5sZW5ndGgpLHI+PWUubGVuZ3RoJiYocj1lLmxlbmd0aCkscnx8KHI9MCksaT4wJiZpPG4mJihpPW4pLGk9PT1uKXJldHVybiAwO2lmKDA9PT1lLmxlbmd0aHx8MD09PXRoaXMubGVuZ3RoKXJldHVybiAwO2lmKHI8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInRhcmdldFN0YXJ0IG91dCBvZiBib3VuZHNcIik7aWYobjwwfHxuPj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHNcIik7aWYoaTwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwic291cmNlRW5kIG91dCBvZiBib3VuZHNcIik7aT50aGlzLmxlbmd0aCYmKGk9dGhpcy5sZW5ndGgpLGUubGVuZ3RoLXI8aS1uJiYoaT1lLmxlbmd0aC1yK24pO3ZhciBvLHM9aS1uO2lmKHRoaXM9PT1lJiZuPHImJnI8aSlmb3Iobz1zLTE7bz49MDstLW8pZVtvK3JdPXRoaXNbbytuXTtlbHNlIGlmKHM8MWUzfHwhdS5UWVBFRF9BUlJBWV9TVVBQT1JUKWZvcihvPTA7bzxzOysrbyllW28rcl09dGhpc1tvK25dO2Vsc2UgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoZSx0aGlzLnN1YmFycmF5KG4sbitzKSxyKTtyZXR1cm4gc30sdS5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbiB0KGUscixuLGkpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtpZihcInN0cmluZ1wiPT10eXBlb2Ygcj8oaT1yLHI9MCxuPXRoaXMubGVuZ3RoKTpcInN0cmluZ1wiPT10eXBlb2YgbiYmKGk9bixuPXRoaXMubGVuZ3RoKSwxPT09ZS5sZW5ndGgpe3ZhciBvPWUuY2hhckNvZGVBdCgwKTtvPDI1NiYmKGU9byl9aWYodm9pZCAwIT09aSYmXCJzdHJpbmdcIiE9dHlwZW9mIGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkmJiF1LmlzRW5jb2RpbmcoaSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2kpfWVsc2VcIm51bWJlclwiPT10eXBlb2YgZSYmKGUmPTI1NSk7aWYocjwwfHx0aGlzLmxlbmd0aDxyfHx0aGlzLmxlbmd0aDxuKXRocm93IG5ldyBSYW5nZUVycm9yKFwiT3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKG48PXIpcmV0dXJuIHRoaXM7dmFyIHM7aWYocj4+Pj0wLG49dm9pZCAwPT09bj90aGlzLmxlbmd0aDpuPj4+MCxlfHwoZT0wKSxcIm51bWJlclwiPT10eXBlb2YgZSlmb3Iocz1yO3M8bjsrK3MpdGhpc1tzXT1lO2Vsc2V7dmFyIGE9dS5pc0J1ZmZlcihlKT9lOksobmV3IHUoZSxpKS50b1N0cmluZygpKSxjPWEubGVuZ3RoO2ZvcihzPTA7czxuLXI7KytzKXRoaXNbcytyXT1hW3MlY119cmV0dXJuIHRoaXN9O3ZhciBIPS9bXitcXC8wLTlBLVphLXotX10vZztmdW5jdGlvbiBNKHQpe3JldHVybiB0PDE2P1wiMFwiK3QudG9TdHJpbmcoMTYpOnQudG9TdHJpbmcoMTYpfWZ1bmN0aW9uIEsodCxlKXt2YXIgcjtlPWV8fDEvMDtmb3IodmFyIG49dC5sZW5ndGgsaT1udWxsLG89W10scz0wO3M8bjsrK3Mpe2lmKChyPXQuY2hhckNvZGVBdChzKSk+NTUyOTUmJnI8NTczNDQpe2lmKCFpKXtpZihyPjU2MzE5KXsoZS09Myk+LTEmJm8ucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9aWYocysxPT09bil7KGUtPTMpPi0xJiZvLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWk9cjtjb250aW51ZX1pZihyPDU2MzIwKXsoZS09Myk+LTEmJm8ucHVzaCgyMzksMTkxLDE4OSksaT1yO2NvbnRpbnVlfXI9NjU1MzYrKGktNTUyOTY8PDEwfHItNTYzMjApfWVsc2UgaSYmKGUtPTMpPi0xJiZvLnB1c2goMjM5LDE5MSwxODkpO2lmKGk9bnVsbCxyPDEyOCl7aWYoKGUtPTEpPDApYnJlYWs7by5wdXNoKHIpfWVsc2UgaWYocjwyMDQ4KXtpZigoZS09Mik8MClicmVhaztvLnB1c2gocj4+NnwxOTIsNjMmcnwxMjgpfWVsc2UgaWYocjw2NTUzNil7aWYoKGUtPTMpPDApYnJlYWs7by5wdXNoKHI+PjEyfDIyNCxyPj42JjYzfDEyOCw2MyZyfDEyOCl9ZWxzZXtpZighKHI8MTExNDExMikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb2RlIHBvaW50XCIpO2lmKChlLT00KTwwKWJyZWFrO28ucHVzaChyPj4xOHwyNDAscj4+MTImNjN8MTI4LHI+PjYmNjN8MTI4LDYzJnJ8MTI4KX19cmV0dXJuIG99ZnVuY3Rpb24gVih0KXtyZXR1cm4gbi50b0J5dGVBcnJheShmdW5jdGlvbiBlKHQpe2lmKCh0PWZ1bmN0aW9uIGUodCl7cmV0dXJuIHQudHJpbT90LnRyaW0oKTp0LnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9KHQpLnJlcGxhY2UoSCxcIlwiKSkubGVuZ3RoPDIpcmV0dXJuXCJcIjtmb3IoO3QubGVuZ3RoJTQhPTA7KXQrPVwiPVwiO3JldHVybiB0fSh0KSl9ZnVuY3Rpb24gcSh0LGUscixuKXtmb3IodmFyIGk9MDtpPG4mJiEoaStyPj1lLmxlbmd0aHx8aT49dC5sZW5ndGgpOysraSllW2krcl09dFtpXTtyZXR1cm4gaX19KS5jYWxsKHRoaXMscigyOCkpfSxmdW5jdGlvbih0LGUpe3ZhciByO3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7cj1yfHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKHQpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihyPXdpbmRvdyl9dC5leHBvcnRzPXJ9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtlLmJ5dGVMZW5ndGg9ZnVuY3Rpb24gbih0KXt2YXIgZT1mKHQpLHI9ZVswXSxuPWVbMV07cmV0dXJuIDMqKHIrbikvNC1ufSxlLnRvQnl0ZUFycmF5PWZ1bmN0aW9uIGkodCl7Zm9yKHZhciBlLHI9Zih0KSxuPXJbMF0saT1yWzFdLG89bmV3IHUoZnVuY3Rpb24gcyh0LGUscil7cmV0dXJuIDMqKGUrcikvNC1yfSgwLG4saSkpLGM9MCxoPWk+MD9uLTQ6bixsPTA7bDxoO2wrPTQpZT1hW3QuY2hhckNvZGVBdChsKV08PDE4fGFbdC5jaGFyQ29kZUF0KGwrMSldPDwxMnxhW3QuY2hhckNvZGVBdChsKzIpXTw8NnxhW3QuY2hhckNvZGVBdChsKzMpXSxvW2MrK109ZT4+MTYmMjU1LG9bYysrXT1lPj44JjI1NSxvW2MrK109MjU1JmU7Mj09PWkmJihlPWFbdC5jaGFyQ29kZUF0KGwpXTw8MnxhW3QuY2hhckNvZGVBdChsKzEpXT4+NCxvW2MrK109MjU1JmUpOzE9PT1pJiYoZT1hW3QuY2hhckNvZGVBdChsKV08PDEwfGFbdC5jaGFyQ29kZUF0KGwrMSldPDw0fGFbdC5jaGFyQ29kZUF0KGwrMildPj4yLG9bYysrXT1lPj44JjI1NSxvW2MrK109MjU1JmUpO3JldHVybiBvfSxlLmZyb21CeXRlQXJyYXk9ZnVuY3Rpb24gbyh0KXtmb3IodmFyIGUscj10Lmxlbmd0aCxuPXIlMyxpPVtdLG89MCxhPXItbjtvPGE7bys9MTYzODMpaS5wdXNoKGQodCxvLG8rMTYzODM+YT9hOm8rMTYzODMpKTsxPT09bj8oZT10W3ItMV0saS5wdXNoKHNbZT4+Ml0rc1tlPDw0JjYzXStcIj09XCIpKToyPT09biYmKGU9KHRbci0yXTw8OCkrdFtyLTFdLGkucHVzaChzW2U+PjEwXStzW2U+PjQmNjNdK3NbZTw8MiY2M10rXCI9XCIpKTtyZXR1cm4gaS5qb2luKFwiXCIpfTtmb3IodmFyIHM9W10sYT1bXSx1PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5P1VpbnQ4QXJyYXk6QXJyYXksYz1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixoPTAsbD1jLmxlbmd0aDtoPGw7KytoKXNbaF09Y1toXSxhW2MuY2hhckNvZGVBdChoKV09aDtmdW5jdGlvbiBmKHQpe3ZhciBlPXQubGVuZ3RoO2lmKGUlND4wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDRcIik7dmFyIHI9dC5pbmRleE9mKFwiPVwiKTtyZXR1cm4tMT09PXImJihyPWUpLFtyLHI9PT1lPzA6NC1yJTRdfWZ1bmN0aW9uIGQodCxlLHIpe2Zvcih2YXIgbixpLG89W10sYT1lO2E8cjthKz0zKW49KHRbYV08PDE2JjE2NzExNjgwKSsodFthKzFdPDw4JjY1MjgwKSsoMjU1JnRbYSsyXSksby5wdXNoKHNbKGk9bik+PjE4JjYzXStzW2k+PjEyJjYzXStzW2k+PjYmNjNdK3NbNjMmaV0pO3JldHVybiBvLmpvaW4oXCJcIil9YVtcIi1cIi5jaGFyQ29kZUF0KDApXT02MixhW1wiX1wiLmNoYXJDb2RlQXQoMCldPTYzfSxmdW5jdGlvbih0LGUpe2UucmVhZD1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBvLHMsYT04Kmktbi0xLHU9KDE8PGEpLTEsYz11Pj4xLGg9LTcsbD1yP2ktMTowLGY9cj8tMToxLGQ9dFtlK2xdO2ZvcihsKz1mLG89ZCYoMTw8LWgpLTEsZD4+PS1oLGgrPWE7aD4wO289MjU2Km8rdFtlK2xdLGwrPWYsaC09OCk7Zm9yKHM9byYoMTw8LWgpLTEsbz4+PS1oLGgrPW47aD4wO3M9MjU2KnMrdFtlK2xdLGwrPWYsaC09OCk7aWYoMD09PW8pbz0xLWM7ZWxzZXtpZihvPT09dSlyZXR1cm4gcz9OYU46MS8wKihkPy0xOjEpO3MrPU1hdGgucG93KDIsbiksby09Y31yZXR1cm4oZD8tMToxKSpzKk1hdGgucG93KDIsby1uKX0sZS53cml0ZT1mdW5jdGlvbih0LGUscixuLGksbyl7dmFyIHMsYSx1LGM9OCpvLWktMSxoPSgxPDxjKS0xLGw9aD4+MSxmPTIzPT09aT9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsZD1uPzA6by0xLGc9bj8xOi0xLHA9ZTwwfHwwPT09ZSYmMS9lPDA/MTowO2ZvcihlPU1hdGguYWJzKGUpLGlzTmFOKGUpfHxlPT09MS8wPyhhPWlzTmFOKGUpPzE6MCxzPWgpOihzPU1hdGguZmxvb3IoTWF0aC5sb2coZSkvTWF0aC5MTjIpLGUqKHU9TWF0aC5wb3coMiwtcykpPDEmJihzLS0sdSo9MiksKGUrPXMrbD49MT9mL3U6ZipNYXRoLnBvdygyLDEtbCkpKnU+PTImJihzKyssdS89MikscytsPj1oPyhhPTAscz1oKTpzK2w+PTE/KGE9KGUqdS0xKSpNYXRoLnBvdygyLGkpLHMrPWwpOihhPWUqTWF0aC5wb3coMixsLTEpKk1hdGgucG93KDIsaSkscz0wKSk7aT49ODt0W3IrZF09MjU1JmEsZCs9ZyxhLz0yNTYsaS09OCk7Zm9yKHM9czw8aXxhLGMrPWk7Yz4wO3RbcitkXT0yNTUmcyxkKz1nLHMvPTI1NixjLT04KTt0W3IrZC1nXXw9MTI4KnB9fSxmdW5jdGlvbih0LGUpe3ZhciByPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PXIuY2FsbCh0KX19LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmRlZmF1bHQ9ZnVuY3Rpb24gbih0KXt2YXIgZT10Lmp3cyxyPXQuS2V5VXRpbCxuPXQuWDUwOSxvPXQuY3J5cHRvLHM9dC5oZXh0b2I2NHUsYT10LmI2NHRvaGV4LHU9dC5BbGxvd2VkU2lnbmluZ0FsZ3M7cmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbiBlKHQscil7aWYoISh0IGluc3RhbmNlb2YgcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KX1yZXR1cm4gdC5wYXJzZUp3dD1mdW5jdGlvbiB0KHIpe2kuTG9nLmRlYnVnKFwiSm9zZVV0aWwucGFyc2VKd3RcIik7dHJ5e3ZhciBuPWUuSldTLnBhcnNlKHIpO3JldHVybntoZWFkZXI6bi5oZWFkZXJPYmoscGF5bG9hZDpuLnBheWxvYWRPYmp9fWNhdGNoKHQpe2kuTG9nLmVycm9yKHQpfX0sdC52YWxpZGF0ZUp3dD1mdW5jdGlvbiBlKG8scyx1LGMsaCxsLGYpe2kuTG9nLmRlYnVnKFwiSm9zZVV0aWwudmFsaWRhdGVKd3RcIik7dHJ5e2lmKFwiUlNBXCI9PT1zLmt0eSlpZihzLmUmJnMubilzPXIuZ2V0S2V5KHMpO2Vsc2V7aWYoIXMueDVjfHwhcy54NWMubGVuZ3RoKXJldHVybiBpLkxvZy5lcnJvcihcIkpvc2VVdGlsLnZhbGlkYXRlSnd0OiBSU0Ega2V5IG1pc3Npbmcga2V5IG1hdGVyaWFsXCIscyksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiUlNBIGtleSBtaXNzaW5nIGtleSBtYXRlcmlhbFwiKSk7dmFyIGQ9YShzLng1Y1swXSk7cz1uLmdldFB1YmxpY0tleUZyb21DZXJ0SGV4KGQpfWVsc2V7aWYoXCJFQ1wiIT09cy5rdHkpcmV0dXJuIGkuTG9nLmVycm9yKFwiSm9zZVV0aWwudmFsaWRhdGVKd3Q6IFVuc3VwcG9ydGVkIGtleSB0eXBlXCIscyYmcy5rdHkpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihzLmt0eSkpO2lmKCEocy5jcnYmJnMueCYmcy55KSlyZXR1cm4gaS5Mb2cuZXJyb3IoXCJKb3NlVXRpbC52YWxpZGF0ZUp3dDogRUMga2V5IG1pc3Npbmcga2V5IG1hdGVyaWFsXCIscyksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiRUMga2V5IG1pc3Npbmcga2V5IG1hdGVyaWFsXCIpKTtzPXIuZ2V0S2V5KHMpfXJldHVybiB0Ll92YWxpZGF0ZUp3dChvLHMsdSxjLGgsbCxmKX1jYXRjaCh0KXtyZXR1cm4gaS5Mb2cuZXJyb3IodCYmdC5tZXNzYWdlfHx0KSxQcm9taXNlLnJlamVjdChcIkpXVCB2YWxpZGF0aW9uIGZhaWxlZFwiKX19LHQudmFsaWRhdGVKd3RBdHRyaWJ1dGVzPWZ1bmN0aW9uIGUocixuLG8scyxhLHUpe3N8fChzPTApLGF8fChhPXBhcnNlSW50KERhdGUubm93KCkvMWUzKSk7dmFyIGM9dC5wYXJzZUp3dChyKS5wYXlsb2FkO2lmKCFjLmlzcylyZXR1cm4gaS5Mb2cuZXJyb3IoXCJKb3NlVXRpbC5fdmFsaWRhdGVKd3Q6IGlzc3VlciB3YXMgbm90IHByb3ZpZGVkXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImlzc3VlciB3YXMgbm90IHByb3ZpZGVkXCIpKTtpZihjLmlzcyE9PW4pcmV0dXJuIGkuTG9nLmVycm9yKFwiSm9zZVV0aWwuX3ZhbGlkYXRlSnd0OiBJbnZhbGlkIGlzc3VlciBpbiB0b2tlblwiLGMuaXNzKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJJbnZhbGlkIGlzc3VlciBpbiB0b2tlbjogXCIrYy5pc3MpKTtpZighYy5hdWQpcmV0dXJuIGkuTG9nLmVycm9yKFwiSm9zZVV0aWwuX3ZhbGlkYXRlSnd0OiBhdWQgd2FzIG5vdCBwcm92aWRlZFwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJhdWQgd2FzIG5vdCBwcm92aWRlZFwiKSk7dmFyIGg9Yy5hdWQ9PT1vfHxBcnJheS5pc0FycmF5KGMuYXVkKSYmYy5hdWQuaW5kZXhPZihvKT49MDtpZighaClyZXR1cm4gaS5Mb2cuZXJyb3IoXCJKb3NlVXRpbC5fdmFsaWRhdGVKd3Q6IEludmFsaWQgYXVkaWVuY2UgaW4gdG9rZW5cIixjLmF1ZCksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiSW52YWxpZCBhdWRpZW5jZSBpbiB0b2tlbjogXCIrYy5hdWQpKTtpZihjLmF6cCYmYy5henAhPT1vKXJldHVybiBpLkxvZy5lcnJvcihcIkpvc2VVdGlsLl92YWxpZGF0ZUp3dDogSW52YWxpZCBhenAgaW4gdG9rZW5cIixjLmF6cCksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiSW52YWxpZCBhenAgaW4gdG9rZW46IFwiK2MuYXpwKSk7aWYoIXUpe3ZhciBsPWErcyxmPWEtcztpZighYy5pYXQpcmV0dXJuIGkuTG9nLmVycm9yKFwiSm9zZVV0aWwuX3ZhbGlkYXRlSnd0OiBpYXQgd2FzIG5vdCBwcm92aWRlZFwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJpYXQgd2FzIG5vdCBwcm92aWRlZFwiKSk7aWYobDxjLmlhdClyZXR1cm4gaS5Mb2cuZXJyb3IoXCJKb3NlVXRpbC5fdmFsaWRhdGVKd3Q6IGlhdCBpcyBpbiB0aGUgZnV0dXJlXCIsYy5pYXQpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImlhdCBpcyBpbiB0aGUgZnV0dXJlOiBcIitjLmlhdCkpO2lmKGMubmJmJiZsPGMubmJmKXJldHVybiBpLkxvZy5lcnJvcihcIkpvc2VVdGlsLl92YWxpZGF0ZUp3dDogbmJmIGlzIGluIHRoZSBmdXR1cmVcIixjLm5iZiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwibmJmIGlzIGluIHRoZSBmdXR1cmU6IFwiK2MubmJmKSk7aWYoIWMuZXhwKXJldHVybiBpLkxvZy5lcnJvcihcIkpvc2VVdGlsLl92YWxpZGF0ZUp3dDogZXhwIHdhcyBub3QgcHJvdmlkZWRcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiZXhwIHdhcyBub3QgcHJvdmlkZWRcIikpO2lmKGMuZXhwPGYpcmV0dXJuIGkuTG9nLmVycm9yKFwiSm9zZVV0aWwuX3ZhbGlkYXRlSnd0OiBleHAgaXMgaW4gdGhlIHBhc3RcIixjLmV4cCksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiZXhwIGlzIGluIHRoZSBwYXN0OlwiK2MuZXhwKSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZShjKX0sdC5fdmFsaWRhdGVKd3Q9ZnVuY3Rpb24gcihuLG8scyxhLGMsaCxsKXtyZXR1cm4gdC52YWxpZGF0ZUp3dEF0dHJpYnV0ZXMobixzLGEsYyxoLGwpLnRoZW4oZnVuY3Rpb24odCl7dHJ5e3JldHVybiBlLkpXUy52ZXJpZnkobixvLHUpP3Q6KGkuTG9nLmVycm9yKFwiSm9zZVV0aWwuX3ZhbGlkYXRlSnd0OiBzaWduYXR1cmUgdmFsaWRhdGlvbiBmYWlsZWRcIiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwic2lnbmF0dXJlIHZhbGlkYXRpb24gZmFpbGVkXCIpKSl9Y2F0Y2godCl7cmV0dXJuIGkuTG9nLmVycm9yKHQmJnQubWVzc2FnZXx8dCksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwic2lnbmF0dXJlIHZhbGlkYXRpb24gZmFpbGVkXCIpKX19KX0sdC5oYXNoU3RyaW5nPWZ1bmN0aW9uIHQoZSxyKXt0cnl7cmV0dXJuIG8uVXRpbC5oYXNoU3RyaW5nKGUscil9Y2F0Y2godCl7aS5Mb2cuZXJyb3IodCl9fSx0LmhleFRvQmFzZTY0VXJsPWZ1bmN0aW9uIHQoZSl7dHJ5e3JldHVybiBzKGUpfWNhdGNoKHQpe2kuTG9nLmVycm9yKHQpfX0sdH0oKX07dmFyIGk9cigwKTt0LmV4cG9ydHM9ZS5kZWZhdWx0fSxmdW5jdGlvbih0LGUscil7dmFyIG49cigzNCksaT1yKDM1KTt0LmV4cG9ydHM9ZnVuY3Rpb24gbyh0LGUscil7dmFyIG89ZSYmcnx8MDtcInN0cmluZ1wiPT10eXBlb2YgdCYmKGU9XCJiaW5hcnlcIj09PXQ/bmV3IEFycmF5KDE2KTpudWxsLHQ9bnVsbCk7dmFyIHM9KHQ9dHx8e30pLnJhbmRvbXx8KHQucm5nfHxuKSgpO2lmKHNbNl09MTUmc1s2XXw2NCxzWzhdPTYzJnNbOF18MTI4LGUpZm9yKHZhciBhPTA7YTwxNjsrK2EpZVtvK2FdPXNbYV07cmV0dXJuIGV8fGkocyl9fSxmdW5jdGlvbih0LGUpe3ZhciByPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBjcnlwdG8mJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgbXNDcnlwdG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHdpbmRvdy5tc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMmJm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtpZihyKXt2YXIgbj1uZXcgVWludDhBcnJheSgxNik7dC5leHBvcnRzPWZ1bmN0aW9uIHQoKXtyZXR1cm4gcihuKSxufX1lbHNle3ZhciBpPW5ldyBBcnJheSgxNik7dC5leHBvcnRzPWZ1bmN0aW9uIHQoKXtmb3IodmFyIGUscj0wO3I8MTY7cisrKTA9PSgzJnIpJiYoZT00Mjk0OTY3Mjk2Kk1hdGgucmFuZG9tKCkpLGlbcl09ZT4+PigoMyZyKTw8MykmMjU1O3JldHVybiBpfX19LGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPVtdLG49MDtuPDI1NjsrK24pcltuXT0obisyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7dC5leHBvcnRzPWZ1bmN0aW9uIGkodCxlKXt2YXIgbj1lfHwwLGk9cjtyZXR1cm5baVt0W24rK11dLGlbdFtuKytdXSxpW3RbbisrXV0saVt0W24rK11dLFwiLVwiLGlbdFtuKytdXSxpW3RbbisrXV0sXCItXCIsaVt0W24rK11dLGlbdFtuKytdXSxcIi1cIixpW3RbbisrXV0saVt0W24rK11dLFwiLVwiLGlbdFtuKytdXSxpW3RbbisrXV0saVt0W24rK11dLGlbdFtuKytdXSxpW3RbbisrXV0saVt0W24rK11dXS5qb2luKFwiXCIpfX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuU2lnbmluUmVzcG9uc2U9dm9pZCAwO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksaT1yKDMpO2UuU2lnbmluUmVzcG9uc2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIiNcIjshZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCk7dmFyIG89aS5VcmxVdGlsaXR5LnBhcnNlVXJsRnJhZ21lbnQoZSxyKTt0aGlzLmVycm9yPW8uZXJyb3IsdGhpcy5lcnJvcl9kZXNjcmlwdGlvbj1vLmVycm9yX2Rlc2NyaXB0aW9uLHRoaXMuZXJyb3JfdXJpPW8uZXJyb3JfdXJpLHRoaXMuY29kZT1vLmNvZGUsdGhpcy5zdGF0ZT1vLnN0YXRlLHRoaXMuaWRfdG9rZW49by5pZF90b2tlbix0aGlzLnNlc3Npb25fc3RhdGU9by5zZXNzaW9uX3N0YXRlLHRoaXMuYWNjZXNzX3Rva2VuPW8uYWNjZXNzX3Rva2VuLHRoaXMudG9rZW5fdHlwZT1vLnRva2VuX3R5cGUsdGhpcy5zY29wZT1vLnNjb3BlLHRoaXMucHJvZmlsZT12b2lkIDAsdGhpcy5leHBpcmVzX2luPW8uZXhwaXJlc19pbn1yZXR1cm4gbih0LFt7a2V5OlwiZXhwaXJlc19pblwiLGdldDpmdW5jdGlvbiB0KCl7aWYodGhpcy5leHBpcmVzX2F0KXt2YXIgZT1wYXJzZUludChEYXRlLm5vdygpLzFlMyk7cmV0dXJuIHRoaXMuZXhwaXJlc19hdC1lfX0sc2V0OmZ1bmN0aW9uIHQoZSl7dmFyIHI9cGFyc2VJbnQoZSk7aWYoXCJudW1iZXJcIj09dHlwZW9mIHImJnI+MCl7dmFyIG49cGFyc2VJbnQoRGF0ZS5ub3coKS8xZTMpO3RoaXMuZXhwaXJlc19hdD1uK3J9fX0se2tleTpcImV4cGlyZWRcIixnZXQ6ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXMuZXhwaXJlc19pbjtpZih2b2lkIDAhPT1lKXJldHVybiBlPD0wfX0se2tleTpcInNjb3Blc1wiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuKHRoaXMuc2NvcGV8fFwiXCIpLnNwbGl0KFwiIFwiKX19LHtrZXk6XCJpc09wZW5JZENvbm5lY3RcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLnNjb3Blcy5pbmRleE9mKFwib3BlbmlkXCIpPj0wfHwhIXRoaXMuaWRfdG9rZW59fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLlNpZ25vdXRSZXF1ZXN0PXZvaWQgMDt2YXIgbj1yKDApLGk9cigzKSxvPXIoOCk7ZS5TaWdub3V0UmVxdWVzdD1mdW5jdGlvbiB0KGUpe3ZhciByPWUudXJsLHM9ZS5pZF90b2tlbl9oaW50LGE9ZS5wb3N0X2xvZ291dF9yZWRpcmVjdF91cmksdT1lLmRhdGEsYz1lLmV4dHJhUXVlcnlQYXJhbXMsaD1lLnJlcXVlc3RfdHlwZTtpZihmdW5jdGlvbiBsKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSwhcil0aHJvdyBuLkxvZy5lcnJvcihcIlNpZ25vdXRSZXF1ZXN0LmN0b3I6IE5vIHVybCBwYXNzZWRcIiksbmV3IEVycm9yKFwidXJsXCIpO2Zvcih2YXIgZiBpbiBzJiYocj1pLlVybFV0aWxpdHkuYWRkUXVlcnlQYXJhbShyLFwiaWRfdG9rZW5faGludFwiLHMpKSxhJiYocj1pLlVybFV0aWxpdHkuYWRkUXVlcnlQYXJhbShyLFwicG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpXCIsYSksdSYmKHRoaXMuc3RhdGU9bmV3IG8uU3RhdGUoe2RhdGE6dSxyZXF1ZXN0X3R5cGU6aH0pLHI9aS5VcmxVdGlsaXR5LmFkZFF1ZXJ5UGFyYW0ocixcInN0YXRlXCIsdGhpcy5zdGF0ZS5pZCkpKSxjKXI9aS5VcmxVdGlsaXR5LmFkZFF1ZXJ5UGFyYW0ocixmLGNbZl0pO3RoaXMudXJsPXJ9fSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5TaWdub3V0UmVzcG9uc2U9dm9pZCAwO3ZhciBuPXIoMyk7ZS5TaWdub3V0UmVzcG9uc2U9ZnVuY3Rpb24gdChlKXshZnVuY3Rpb24gcih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCk7dmFyIGk9bi5VcmxVdGlsaXR5LnBhcnNlVXJsRnJhZ21lbnQoZSxcIj9cIik7dGhpcy5lcnJvcj1pLmVycm9yLHRoaXMuZXJyb3JfZGVzY3JpcHRpb249aS5lcnJvcl9kZXNjcmlwdGlvbix0aGlzLmVycm9yX3VyaT1pLmVycm9yX3VyaSx0aGlzLnN0YXRlPWkuc3RhdGV9fSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5Jbk1lbW9yeVdlYlN0b3JhZ2U9dm9pZCAwO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksaT1yKDApO2UuSW5NZW1vcnlXZWJTdG9yYWdlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbiBlKHQscil7aWYoISh0IGluc3RhbmNlb2YgcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLl9kYXRhPXt9fXJldHVybiB0LnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uIHQoZSl7cmV0dXJuIGkuTG9nLmRlYnVnKFwiSW5NZW1vcnlXZWJTdG9yYWdlLmdldEl0ZW1cIixlKSx0aGlzLl9kYXRhW2VdfSx0LnByb3RvdHlwZS5zZXRJdGVtPWZ1bmN0aW9uIHQoZSxyKXtpLkxvZy5kZWJ1ZyhcIkluTWVtb3J5V2ViU3RvcmFnZS5zZXRJdGVtXCIsZSksdGhpcy5fZGF0YVtlXT1yfSx0LnByb3RvdHlwZS5yZW1vdmVJdGVtPWZ1bmN0aW9uIHQoZSl7aS5Mb2cuZGVidWcoXCJJbk1lbW9yeVdlYlN0b3JhZ2UucmVtb3ZlSXRlbVwiLGUpLGRlbGV0ZSB0aGlzLl9kYXRhW2VdfSx0LnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24gdChlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5fZGF0YSlbZV19LG4odCxbe2tleTpcImxlbmd0aFwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMuX2RhdGEpLmxlbmd0aH19XSksdH0oKX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuVXNlck1hbmFnZXI9dm9pZCAwO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbj1lW3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gciYmdChlLnByb3RvdHlwZSxyKSxuJiZ0KGUsbiksZX19KCksaT1yKDApLG89cig5KSxzPXIoNDEpLGE9cigxNSksdT1yKDQ3KSxjPXIoNDkpLGg9cigxOCksbD1yKDIwKSxmPXIoMTApLGQ9cig0KTtlLlVzZXJNYW5hZ2VyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06Yy5TaWxlbnRSZW5ld1NlcnZpY2Usbz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06aC5TZXNzaW9uTW9uaXRvcixhPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpsLlRva2VuUmV2b2NhdGlvbkNsaWVudCxnPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTpmLlRva2VuQ2xpZW50LHA9YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOmQuSm9zZVV0aWw7IWZ1bmN0aW9uIHYodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHIgaW5zdGFuY2VvZiBzLlVzZXJNYW5hZ2VyU2V0dGluZ3N8fChyPW5ldyBzLlVzZXJNYW5hZ2VyU2V0dGluZ3MocikpO3ZhciB5PWZ1bmN0aW9uIG0odCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX0odGhpcyx0LmNhbGwodGhpcyxyKSk7cmV0dXJuIHkuX2V2ZW50cz1uZXcgdS5Vc2VyTWFuYWdlckV2ZW50cyhyKSx5Ll9zaWxlbnRSZW5ld1NlcnZpY2U9bmV3IG4oeSkseS5zZXR0aW5ncy5hdXRvbWF0aWNTaWxlbnRSZW5ldyYmKGkuTG9nLmRlYnVnKFwiVXNlck1hbmFnZXIuY3RvcjogYXV0b21hdGljU2lsZW50UmVuZXcgaXMgY29uZmlndXJlZCwgc2V0dGluZyB1cCBzaWxlbnQgcmVuZXdcIikseS5zdGFydFNpbGVudFJlbmV3KCkpLHkuc2V0dGluZ3MubW9uaXRvclNlc3Npb24mJihpLkxvZy5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLmN0b3I6IG1vbml0b3JTZXNzaW9uIGlzIGNvbmZpZ3VyZWQsIHNldHRpbmcgdXAgc2Vzc2lvbiBtb25pdG9yXCIpLHkuX3Nlc3Npb25Nb25pdG9yPW5ldyBvKHkpKSx5Ll90b2tlblJldm9jYXRpb25DbGllbnQ9bmV3IGEoeS5fc2V0dGluZ3MpLHkuX3Rva2VuQ2xpZW50PW5ldyBnKHkuX3NldHRpbmdzKSx5Ll9qb3NlVXRpbD1wLHl9cmV0dXJuIGZ1bmN0aW9uIHIodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX0oZSx0KSxlLnByb3RvdHlwZS5nZXRVc2VyPWZ1bmN0aW9uIHQoKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9sb2FkVXNlcigpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQ/KGkuTG9nLmluZm8oXCJVc2VyTWFuYWdlci5nZXRVc2VyOiB1c2VyIGxvYWRlZFwiKSxlLl9ldmVudHMubG9hZCh0LCExKSx0KTooaS5Mb2cuaW5mbyhcIlVzZXJNYW5hZ2VyLmdldFVzZXI6IHVzZXIgbm90IGZvdW5kIGluIHN0b3JhZ2VcIiksbnVsbCl9KX0sZS5wcm90b3R5cGUucmVtb3ZlVXNlcj1mdW5jdGlvbiB0KCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5zdG9yZVVzZXIobnVsbCkudGhlbihmdW5jdGlvbigpe2kuTG9nLmluZm8oXCJVc2VyTWFuYWdlci5yZW1vdmVVc2VyOiB1c2VyIHJlbW92ZWQgZnJvbSBzdG9yYWdlXCIpLGUuX2V2ZW50cy51bmxvYWQoKX0pfSxlLnByb3RvdHlwZS5zaWduaW5SZWRpcmVjdD1mdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9OyhlPU9iamVjdC5hc3NpZ24oe30sZSkpLnJlcXVlc3RfdHlwZT1cInNpOnJcIjt2YXIgcj17dXNlUmVwbGFjZVRvTmF2aWdhdGU6ZS51c2VSZXBsYWNlVG9OYXZpZ2F0ZX07cmV0dXJuIHRoaXMuX3NpZ25pblN0YXJ0KGUsdGhpcy5fcmVkaXJlY3ROYXZpZ2F0b3IscikudGhlbihmdW5jdGlvbigpe2kuTG9nLmluZm8oXCJVc2VyTWFuYWdlci5zaWduaW5SZWRpcmVjdDogc3VjY2Vzc2Z1bFwiKX0pfSxlLnByb3RvdHlwZS5zaWduaW5SZWRpcmVjdENhbGxiYWNrPWZ1bmN0aW9uIHQoZSl7cmV0dXJuIHRoaXMuX3NpZ25pbkVuZChlfHx0aGlzLl9yZWRpcmVjdE5hdmlnYXRvci51cmwpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQucHJvZmlsZSYmdC5wcm9maWxlLnN1Yj9pLkxvZy5pbmZvKFwiVXNlck1hbmFnZXIuc2lnbmluUmVkaXJlY3RDYWxsYmFjazogc3VjY2Vzc2Z1bCwgc2lnbmVkIGluIHN1YjogXCIsdC5wcm9maWxlLnN1Yik6aS5Mb2cuaW5mbyhcIlVzZXJNYW5hZ2VyLnNpZ25pblJlZGlyZWN0Q2FsbGJhY2s6IG5vIHN1YlwiKSx0fSl9LGUucHJvdG90eXBlLnNpZ25pblBvcHVwPWZ1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307KGU9T2JqZWN0LmFzc2lnbih7fSxlKSkucmVxdWVzdF90eXBlPVwic2k6cFwiO3ZhciByPWUucmVkaXJlY3RfdXJpfHx0aGlzLnNldHRpbmdzLnBvcHVwX3JlZGlyZWN0X3VyaXx8dGhpcy5zZXR0aW5ncy5yZWRpcmVjdF91cmk7cmV0dXJuIHI/KGUucmVkaXJlY3RfdXJpPXIsZS5kaXNwbGF5PVwicG9wdXBcIix0aGlzLl9zaWduaW4oZSx0aGlzLl9wb3B1cE5hdmlnYXRvcix7c3RhcnRVcmw6cixwb3B1cFdpbmRvd0ZlYXR1cmVzOmUucG9wdXBXaW5kb3dGZWF0dXJlc3x8dGhpcy5zZXR0aW5ncy5wb3B1cFdpbmRvd0ZlYXR1cmVzLHBvcHVwV2luZG93VGFyZ2V0OmUucG9wdXBXaW5kb3dUYXJnZXR8fHRoaXMuc2V0dGluZ3MucG9wdXBXaW5kb3dUYXJnZXR9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYodC5wcm9maWxlJiZ0LnByb2ZpbGUuc3ViP2kuTG9nLmluZm8oXCJVc2VyTWFuYWdlci5zaWduaW5Qb3B1cDogc2lnbmluUG9wdXAgc3VjY2Vzc2Z1bCwgc2lnbmVkIGluIHN1YjogXCIsdC5wcm9maWxlLnN1Yik6aS5Mb2cuaW5mbyhcIlVzZXJNYW5hZ2VyLnNpZ25pblBvcHVwOiBubyBzdWJcIikpLHR9KSk6KGkuTG9nLmVycm9yKFwiVXNlck1hbmFnZXIuc2lnbmluUG9wdXA6IE5vIHBvcHVwX3JlZGlyZWN0X3VyaSBvciByZWRpcmVjdF91cmkgY29uZmlndXJlZFwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyBwb3B1cF9yZWRpcmVjdF91cmkgb3IgcmVkaXJlY3RfdXJpIGNvbmZpZ3VyZWRcIikpKX0sZS5wcm90b3R5cGUuc2lnbmluUG9wdXBDYWxsYmFjaz1mdW5jdGlvbiB0KGUpe3JldHVybiB0aGlzLl9zaWduaW5DYWxsYmFjayhlLHRoaXMuX3BvcHVwTmF2aWdhdG9yKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYodC5wcm9maWxlJiZ0LnByb2ZpbGUuc3ViP2kuTG9nLmluZm8oXCJVc2VyTWFuYWdlci5zaWduaW5Qb3B1cENhbGxiYWNrOiBzdWNjZXNzZnVsLCBzaWduZWQgaW4gc3ViOiBcIix0LnByb2ZpbGUuc3ViKTppLkxvZy5pbmZvKFwiVXNlck1hbmFnZXIuc2lnbmluUG9wdXBDYWxsYmFjazogbm8gc3ViXCIpKSx0fSkuY2F0Y2goZnVuY3Rpb24odCl7aS5Mb2cuZXJyb3IodC5tZXNzYWdlKX0pfSxlLnByb3RvdHlwZS5zaWduaW5TaWxlbnQ9ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXMscj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuKHI9T2JqZWN0LmFzc2lnbih7fSxyKSkucmVxdWVzdF90eXBlPVwic2k6c1wiLHRoaXMuX2xvYWRVc2VyKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5yZWZyZXNoX3Rva2VuPyhyLnJlZnJlc2hfdG9rZW49dC5yZWZyZXNoX3Rva2VuLGUuX3VzZVJlZnJlc2hUb2tlbihyKSk6KHIuaWRfdG9rZW5faGludD1yLmlkX3Rva2VuX2hpbnR8fGUuc2V0dGluZ3MuaW5jbHVkZUlkVG9rZW5JblNpbGVudFJlbmV3JiZ0JiZ0LmlkX3Rva2VuLHQmJmUuX3NldHRpbmdzLnZhbGlkYXRlU3ViT25TaWxlbnRSZW5ldyYmKGkuTG9nLmRlYnVnKFwiVXNlck1hbmFnZXIuc2lnbmluU2lsZW50LCBzdWJqZWN0IHByaW9yIHRvIHNpbGVudCByZW5ldzogXCIsdC5wcm9maWxlLnN1Yiksci5jdXJyZW50X3N1Yj10LnByb2ZpbGUuc3ViKSxlLl9zaWduaW5TaWxlbnRJZnJhbWUocikpfSl9LGUucHJvdG90eXBlLl91c2VSZWZyZXNoVG9rZW49ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXMscj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuIHRoaXMuX3Rva2VuQ2xpZW50LmV4Y2hhbmdlUmVmcmVzaFRva2VuKHIpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQ/dC5hY2Nlc3NfdG9rZW4/ZS5fbG9hZFVzZXIoKS50aGVuKGZ1bmN0aW9uKHIpe2lmKHIpe3ZhciBuPVByb21pc2UucmVzb2x2ZSgpO3JldHVybiB0LmlkX3Rva2VuJiYobj1lLl92YWxpZGF0ZUlkVG9rZW5Gcm9tVG9rZW5SZWZyZXNoVG9rZW4oci5wcm9maWxlLHQuaWRfdG9rZW4pKSxuLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gaS5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5fdXNlUmVmcmVzaFRva2VuOiByZWZyZXNoIHRva2VuIHJlc3BvbnNlIHN1Y2Nlc3NcIiksci5pZF90b2tlbj10LmlkX3Rva2VuLHIuYWNjZXNzX3Rva2VuPXQuYWNjZXNzX3Rva2VuLHIucmVmcmVzaF90b2tlbj10LnJlZnJlc2hfdG9rZW58fHIucmVmcmVzaF90b2tlbixyLmV4cGlyZXNfaW49dC5leHBpcmVzX2luLGUuc3RvcmVVc2VyKHIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZS5fZXZlbnRzLmxvYWQocikscn0pfSl9cmV0dXJuIG51bGx9KTooaS5Mb2cuZXJyb3IoXCJVc2VyTWFuYWdlci5fdXNlUmVmcmVzaFRva2VuOiBObyBhY2Nlc3MgdG9rZW4gcmV0dXJuZWQgZnJvbSB0b2tlbiBlbmRwb2ludFwiKSxQcm9taXNlLnJlamVjdChcIk5vIGFjY2VzcyB0b2tlbiByZXR1cm5lZCBmcm9tIHRva2VuIGVuZHBvaW50XCIpKTooaS5Mb2cuZXJyb3IoXCJVc2VyTWFuYWdlci5fdXNlUmVmcmVzaFRva2VuOiBObyByZXNwb25zZSByZXR1cm5lZCBmcm9tIHRva2VuIGVuZHBvaW50XCIpLFByb21pc2UucmVqZWN0KFwiTm8gcmVzcG9uc2UgcmV0dXJuZWQgZnJvbSB0b2tlbiBlbmRwb2ludFwiKSl9KX0sZS5wcm90b3R5cGUuX3ZhbGlkYXRlSWRUb2tlbkZyb21Ub2tlblJlZnJlc2hUb2tlbj1mdW5jdGlvbiB0KGUscil7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5fbWV0YWRhdGFTZXJ2aWNlLmdldElzc3VlcigpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG4uX2pvc2VVdGlsLnZhbGlkYXRlSnd0QXR0cmlidXRlcyhyLHQsbi5fc2V0dGluZ3MuY2xpZW50X2lkLG4uX3NldHRpbmdzLmNsb2NrU2tldykudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdD90LnN1YiE9PWUuc3ViPyhpLkxvZy5lcnJvcihcIlVzZXJNYW5hZ2VyLl92YWxpZGF0ZUlkVG9rZW5Gcm9tVG9rZW5SZWZyZXNoVG9rZW46IHN1YiBpbiBpZF90b2tlbiBkb2VzIG5vdCBtYXRjaCBjdXJyZW50IHN1YlwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJzdWIgaW4gaWRfdG9rZW4gZG9lcyBub3QgbWF0Y2ggY3VycmVudCBzdWJcIikpKTp0LmF1dGhfdGltZSYmdC5hdXRoX3RpbWUhPT1lLmF1dGhfdGltZT8oaS5Mb2cuZXJyb3IoXCJVc2VyTWFuYWdlci5fdmFsaWRhdGVJZFRva2VuRnJvbVRva2VuUmVmcmVzaFRva2VuOiBhdXRoX3RpbWUgaW4gaWRfdG9rZW4gZG9lcyBub3QgbWF0Y2ggb3JpZ2luYWwgYXV0aF90aW1lXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImF1dGhfdGltZSBpbiBpZF90b2tlbiBkb2VzIG5vdCBtYXRjaCBvcmlnaW5hbCBhdXRoX3RpbWVcIikpKTp0LmF6cCYmdC5henAhPT1lLmF6cD8oaS5Mb2cuZXJyb3IoXCJVc2VyTWFuYWdlci5fdmFsaWRhdGVJZFRva2VuRnJvbVRva2VuUmVmcmVzaFRva2VuOiBhenAgaW4gaWRfdG9rZW4gZG9lcyBub3QgbWF0Y2ggb3JpZ2luYWwgYXpwXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImF6cCBpbiBpZF90b2tlbiBkb2VzIG5vdCBtYXRjaCBvcmlnaW5hbCBhenBcIikpKTohdC5henAmJmUuYXpwPyhpLkxvZy5lcnJvcihcIlVzZXJNYW5hZ2VyLl92YWxpZGF0ZUlkVG9rZW5Gcm9tVG9rZW5SZWZyZXNoVG9rZW46IGF6cCBub3QgaW4gaWRfdG9rZW4sIGJ1dCBwcmVzZW50IGluIG9yaWdpbmFsIGlkX3Rva2VuXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImF6cCBub3QgaW4gaWRfdG9rZW4sIGJ1dCBwcmVzZW50IGluIG9yaWdpbmFsIGlkX3Rva2VuXCIpKSk6dm9pZCAwOihpLkxvZy5lcnJvcihcIlVzZXJNYW5hZ2VyLl92YWxpZGF0ZUlkVG9rZW5Gcm9tVG9rZW5SZWZyZXNoVG9rZW46IEZhaWxlZCB0byB2YWxpZGF0ZSBpZF90b2tlblwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJGYWlsZWQgdG8gdmFsaWRhdGUgaWRfdG9rZW5cIikpKX0pfSl9LGUucHJvdG90eXBlLl9zaWduaW5TaWxlbnRJZnJhbWU9ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxyPWUucmVkaXJlY3RfdXJpfHx0aGlzLnNldHRpbmdzLnNpbGVudF9yZWRpcmVjdF91cml8fHRoaXMuc2V0dGluZ3MucmVkaXJlY3RfdXJpO3JldHVybiByPyhlLnJlZGlyZWN0X3VyaT1yLGUucHJvbXB0PWUucHJvbXB0fHxcIm5vbmVcIix0aGlzLl9zaWduaW4oZSx0aGlzLl9pZnJhbWVOYXZpZ2F0b3Ise3N0YXJ0VXJsOnIsc2lsZW50UmVxdWVzdFRpbWVvdXQ6ZS5zaWxlbnRSZXF1ZXN0VGltZW91dHx8dGhpcy5zZXR0aW5ncy5zaWxlbnRSZXF1ZXN0VGltZW91dH0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQmJih0LnByb2ZpbGUmJnQucHJvZmlsZS5zdWI/aS5Mb2cuaW5mbyhcIlVzZXJNYW5hZ2VyLnNpZ25pblNpbGVudDogc3VjY2Vzc2Z1bCwgc2lnbmVkIGluIHN1YjogXCIsdC5wcm9maWxlLnN1Yik6aS5Mb2cuaW5mbyhcIlVzZXJNYW5hZ2VyLnNpZ25pblNpbGVudDogbm8gc3ViXCIpKSx0fSkpOihpLkxvZy5lcnJvcihcIlVzZXJNYW5hZ2VyLnNpZ25pblNpbGVudDogTm8gc2lsZW50X3JlZGlyZWN0X3VyaSBjb25maWd1cmVkXCIpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5vIHNpbGVudF9yZWRpcmVjdF91cmkgY29uZmlndXJlZFwiKSkpfSxlLnByb3RvdHlwZS5zaWduaW5TaWxlbnRDYWxsYmFjaz1mdW5jdGlvbiB0KGUpe3JldHVybiB0aGlzLl9zaWduaW5DYWxsYmFjayhlLHRoaXMuX2lmcmFtZU5hdmlnYXRvcikudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdCYmKHQucHJvZmlsZSYmdC5wcm9maWxlLnN1Yj9pLkxvZy5pbmZvKFwiVXNlck1hbmFnZXIuc2lnbmluU2lsZW50Q2FsbGJhY2s6IHN1Y2Nlc3NmdWwsIHNpZ25lZCBpbiBzdWI6IFwiLHQucHJvZmlsZS5zdWIpOmkuTG9nLmluZm8oXCJVc2VyTWFuYWdlci5zaWduaW5TaWxlbnRDYWxsYmFjazogbm8gc3ViXCIpKSx0fSl9LGUucHJvdG90eXBlLnNpZ25pbkNhbGxiYWNrPWZ1bmN0aW9uIHQoZSl7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5yZWFkU2lnbmluUmVzcG9uc2VTdGF0ZShlKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBuPXQuc3RhdGU7dC5yZXNwb25zZTtyZXR1cm5cInNpOnJcIj09PW4ucmVxdWVzdF90eXBlP3Iuc2lnbmluUmVkaXJlY3RDYWxsYmFjayhlKTpcInNpOnBcIj09PW4ucmVxdWVzdF90eXBlP3Iuc2lnbmluUG9wdXBDYWxsYmFjayhlKTpcInNpOnNcIj09PW4ucmVxdWVzdF90eXBlP3Iuc2lnbmluU2lsZW50Q2FsbGJhY2soZSk6UHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiaW52YWxpZCByZXNwb25zZV90eXBlIGluIHN0YXRlXCIpKX0pfSxlLnByb3RvdHlwZS5zaWdub3V0Q2FsbGJhY2s9ZnVuY3Rpb24gdChlLHIpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMucmVhZFNpZ25vdXRSZXNwb25zZVN0YXRlKGUpLnRoZW4oZnVuY3Rpb24odCl7dmFyIGk9dC5zdGF0ZSxvPXQucmVzcG9uc2U7cmV0dXJuIGk/XCJzbzpyXCI9PT1pLnJlcXVlc3RfdHlwZT9uLnNpZ25vdXRSZWRpcmVjdENhbGxiYWNrKGUpOlwic286cFwiPT09aS5yZXF1ZXN0X3R5cGU/bi5zaWdub3V0UG9wdXBDYWxsYmFjayhlLHIpOlByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcImludmFsaWQgcmVzcG9uc2VfdHlwZSBpbiBzdGF0ZVwiKSk6b30pfSxlLnByb3RvdHlwZS5xdWVyeVNlc3Npb25TdGF0dXM9ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXMscj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307KHI9T2JqZWN0LmFzc2lnbih7fSxyKSkucmVxdWVzdF90eXBlPVwic2k6c1wiO3ZhciBuPXIucmVkaXJlY3RfdXJpfHx0aGlzLnNldHRpbmdzLnNpbGVudF9yZWRpcmVjdF91cml8fHRoaXMuc2V0dGluZ3MucmVkaXJlY3RfdXJpO3JldHVybiBuPyhyLnJlZGlyZWN0X3VyaT1uLHIucHJvbXB0PVwibm9uZVwiLHIucmVzcG9uc2VfdHlwZT1yLnJlc3BvbnNlX3R5cGV8fHRoaXMuc2V0dGluZ3MucXVlcnlfc3RhdHVzX3Jlc3BvbnNlX3R5cGUsci5zY29wZT1yLnNjb3BlfHxcIm9wZW5pZFwiLHIuc2tpcFVzZXJJbmZvPSEwLHRoaXMuX3NpZ25pblN0YXJ0KHIsdGhpcy5faWZyYW1lTmF2aWdhdG9yLHtzdGFydFVybDpuLHNpbGVudFJlcXVlc3RUaW1lb3V0OnIuc2lsZW50UmVxdWVzdFRpbWVvdXR8fHRoaXMuc2V0dGluZ3Muc2lsZW50UmVxdWVzdFRpbWVvdXR9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLnByb2Nlc3NTaWduaW5SZXNwb25zZSh0LnVybCkudGhlbihmdW5jdGlvbih0KXtpZihpLkxvZy5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLnF1ZXJ5U2Vzc2lvblN0YXR1czogZ290IHNpZ25pbiByZXNwb25zZVwiKSx0LnNlc3Npb25fc3RhdGUmJnQucHJvZmlsZS5zdWIpcmV0dXJuIGkuTG9nLmluZm8oXCJVc2VyTWFuYWdlci5xdWVyeVNlc3Npb25TdGF0dXM6IHF1ZXJ5U2Vzc2lvblN0YXR1cyBzdWNjZXNzIGZvciBzdWI6IFwiLHQucHJvZmlsZS5zdWIpLHtzZXNzaW9uX3N0YXRlOnQuc2Vzc2lvbl9zdGF0ZSxzdWI6dC5wcm9maWxlLnN1YixzaWQ6dC5wcm9maWxlLnNpZH07aS5Mb2cuaW5mbyhcInF1ZXJ5U2Vzc2lvblN0YXR1cyBzdWNjZXNzZnVsLCB1c2VyIG5vdCBhdXRoZW50aWNhdGVkXCIpfSkuY2F0Y2goZnVuY3Rpb24odCl7aWYodC5zZXNzaW9uX3N0YXRlJiZlLnNldHRpbmdzLm1vbml0b3JBbm9ueW1vdXNTZXNzaW9uJiYoXCJsb2dpbl9yZXF1aXJlZFwiPT10Lm1lc3NhZ2V8fFwiY29uc2VudF9yZXF1aXJlZFwiPT10Lm1lc3NhZ2V8fFwiaW50ZXJhY3Rpb25fcmVxdWlyZWRcIj09dC5tZXNzYWdlfHxcImFjY291bnRfc2VsZWN0aW9uX3JlcXVpcmVkXCI9PXQubWVzc2FnZSkpcmV0dXJuIGkuTG9nLmluZm8oXCJVc2VyTWFuYWdlci5xdWVyeVNlc3Npb25TdGF0dXM6IHF1ZXJ5U2Vzc2lvblN0YXR1cyBzdWNjZXNzIGZvciBhbm9ueW1vdXMgdXNlclwiKSx7c2Vzc2lvbl9zdGF0ZTp0LnNlc3Npb25fc3RhdGV9O3Rocm93IHR9KX0pKTooaS5Mb2cuZXJyb3IoXCJVc2VyTWFuYWdlci5xdWVyeVNlc3Npb25TdGF0dXM6IE5vIHNpbGVudF9yZWRpcmVjdF91cmkgY29uZmlndXJlZFwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyBzaWxlbnRfcmVkaXJlY3RfdXJpIGNvbmZpZ3VyZWRcIikpKX0sZS5wcm90b3R5cGUuX3NpZ25pbj1mdW5jdGlvbiB0KGUscil7dmFyIG49dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtyZXR1cm4gdGhpcy5fc2lnbmluU3RhcnQoZSxyLGkpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG4uX3NpZ25pbkVuZCh0LnVybCxlKX0pfSxlLnByb3RvdHlwZS5fc2lnbmluU3RhcnQ9ZnVuY3Rpb24gdChlLHIpe3ZhciBuPXRoaXMsbz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307cmV0dXJuIHIucHJlcGFyZShvKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLkxvZy5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLl9zaWduaW5TdGFydDogZ290IG5hdmlnYXRvciB3aW5kb3cgaGFuZGxlXCIpLG4uY3JlYXRlU2lnbmluUmVxdWVzdChlKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBpLkxvZy5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLl9zaWduaW5TdGFydDogZ290IHNpZ25pbiByZXF1ZXN0XCIpLG8udXJsPWUudXJsLG8uaWQ9ZS5zdGF0ZS5pZCx0Lm5hdmlnYXRlKG8pfSkuY2F0Y2goZnVuY3Rpb24oZSl7dGhyb3cgdC5jbG9zZSYmKGkuTG9nLmRlYnVnKFwiVXNlck1hbmFnZXIuX3NpZ25pblN0YXJ0OiBFcnJvciBhZnRlciBwcmVwYXJpbmcgbmF2aWdhdG9yLCBjbG9zaW5nIG5hdmlnYXRvciB3aW5kb3dcIiksdC5jbG9zZSgpKSxlfSl9KX0sZS5wcm90b3R5cGUuX3NpZ25pbkVuZD1mdW5jdGlvbiB0KGUpe3ZhciByPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIHRoaXMucHJvY2Vzc1NpZ25pblJlc3BvbnNlKGUpLnRoZW4oZnVuY3Rpb24odCl7aS5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5fc2lnbmluRW5kOiBnb3Qgc2lnbmluIHJlc3BvbnNlXCIpO3ZhciBlPW5ldyBhLlVzZXIodCk7aWYobi5jdXJyZW50X3N1Yil7aWYobi5jdXJyZW50X3N1YiE9PWUucHJvZmlsZS5zdWIpcmV0dXJuIGkuTG9nLmRlYnVnKFwiVXNlck1hbmFnZXIuX3NpZ25pbkVuZDogY3VycmVudCB1c2VyIGRvZXMgbm90IG1hdGNoIHVzZXIgcmV0dXJuZWQgZnJvbSBzaWduaW4uIHN1YiBmcm9tIHNpZ25pbjogXCIsZS5wcm9maWxlLnN1YiksUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwibG9naW5fcmVxdWlyZWRcIikpO2kuTG9nLmRlYnVnKFwiVXNlck1hbmFnZXIuX3NpZ25pbkVuZDogY3VycmVudCB1c2VyIG1hdGNoZXMgdXNlciByZXR1cm5lZCBmcm9tIHNpZ25pblwiKX1yZXR1cm4gci5zdG9yZVVzZXIoZSkudGhlbihmdW5jdGlvbigpe3JldHVybiBpLkxvZy5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLl9zaWduaW5FbmQ6IHVzZXIgc3RvcmVkXCIpLHIuX2V2ZW50cy5sb2FkKGUpLGV9KX0pfSxlLnByb3RvdHlwZS5fc2lnbmluQ2FsbGJhY2s9ZnVuY3Rpb24gdChlLHIpe3JldHVybiBpLkxvZy5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLl9zaWduaW5DYWxsYmFja1wiKSxyLmNhbGxiYWNrKGUpfSxlLnByb3RvdHlwZS5zaWdub3V0UmVkaXJlY3Q9ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTsoZT1PYmplY3QuYXNzaWduKHt9LGUpKS5yZXF1ZXN0X3R5cGU9XCJzbzpyXCI7dmFyIHI9ZS5wb3N0X2xvZ291dF9yZWRpcmVjdF91cml8fHRoaXMuc2V0dGluZ3MucG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpO3ImJihlLnBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaT1yKTt2YXIgbj17dXNlUmVwbGFjZVRvTmF2aWdhdGU6ZS51c2VSZXBsYWNlVG9OYXZpZ2F0ZX07cmV0dXJuIHRoaXMuX3NpZ25vdXRTdGFydChlLHRoaXMuX3JlZGlyZWN0TmF2aWdhdG9yLG4pLnRoZW4oZnVuY3Rpb24oKXtpLkxvZy5pbmZvKFwiVXNlck1hbmFnZXIuc2lnbm91dFJlZGlyZWN0OiBzdWNjZXNzZnVsXCIpfSl9LGUucHJvdG90eXBlLnNpZ25vdXRSZWRpcmVjdENhbGxiYWNrPWZ1bmN0aW9uIHQoZSl7cmV0dXJuIHRoaXMuX3NpZ25vdXRFbmQoZXx8dGhpcy5fcmVkaXJlY3ROYXZpZ2F0b3IudXJsKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLkxvZy5pbmZvKFwiVXNlck1hbmFnZXIuc2lnbm91dFJlZGlyZWN0Q2FsbGJhY2s6IHN1Y2Nlc3NmdWxcIiksdH0pfSxlLnByb3RvdHlwZS5zaWdub3V0UG9wdXA9ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTsoZT1PYmplY3QuYXNzaWduKHt9LGUpKS5yZXF1ZXN0X3R5cGU9XCJzbzpwXCI7dmFyIHI9ZS5wb3N0X2xvZ291dF9yZWRpcmVjdF91cml8fHRoaXMuc2V0dGluZ3MucG9wdXBfcG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpfHx0aGlzLnNldHRpbmdzLnBvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaTtyZXR1cm4gZS5wb3N0X2xvZ291dF9yZWRpcmVjdF91cmk9cixlLmRpc3BsYXk9XCJwb3B1cFwiLGUucG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpJiYoZS5zdGF0ZT1lLnN0YXRlfHx7fSksdGhpcy5fc2lnbm91dChlLHRoaXMuX3BvcHVwTmF2aWdhdG9yLHtzdGFydFVybDpyLHBvcHVwV2luZG93RmVhdHVyZXM6ZS5wb3B1cFdpbmRvd0ZlYXR1cmVzfHx0aGlzLnNldHRpbmdzLnBvcHVwV2luZG93RmVhdHVyZXMscG9wdXBXaW5kb3dUYXJnZXQ6ZS5wb3B1cFdpbmRvd1RhcmdldHx8dGhpcy5zZXR0aW5ncy5wb3B1cFdpbmRvd1RhcmdldH0pLnRoZW4oZnVuY3Rpb24oKXtpLkxvZy5pbmZvKFwiVXNlck1hbmFnZXIuc2lnbm91dFBvcHVwOiBzdWNjZXNzZnVsXCIpfSl9LGUucHJvdG90eXBlLnNpZ25vdXRQb3B1cENhbGxiYWNrPWZ1bmN0aW9uIHQoZSxyKXt2b2lkIDA9PT1yJiZcImJvb2xlYW5cIj09dHlwZW9mIGUmJihyPWUsZT1udWxsKTtyZXR1cm4gdGhpcy5fcG9wdXBOYXZpZ2F0b3IuY2FsbGJhY2soZSxyLFwiP1wiKS50aGVuKGZ1bmN0aW9uKCl7aS5Mb2cuaW5mbyhcIlVzZXJNYW5hZ2VyLnNpZ25vdXRQb3B1cENhbGxiYWNrOiBzdWNjZXNzZnVsXCIpfSl9LGUucHJvdG90eXBlLl9zaWdub3V0PWZ1bmN0aW9uIHQoZSxyKXt2YXIgbj10aGlzLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3JldHVybiB0aGlzLl9zaWdub3V0U3RhcnQoZSxyLGkpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG4uX3NpZ25vdXRFbmQodC51cmwpfSl9LGUucHJvdG90eXBlLl9zaWdub3V0U3RhcnQ9ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxyPXRoaXMsbj1hcmd1bWVudHNbMV0sbz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307cmV0dXJuIG4ucHJlcGFyZShvKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLkxvZy5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLl9zaWdub3V0U3RhcnQ6IGdvdCBuYXZpZ2F0b3Igd2luZG93IGhhbmRsZVwiKSxyLl9sb2FkVXNlcigpLnRoZW4oZnVuY3Rpb24obil7cmV0dXJuIGkuTG9nLmRlYnVnKFwiVXNlck1hbmFnZXIuX3NpZ25vdXRTdGFydDogbG9hZGVkIGN1cnJlbnQgdXNlciBmcm9tIHN0b3JhZ2VcIiksKHIuX3NldHRpbmdzLnJldm9rZUFjY2Vzc1Rva2VuT25TaWdub3V0P3IuX3Jldm9rZUludGVybmFsKG4pOlByb21pc2UucmVzb2x2ZSgpKS50aGVuKGZ1bmN0aW9uKCl7dmFyIHM9ZS5pZF90b2tlbl9oaW50fHxuJiZuLmlkX3Rva2VuO3JldHVybiBzJiYoaS5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5fc2lnbm91dFN0YXJ0OiBTZXR0aW5nIGlkX3Rva2VuIGludG8gc2lnbm91dCByZXF1ZXN0XCIpLGUuaWRfdG9rZW5faGludD1zKSxyLnJlbW92ZVVzZXIoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGkuTG9nLmRlYnVnKFwiVXNlck1hbmFnZXIuX3NpZ25vdXRTdGFydDogdXNlciByZW1vdmVkLCBjcmVhdGluZyBzaWdub3V0IHJlcXVlc3RcIiksci5jcmVhdGVTaWdub3V0UmVxdWVzdChlKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBpLkxvZy5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLl9zaWdub3V0U3RhcnQ6IGdvdCBzaWdub3V0IHJlcXVlc3RcIiksby51cmw9ZS51cmwsZS5zdGF0ZSYmKG8uaWQ9ZS5zdGF0ZS5pZCksdC5uYXZpZ2F0ZShvKX0pfSl9KX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3Rocm93IHQuY2xvc2UmJihpLkxvZy5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLl9zaWdub3V0U3RhcnQ6IEVycm9yIGFmdGVyIHByZXBhcmluZyBuYXZpZ2F0b3IsIGNsb3NpbmcgbmF2aWdhdG9yIHdpbmRvd1wiKSx0LmNsb3NlKCkpLGV9KX0pfSxlLnByb3RvdHlwZS5fc2lnbm91dEVuZD1mdW5jdGlvbiB0KGUpe3JldHVybiB0aGlzLnByb2Nlc3NTaWdub3V0UmVzcG9uc2UoZSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaS5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5fc2lnbm91dEVuZDogZ290IHNpZ25vdXQgcmVzcG9uc2VcIiksdH0pfSxlLnByb3RvdHlwZS5yZXZva2VBY2Nlc3NUb2tlbj1mdW5jdGlvbiB0KCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fbG9hZFVzZXIoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9yZXZva2VJbnRlcm5hbCh0LCEwKS50aGVuKGZ1bmN0aW9uKHIpe2lmKHIpcmV0dXJuIGkuTG9nLmRlYnVnKFwiVXNlck1hbmFnZXIucmV2b2tlQWNjZXNzVG9rZW46IHJlbW92aW5nIHRva2VuIHByb3BlcnRpZXMgZnJvbSB1c2VyIGFuZCByZS1zdG9yaW5nXCIpLHQuYWNjZXNzX3Rva2VuPW51bGwsdC5yZWZyZXNoX3Rva2VuPW51bGwsdC5leHBpcmVzX2F0PW51bGwsdC50b2tlbl90eXBlPW51bGwsZS5zdG9yZVVzZXIodCkudGhlbihmdW5jdGlvbigpe2kuTG9nLmRlYnVnKFwiVXNlck1hbmFnZXIucmV2b2tlQWNjZXNzVG9rZW46IHVzZXIgc3RvcmVkXCIpLGUuX2V2ZW50cy5sb2FkKHQpfSl9KX0pLnRoZW4oZnVuY3Rpb24oKXtpLkxvZy5pbmZvKFwiVXNlck1hbmFnZXIucmV2b2tlQWNjZXNzVG9rZW46IGFjY2VzcyB0b2tlbiByZXZva2VkIHN1Y2Nlc3NmdWxseVwiKX0pfSxlLnByb3RvdHlwZS5fcmV2b2tlSW50ZXJuYWw9ZnVuY3Rpb24gdChlLHIpe3ZhciBuPXRoaXM7aWYoZSl7dmFyIG89ZS5hY2Nlc3NfdG9rZW4scz1lLnJlZnJlc2hfdG9rZW47cmV0dXJuIHRoaXMuX3Jldm9rZUFjY2Vzc1Rva2VuSW50ZXJuYWwobyxyKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuLl9yZXZva2VSZWZyZXNoVG9rZW5JbnRlcm5hbChzLHIpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHR8fGV8fGkuTG9nLmRlYnVnKFwiVXNlck1hbmFnZXIucmV2b2tlQWNjZXNzVG9rZW46IG5vIG5lZWQgdG8gcmV2b2tlIGR1ZSB0byBubyB0b2tlbihzKSwgb3IgSldUIGZvcm1hdFwiKSx0fHxlfSl9KX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCExKX0sZS5wcm90b3R5cGUuX3Jldm9rZUFjY2Vzc1Rva2VuSW50ZXJuYWw9ZnVuY3Rpb24gdChlLHIpe3JldHVybiFlfHxlLmluZGV4T2YoXCIuXCIpPj0wP1Byb21pc2UucmVzb2x2ZSghMSk6dGhpcy5fdG9rZW5SZXZvY2F0aW9uQ2xpZW50LnJldm9rZShlLHIpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4hMH0pfSxlLnByb3RvdHlwZS5fcmV2b2tlUmVmcmVzaFRva2VuSW50ZXJuYWw9ZnVuY3Rpb24gdChlLHIpe3JldHVybiBlP3RoaXMuX3Rva2VuUmV2b2NhdGlvbkNsaWVudC5yZXZva2UoZSxyLFwicmVmcmVzaF90b2tlblwiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuITB9KTpQcm9taXNlLnJlc29sdmUoITEpfSxlLnByb3RvdHlwZS5zdGFydFNpbGVudFJlbmV3PWZ1bmN0aW9uIHQoKXt0aGlzLl9zaWxlbnRSZW5ld1NlcnZpY2Uuc3RhcnQoKX0sZS5wcm90b3R5cGUuc3RvcFNpbGVudFJlbmV3PWZ1bmN0aW9uIHQoKXt0aGlzLl9zaWxlbnRSZW5ld1NlcnZpY2Uuc3RvcCgpfSxlLnByb3RvdHlwZS5fbG9hZFVzZXI9ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl91c2VyU3RvcmUuZ2V0KHRoaXMuX3VzZXJTdG9yZUtleSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdD8oaS5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5fbG9hZFVzZXI6IHVzZXIgc3RvcmFnZVN0cmluZyBsb2FkZWRcIiksYS5Vc2VyLmZyb21TdG9yYWdlU3RyaW5nKHQpKTooaS5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlci5fbG9hZFVzZXI6IG5vIHVzZXIgc3RvcmFnZVN0cmluZ1wiKSxudWxsKX0pfSxlLnByb3RvdHlwZS5zdG9yZVVzZXI9ZnVuY3Rpb24gdChlKXtpZihlKXtpLkxvZy5kZWJ1ZyhcIlVzZXJNYW5hZ2VyLnN0b3JlVXNlcjogc3RvcmluZyB1c2VyXCIpO3ZhciByPWUudG9TdG9yYWdlU3RyaW5nKCk7cmV0dXJuIHRoaXMuX3VzZXJTdG9yZS5zZXQodGhpcy5fdXNlclN0b3JlS2V5LHIpfXJldHVybiBpLkxvZy5kZWJ1ZyhcInN0b3JlVXNlci5zdG9yZVVzZXI6IHJlbW92aW5nIHVzZXJcIiksdGhpcy5fdXNlclN0b3JlLnJlbW92ZSh0aGlzLl91c2VyU3RvcmVLZXkpfSxuKGUsW3trZXk6XCJfcmVkaXJlY3ROYXZpZ2F0b3JcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLnNldHRpbmdzLnJlZGlyZWN0TmF2aWdhdG9yfX0se2tleTpcIl9wb3B1cE5hdmlnYXRvclwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuc2V0dGluZ3MucG9wdXBOYXZpZ2F0b3J9fSx7a2V5OlwiX2lmcmFtZU5hdmlnYXRvclwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuc2V0dGluZ3MuaWZyYW1lTmF2aWdhdG9yfX0se2tleTpcIl91c2VyU3RvcmVcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLnNldHRpbmdzLnVzZXJTdG9yZX19LHtrZXk6XCJldmVudHNcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9ldmVudHN9fSx7a2V5OlwiX3VzZXJTdG9yZUtleVwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuXCJ1c2VyOlwiK3RoaXMuc2V0dGluZ3MuYXV0aG9yaXR5K1wiOlwiK3RoaXMuc2V0dGluZ3MuY2xpZW50X2lkfX1dKSxlfShvLk9pZGNDbGllbnQpfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5Vc2VyTWFuYWdlclNldHRpbmdzPXZvaWQgMDt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLGk9KHIoMCkscig1KSksbz1yKDQyKSxzPXIoNDMpLGE9cig0NSksdT1yKDYpLGM9cigxKSxoPXIoMTIpO3ZhciBsPTYwLGY9MmUzO2UuVXNlck1hbmFnZXJTZXR0aW5ncz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LG49ci5wb3B1cF9yZWRpcmVjdF91cmksaT1yLnBvcHVwX3Bvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaSxkPXIucG9wdXBXaW5kb3dGZWF0dXJlcyxnPXIucG9wdXBXaW5kb3dUYXJnZXQscD1yLnNpbGVudF9yZWRpcmVjdF91cmksdj1yLnNpbGVudFJlcXVlc3RUaW1lb3V0LHk9ci5hdXRvbWF0aWNTaWxlbnRSZW5ldyxtPXZvaWQgMCE9PXkmJnksXz1yLnZhbGlkYXRlU3ViT25TaWxlbnRSZW5ldyxTPXZvaWQgMCE9PV8mJl8sRj1yLmluY2x1ZGVJZFRva2VuSW5TaWxlbnRSZW5ldyxiPXZvaWQgMD09PUZ8fEYsdz1yLm1vbml0b3JTZXNzaW9uLEU9dm9pZCAwPT09d3x8dyx4PXIubW9uaXRvckFub255bW91c1Nlc3Npb24saz12b2lkIDAhPT14JiZ4LEE9ci5jaGVja1Nlc3Npb25JbnRlcnZhbCxQPXZvaWQgMD09PUE/ZjpBLEM9ci5zdG9wQ2hlY2tTZXNzaW9uT25FcnJvcixUPXZvaWQgMD09PUN8fEMsUj1yLnF1ZXJ5X3N0YXR1c19yZXNwb25zZV90eXBlLEk9ci5yZXZva2VBY2Nlc3NUb2tlbk9uU2lnbm91dCxEPXZvaWQgMCE9PUkmJkksVT1yLmFjY2Vzc1Rva2VuRXhwaXJpbmdOb3RpZmljYXRpb25UaW1lLEw9dm9pZCAwPT09VT9sOlUsQj1yLnJlZGlyZWN0TmF2aWdhdG9yLE49dm9pZCAwPT09Qj9uZXcgby5SZWRpcmVjdE5hdmlnYXRvcjpCLE89ci5wb3B1cE5hdmlnYXRvcixqPXZvaWQgMD09PU8/bmV3IHMuUG9wdXBOYXZpZ2F0b3I6TyxIPXIuaWZyYW1lTmF2aWdhdG9yLE09dm9pZCAwPT09SD9uZXcgYS5JRnJhbWVOYXZpZ2F0b3I6SCxLPXIudXNlclN0b3JlLFY9dm9pZCAwPT09Sz9uZXcgdS5XZWJTdG9yYWdlU3RhdGVTdG9yZSh7c3RvcmU6Yy5HbG9iYWwuc2Vzc2lvblN0b3JhZ2V9KTpLOyFmdW5jdGlvbiBxKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKTt2YXIgSj1mdW5jdGlvbiBXKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9KHRoaXMsdC5jYWxsKHRoaXMsYXJndW1lbnRzWzBdKSk7cmV0dXJuIEouX3BvcHVwX3JlZGlyZWN0X3VyaT1uLEouX3BvcHVwX3Bvc3RfbG9nb3V0X3JlZGlyZWN0X3VyaT1pLEouX3BvcHVwV2luZG93RmVhdHVyZXM9ZCxKLl9wb3B1cFdpbmRvd1RhcmdldD1nLEouX3NpbGVudF9yZWRpcmVjdF91cmk9cCxKLl9zaWxlbnRSZXF1ZXN0VGltZW91dD12LEouX2F1dG9tYXRpY1NpbGVudFJlbmV3PW0sSi5fdmFsaWRhdGVTdWJPblNpbGVudFJlbmV3PVMsSi5faW5jbHVkZUlkVG9rZW5JblNpbGVudFJlbmV3PWIsSi5fYWNjZXNzVG9rZW5FeHBpcmluZ05vdGlmaWNhdGlvblRpbWU9TCxKLl9tb25pdG9yU2Vzc2lvbj1FLEouX21vbml0b3JBbm9ueW1vdXNTZXNzaW9uPWssSi5fY2hlY2tTZXNzaW9uSW50ZXJ2YWw9UCxKLl9zdG9wQ2hlY2tTZXNzaW9uT25FcnJvcj1ULFI/Si5fcXVlcnlfc3RhdHVzX3Jlc3BvbnNlX3R5cGU9Ujphcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXS5yZXNwb25zZV90eXBlP0ouX3F1ZXJ5X3N0YXR1c19yZXNwb25zZV90eXBlPWguU2lnbmluUmVxdWVzdC5pc09pZGMoYXJndW1lbnRzWzBdLnJlc3BvbnNlX3R5cGUpP1wiaWRfdG9rZW5cIjpcImNvZGVcIjpKLl9xdWVyeV9zdGF0dXNfcmVzcG9uc2VfdHlwZT1cImlkX3Rva2VuXCIsSi5fcmV2b2tlQWNjZXNzVG9rZW5PblNpZ25vdXQ9RCxKLl9yZWRpcmVjdE5hdmlnYXRvcj1OLEouX3BvcHVwTmF2aWdhdG9yPWosSi5faWZyYW1lTmF2aWdhdG9yPU0sSi5fdXNlclN0b3JlPVYsSn1yZXR1cm4gZnVuY3Rpb24gcih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfShlLHQpLG4oZSxbe2tleTpcInBvcHVwX3JlZGlyZWN0X3VyaVwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX3BvcHVwX3JlZGlyZWN0X3VyaX19LHtrZXk6XCJwb3B1cF9wb3N0X2xvZ291dF9yZWRpcmVjdF91cmlcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9wb3B1cF9wb3N0X2xvZ291dF9yZWRpcmVjdF91cml9fSx7a2V5OlwicG9wdXBXaW5kb3dGZWF0dXJlc1wiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX3BvcHVwV2luZG93RmVhdHVyZXN9fSx7a2V5OlwicG9wdXBXaW5kb3dUYXJnZXRcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9wb3B1cFdpbmRvd1RhcmdldH19LHtrZXk6XCJzaWxlbnRfcmVkaXJlY3RfdXJpXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fc2lsZW50X3JlZGlyZWN0X3VyaX19LHtrZXk6XCJzaWxlbnRSZXF1ZXN0VGltZW91dFwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX3NpbGVudFJlcXVlc3RUaW1lb3V0fX0se2tleTpcImF1dG9tYXRpY1NpbGVudFJlbmV3XCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fYXV0b21hdGljU2lsZW50UmVuZXd9fSx7a2V5OlwidmFsaWRhdGVTdWJPblNpbGVudFJlbmV3XCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fdmFsaWRhdGVTdWJPblNpbGVudFJlbmV3fX0se2tleTpcImluY2x1ZGVJZFRva2VuSW5TaWxlbnRSZW5ld1wiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2luY2x1ZGVJZFRva2VuSW5TaWxlbnRSZW5ld319LHtrZXk6XCJhY2Nlc3NUb2tlbkV4cGlyaW5nTm90aWZpY2F0aW9uVGltZVwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2FjY2Vzc1Rva2VuRXhwaXJpbmdOb3RpZmljYXRpb25UaW1lfX0se2tleTpcIm1vbml0b3JTZXNzaW9uXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fbW9uaXRvclNlc3Npb259fSx7a2V5OlwibW9uaXRvckFub255bW91c1Nlc3Npb25cIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9tb25pdG9yQW5vbnltb3VzU2Vzc2lvbn19LHtrZXk6XCJjaGVja1Nlc3Npb25JbnRlcnZhbFwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2NoZWNrU2Vzc2lvbkludGVydmFsfX0se2tleTpcInN0b3BDaGVja1Nlc3Npb25PbkVycm9yXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fc3RvcENoZWNrU2Vzc2lvbk9uRXJyb3J9fSx7a2V5OlwicXVlcnlfc3RhdHVzX3Jlc3BvbnNlX3R5cGVcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9xdWVyeV9zdGF0dXNfcmVzcG9uc2VfdHlwZX19LHtrZXk6XCJyZXZva2VBY2Nlc3NUb2tlbk9uU2lnbm91dFwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX3Jldm9rZUFjY2Vzc1Rva2VuT25TaWdub3V0fX0se2tleTpcInJlZGlyZWN0TmF2aWdhdG9yXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fcmVkaXJlY3ROYXZpZ2F0b3J9fSx7a2V5OlwicG9wdXBOYXZpZ2F0b3JcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9wb3B1cE5hdmlnYXRvcn19LHtrZXk6XCJpZnJhbWVOYXZpZ2F0b3JcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9pZnJhbWVOYXZpZ2F0b3J9fSx7a2V5OlwidXNlclN0b3JlXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5fdXNlclN0b3JlfX1dKSxlfShpLk9pZGNDbGllbnRTZXR0aW5ncyl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLlJlZGlyZWN0TmF2aWdhdG9yPXZvaWQgMDt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLGk9cigwKTtlLlJlZGlyZWN0TmF2aWdhdG9yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbiBlKHQscil7aWYoISh0IGluc3RhbmNlb2YgcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KX1yZXR1cm4gdC5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbiB0KCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKX0sdC5wcm90b3R5cGUubmF2aWdhdGU9ZnVuY3Rpb24gdChlKXtyZXR1cm4gZSYmZS51cmw/KGUudXNlUmVwbGFjZVRvTmF2aWdhdGU/d2luZG93LmxvY2F0aW9uLnJlcGxhY2UoZS51cmwpOndpbmRvdy5sb2NhdGlvbj1lLnVybCxQcm9taXNlLnJlc29sdmUoKSk6KGkuTG9nLmVycm9yKFwiUmVkaXJlY3ROYXZpZ2F0b3IubmF2aWdhdGU6IE5vIHVybCBwcm92aWRlZFwiKSxQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJObyB1cmwgcHJvdmlkZWRcIikpKX0sbih0LFt7a2V5OlwidXJsXCIsZ2V0OmZ1bmN0aW9uIHQoKXtyZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWZ9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLlBvcHVwTmF2aWdhdG9yPXZvaWQgMDt2YXIgbj1yKDApLGk9cig0NCk7ZS5Qb3B1cE5hdmlnYXRvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24gZSh0LHIpe2lmKCEodCBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCl9cmV0dXJuIHQucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgaS5Qb3B1cFdpbmRvdyhlKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIpfSx0LnByb3RvdHlwZS5jYWxsYmFjaz1mdW5jdGlvbiB0KGUscixvKXtuLkxvZy5kZWJ1ZyhcIlBvcHVwTmF2aWdhdG9yLmNhbGxiYWNrXCIpO3RyeXtyZXR1cm4gaS5Qb3B1cFdpbmRvdy5ub3RpZnlPcGVuZXIoZSxyLG8pLFByb21pc2UucmVzb2x2ZSgpfWNhdGNoKHQpe3JldHVybiBQcm9taXNlLnJlamVjdCh0KX19LHR9KCl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLlBvcHVwV2luZG93PXZvaWQgMDt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLGk9cigwKSxvPXIoMyk7dmFyIHM9NTAwLGE9XCJsb2NhdGlvbj1ubyx0b29sYmFyPW5vLHdpZHRoPTUwMCxoZWlnaHQ9NTAwLGxlZnQ9MTAwLHRvcD0xMDA7XCIsdT1cIl9ibGFua1wiO2UuUG9wdXBXaW5kb3c9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPXRoaXM7IWZ1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuX3Byb21pc2U9bmV3IFByb21pc2UoZnVuY3Rpb24odCxlKXtyLl9yZXNvbHZlPXQsci5fcmVqZWN0PWV9KTt2YXIgbz1lLnBvcHVwV2luZG93VGFyZ2V0fHx1LGM9ZS5wb3B1cFdpbmRvd0ZlYXR1cmVzfHxhO3RoaXMuX3BvcHVwPXdpbmRvdy5vcGVuKFwiXCIsbyxjKSx0aGlzLl9wb3B1cCYmKGkuTG9nLmRlYnVnKFwiUG9wdXBXaW5kb3cuY3RvcjogcG9wdXAgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWRcIiksdGhpcy5fY2hlY2tGb3JQb3B1cENsb3NlZFRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLl9jaGVja0ZvclBvcHVwQ2xvc2VkLmJpbmQodGhpcykscykpfXJldHVybiB0LnByb3RvdHlwZS5uYXZpZ2F0ZT1mdW5jdGlvbiB0KGUpe3JldHVybiB0aGlzLl9wb3B1cD9lJiZlLnVybD8oaS5Mb2cuZGVidWcoXCJQb3B1cFdpbmRvdy5uYXZpZ2F0ZTogU2V0dGluZyBVUkwgaW4gcG9wdXBcIiksdGhpcy5faWQ9ZS5pZCx0aGlzLl9pZCYmKHdpbmRvd1tcInBvcHVwQ2FsbGJhY2tfXCIrZS5pZF09dGhpcy5fY2FsbGJhY2suYmluZCh0aGlzKSksdGhpcy5fcG9wdXAuZm9jdXMoKSx0aGlzLl9wb3B1cC53aW5kb3cubG9jYXRpb249ZS51cmwpOih0aGlzLl9lcnJvcihcIlBvcHVwV2luZG93Lm5hdmlnYXRlOiBubyB1cmwgcHJvdmlkZWRcIiksdGhpcy5fZXJyb3IoXCJObyB1cmwgcHJvdmlkZWRcIikpOnRoaXMuX2Vycm9yKFwiUG9wdXBXaW5kb3cubmF2aWdhdGU6IEVycm9yIG9wZW5pbmcgcG9wdXAgd2luZG93XCIpLHRoaXMucHJvbWlzZX0sdC5wcm90b3R5cGUuX3N1Y2Nlc3M9ZnVuY3Rpb24gdChlKXtpLkxvZy5kZWJ1ZyhcIlBvcHVwV2luZG93LmNhbGxiYWNrOiBTdWNjZXNzZnVsIHJlc3BvbnNlIGZyb20gcG9wdXAgd2luZG93XCIpLHRoaXMuX2NsZWFudXAoKSx0aGlzLl9yZXNvbHZlKGUpfSx0LnByb3RvdHlwZS5fZXJyb3I9ZnVuY3Rpb24gdChlKXtpLkxvZy5lcnJvcihcIlBvcHVwV2luZG93LmVycm9yOiBcIixlKSx0aGlzLl9jbGVhbnVwKCksdGhpcy5fcmVqZWN0KG5ldyBFcnJvcihlKSl9LHQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uIHQoKXt0aGlzLl9jbGVhbnVwKCExKX0sdC5wcm90b3R5cGUuX2NsZWFudXA9ZnVuY3Rpb24gdChlKXtpLkxvZy5kZWJ1ZyhcIlBvcHVwV2luZG93LmNsZWFudXBcIiksd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fY2hlY2tGb3JQb3B1cENsb3NlZFRpbWVyKSx0aGlzLl9jaGVja0ZvclBvcHVwQ2xvc2VkVGltZXI9bnVsbCxkZWxldGUgd2luZG93W1wicG9wdXBDYWxsYmFja19cIit0aGlzLl9pZF0sdGhpcy5fcG9wdXAmJiFlJiZ0aGlzLl9wb3B1cC5jbG9zZSgpLHRoaXMuX3BvcHVwPW51bGx9LHQucHJvdG90eXBlLl9jaGVja0ZvclBvcHVwQ2xvc2VkPWZ1bmN0aW9uIHQoKXt0aGlzLl9wb3B1cCYmIXRoaXMuX3BvcHVwLmNsb3NlZHx8dGhpcy5fZXJyb3IoXCJQb3B1cCB3aW5kb3cgY2xvc2VkXCIpfSx0LnByb3RvdHlwZS5fY2FsbGJhY2s9ZnVuY3Rpb24gdChlLHIpe3RoaXMuX2NsZWFudXAociksZT8oaS5Mb2cuZGVidWcoXCJQb3B1cFdpbmRvdy5jYWxsYmFjayBzdWNjZXNzXCIpLHRoaXMuX3N1Y2Nlc3Moe3VybDplfSkpOihpLkxvZy5kZWJ1ZyhcIlBvcHVwV2luZG93LmNhbGxiYWNrOiBJbnZhbGlkIHJlc3BvbnNlIGZyb20gcG9wdXBcIiksdGhpcy5fZXJyb3IoXCJJbnZhbGlkIHJlc3BvbnNlIGZyb20gcG9wdXBcIikpfSx0Lm5vdGlmeU9wZW5lcj1mdW5jdGlvbiB0KGUscixuKXtpZih3aW5kb3cub3BlbmVyKXtpZihlPWV8fHdpbmRvdy5sb2NhdGlvbi5ocmVmKXt2YXIgcz1vLlVybFV0aWxpdHkucGFyc2VVcmxGcmFnbWVudChlLG4pO2lmKHMuc3RhdGUpe3ZhciBhPVwicG9wdXBDYWxsYmFja19cIitzLnN0YXRlLHU9d2luZG93Lm9wZW5lclthXTt1PyhpLkxvZy5kZWJ1ZyhcIlBvcHVwV2luZG93Lm5vdGlmeU9wZW5lcjogcGFzc2luZyB1cmwgbWVzc2FnZSB0byBvcGVuZXJcIiksdShlLHIpKTppLkxvZy53YXJuKFwiUG9wdXBXaW5kb3cubm90aWZ5T3BlbmVyOiBubyBtYXRjaGluZyBjYWxsYmFjayBmb3VuZCBvbiBvcGVuZXJcIil9ZWxzZSBpLkxvZy53YXJuKFwiUG9wdXBXaW5kb3cubm90aWZ5T3BlbmVyOiBubyBzdGF0ZSBmb3VuZCBpbiByZXNwb25zZSB1cmxcIil9fWVsc2UgaS5Mb2cud2FybihcIlBvcHVwV2luZG93Lm5vdGlmeU9wZW5lcjogbm8gd2luZG93Lm9wZW5lci4gQ2FuJ3QgY29tcGxldGUgbm90aWZpY2F0aW9uLlwiKX0sbih0LFt7a2V5OlwicHJvbWlzZVwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX3Byb21pc2V9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLklGcmFtZU5hdmlnYXRvcj12b2lkIDA7dmFyIG49cigwKSxpPXIoNDYpO2UuSUZyYW1lTmF2aWdhdG9yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbiBlKHQscil7aWYoISh0IGluc3RhbmNlb2YgcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KX1yZXR1cm4gdC5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbiB0KGUpe3ZhciByPW5ldyBpLklGcmFtZVdpbmRvdyhlKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIpfSx0LnByb3RvdHlwZS5jYWxsYmFjaz1mdW5jdGlvbiB0KGUpe24uTG9nLmRlYnVnKFwiSUZyYW1lTmF2aWdhdG9yLmNhbGxiYWNrXCIpO3RyeXtyZXR1cm4gaS5JRnJhbWVXaW5kb3cubm90aWZ5UGFyZW50KGUpLFByb21pc2UucmVzb2x2ZSgpfWNhdGNoKHQpe3JldHVybiBQcm9taXNlLnJlamVjdCh0KX19LHR9KCl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLklGcmFtZVdpbmRvdz12b2lkIDA7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24oZSxyLG4pe3JldHVybiByJiZ0KGUucHJvdG90eXBlLHIpLG4mJnQoZSxuKSxlfX0oKSxpPXIoMCk7ZS5JRnJhbWVXaW5kb3c9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZhciByPXRoaXM7IWZ1bmN0aW9uIG4odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuX3Byb21pc2U9bmV3IFByb21pc2UoZnVuY3Rpb24odCxlKXtyLl9yZXNvbHZlPXQsci5fcmVqZWN0PWV9KSx0aGlzLl9ib3VuZE1lc3NhZ2VFdmVudD10aGlzLl9tZXNzYWdlLmJpbmQodGhpcyksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5fYm91bmRNZXNzYWdlRXZlbnQsITEpLHRoaXMuX2ZyYW1lPXdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpLHRoaXMuX2ZyYW1lLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0aGlzLl9mcmFtZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5fZnJhbWUuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLl9mcmFtZS5zdHlsZS53aWR0aD0wLHRoaXMuX2ZyYW1lLnN0eWxlLmhlaWdodD0wLHdpbmRvdy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2ZyYW1lKX1yZXR1cm4gdC5wcm90b3R5cGUubmF2aWdhdGU9ZnVuY3Rpb24gdChlKXtpZihlJiZlLnVybCl7dmFyIHI9ZS5zaWxlbnRSZXF1ZXN0VGltZW91dHx8MWU0O2kuTG9nLmRlYnVnKFwiSUZyYW1lV2luZG93Lm5hdmlnYXRlOiBVc2luZyB0aW1lb3V0IG9mOlwiLHIpLHRoaXMuX3RpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX3RpbWVvdXQuYmluZCh0aGlzKSxyKSx0aGlzLl9mcmFtZS5zcmM9ZS51cmx9ZWxzZSB0aGlzLl9lcnJvcihcIk5vIHVybCBwcm92aWRlZFwiKTtyZXR1cm4gdGhpcy5wcm9taXNlfSx0LnByb3RvdHlwZS5fc3VjY2Vzcz1mdW5jdGlvbiB0KGUpe3RoaXMuX2NsZWFudXAoKSxpLkxvZy5kZWJ1ZyhcIklGcmFtZVdpbmRvdzogU3VjY2Vzc2Z1bCByZXNwb25zZSBmcm9tIGZyYW1lIHdpbmRvd1wiKSx0aGlzLl9yZXNvbHZlKGUpfSx0LnByb3RvdHlwZS5fZXJyb3I9ZnVuY3Rpb24gdChlKXt0aGlzLl9jbGVhbnVwKCksaS5Mb2cuZXJyb3IoZSksdGhpcy5fcmVqZWN0KG5ldyBFcnJvcihlKSl9LHQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uIHQoKXt0aGlzLl9jbGVhbnVwKCl9LHQucHJvdG90eXBlLl9jbGVhbnVwPWZ1bmN0aW9uIHQoKXt0aGlzLl9mcmFtZSYmKGkuTG9nLmRlYnVnKFwiSUZyYW1lV2luZG93OiBjbGVhbnVwXCIpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMuX2JvdW5kTWVzc2FnZUV2ZW50LCExKSx3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx3aW5kb3cuZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLl9mcmFtZSksdGhpcy5fdGltZXI9bnVsbCx0aGlzLl9mcmFtZT1udWxsLHRoaXMuX2JvdW5kTWVzc2FnZUV2ZW50PW51bGwpfSx0LnByb3RvdHlwZS5fdGltZW91dD1mdW5jdGlvbiB0KCl7aS5Mb2cuZGVidWcoXCJJRnJhbWVXaW5kb3cudGltZW91dFwiKSx0aGlzLl9lcnJvcihcIkZyYW1lIHdpbmRvdyB0aW1lZCBvdXRcIil9LHQucHJvdG90eXBlLl9tZXNzYWdlPWZ1bmN0aW9uIHQoZSl7aWYoaS5Mb2cuZGVidWcoXCJJRnJhbWVXaW5kb3cubWVzc2FnZVwiKSx0aGlzLl90aW1lciYmZS5vcmlnaW49PT10aGlzLl9vcmlnaW4mJmUuc291cmNlPT09dGhpcy5fZnJhbWUuY29udGVudFdpbmRvdyl7dmFyIHI9ZS5kYXRhO3I/dGhpcy5fc3VjY2Vzcyh7dXJsOnJ9KTp0aGlzLl9lcnJvcihcIkludmFsaWQgcmVzcG9uc2UgZnJvbSBmcmFtZVwiKX19LHQubm90aWZ5UGFyZW50PWZ1bmN0aW9uIHQoZSl7aS5Mb2cuZGVidWcoXCJJRnJhbWVXaW5kb3cubm90aWZ5UGFyZW50XCIpLHdpbmRvdy5mcmFtZUVsZW1lbnQmJihlPWV8fHdpbmRvdy5sb2NhdGlvbi5ocmVmKSYmKGkuTG9nLmRlYnVnKFwiSUZyYW1lV2luZG93Lm5vdGlmeVBhcmVudDogcG9zdGluZyB1cmwgbWVzc2FnZSB0byBwYXJlbnRcIiksd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZShlLGxvY2F0aW9uLnByb3RvY29sK1wiLy9cIitsb2NhdGlvbi5ob3N0KSl9LG4odCxbe2tleTpcInByb21pc2VcIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9wcm9taXNlfX0se2tleTpcIl9vcmlnaW5cIixnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiBsb2NhdGlvbi5wcm90b2NvbCtcIi8vXCIrbG9jYXRpb24uaG9zdH19XSksdH0oKX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuVXNlck1hbmFnZXJFdmVudHM9dm9pZCAwO3ZhciBuPXIoMCksaT1yKDE2KSxvPXIoMTcpO2UuVXNlck1hbmFnZXJFdmVudHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXshZnVuY3Rpb24gbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSk7dmFyIGk9ZnVuY3Rpb24gcyh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfSh0aGlzLHQuY2FsbCh0aGlzLHIpKTtyZXR1cm4gaS5fdXNlckxvYWRlZD1uZXcgby5FdmVudChcIlVzZXIgbG9hZGVkXCIpLGkuX3VzZXJVbmxvYWRlZD1uZXcgby5FdmVudChcIlVzZXIgdW5sb2FkZWRcIiksaS5fc2lsZW50UmVuZXdFcnJvcj1uZXcgby5FdmVudChcIlNpbGVudCByZW5ldyBlcnJvclwiKSxpLl91c2VyU2lnbmVkSW49bmV3IG8uRXZlbnQoXCJVc2VyIHNpZ25lZCBpblwiKSxpLl91c2VyU2lnbmVkT3V0PW5ldyBvLkV2ZW50KFwiVXNlciBzaWduZWQgb3V0XCIpLGkuX3VzZXJTZXNzaW9uQ2hhbmdlZD1uZXcgby5FdmVudChcIlVzZXIgc2Vzc2lvbiBjaGFuZ2VkXCIpLGl9cmV0dXJuIGZ1bmN0aW9uIHIodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKTp0Ll9fcHJvdG9fXz1lKX0oZSx0KSxlLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uIGUocil7dmFyIGk9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtuLkxvZy5kZWJ1ZyhcIlVzZXJNYW5hZ2VyRXZlbnRzLmxvYWRcIiksdC5wcm90b3R5cGUubG9hZC5jYWxsKHRoaXMsciksaSYmdGhpcy5fdXNlckxvYWRlZC5yYWlzZShyKX0sZS5wcm90b3R5cGUudW5sb2FkPWZ1bmN0aW9uIGUoKXtuLkxvZy5kZWJ1ZyhcIlVzZXJNYW5hZ2VyRXZlbnRzLnVubG9hZFwiKSx0LnByb3RvdHlwZS51bmxvYWQuY2FsbCh0aGlzKSx0aGlzLl91c2VyVW5sb2FkZWQucmFpc2UoKX0sZS5wcm90b3R5cGUuYWRkVXNlckxvYWRlZD1mdW5jdGlvbiB0KGUpe3RoaXMuX3VzZXJMb2FkZWQuYWRkSGFuZGxlcihlKX0sZS5wcm90b3R5cGUucmVtb3ZlVXNlckxvYWRlZD1mdW5jdGlvbiB0KGUpe3RoaXMuX3VzZXJMb2FkZWQucmVtb3ZlSGFuZGxlcihlKX0sZS5wcm90b3R5cGUuYWRkVXNlclVubG9hZGVkPWZ1bmN0aW9uIHQoZSl7dGhpcy5fdXNlclVubG9hZGVkLmFkZEhhbmRsZXIoZSl9LGUucHJvdG90eXBlLnJlbW92ZVVzZXJVbmxvYWRlZD1mdW5jdGlvbiB0KGUpe3RoaXMuX3VzZXJVbmxvYWRlZC5yZW1vdmVIYW5kbGVyKGUpfSxlLnByb3RvdHlwZS5hZGRTaWxlbnRSZW5ld0Vycm9yPWZ1bmN0aW9uIHQoZSl7dGhpcy5fc2lsZW50UmVuZXdFcnJvci5hZGRIYW5kbGVyKGUpfSxlLnByb3RvdHlwZS5yZW1vdmVTaWxlbnRSZW5ld0Vycm9yPWZ1bmN0aW9uIHQoZSl7dGhpcy5fc2lsZW50UmVuZXdFcnJvci5yZW1vdmVIYW5kbGVyKGUpfSxlLnByb3RvdHlwZS5fcmFpc2VTaWxlbnRSZW5ld0Vycm9yPWZ1bmN0aW9uIHQoZSl7bi5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlckV2ZW50cy5fcmFpc2VTaWxlbnRSZW5ld0Vycm9yXCIsZS5tZXNzYWdlKSx0aGlzLl9zaWxlbnRSZW5ld0Vycm9yLnJhaXNlKGUpfSxlLnByb3RvdHlwZS5hZGRVc2VyU2lnbmVkSW49ZnVuY3Rpb24gdChlKXt0aGlzLl91c2VyU2lnbmVkSW4uYWRkSGFuZGxlcihlKX0sZS5wcm90b3R5cGUucmVtb3ZlVXNlclNpZ25lZEluPWZ1bmN0aW9uIHQoZSl7dGhpcy5fdXNlclNpZ25lZEluLnJlbW92ZUhhbmRsZXIoZSl9LGUucHJvdG90eXBlLl9yYWlzZVVzZXJTaWduZWRJbj1mdW5jdGlvbiB0KCl7bi5Mb2cuZGVidWcoXCJVc2VyTWFuYWdlckV2ZW50cy5fcmFpc2VVc2VyU2lnbmVkSW5cIiksdGhpcy5fdXNlclNpZ25lZEluLnJhaXNlKCl9LGUucHJvdG90eXBlLmFkZFVzZXJTaWduZWRPdXQ9ZnVuY3Rpb24gdChlKXt0aGlzLl91c2VyU2lnbmVkT3V0LmFkZEhhbmRsZXIoZSl9LGUucHJvdG90eXBlLnJlbW92ZVVzZXJTaWduZWRPdXQ9ZnVuY3Rpb24gdChlKXt0aGlzLl91c2VyU2lnbmVkT3V0LnJlbW92ZUhhbmRsZXIoZSl9LGUucHJvdG90eXBlLl9yYWlzZVVzZXJTaWduZWRPdXQ9ZnVuY3Rpb24gdCgpe24uTG9nLmRlYnVnKFwiVXNlck1hbmFnZXJFdmVudHMuX3JhaXNlVXNlclNpZ25lZE91dFwiKSx0aGlzLl91c2VyU2lnbmVkT3V0LnJhaXNlKCl9LGUucHJvdG90eXBlLmFkZFVzZXJTZXNzaW9uQ2hhbmdlZD1mdW5jdGlvbiB0KGUpe3RoaXMuX3VzZXJTZXNzaW9uQ2hhbmdlZC5hZGRIYW5kbGVyKGUpfSxlLnByb3RvdHlwZS5yZW1vdmVVc2VyU2Vzc2lvbkNoYW5nZWQ9ZnVuY3Rpb24gdChlKXt0aGlzLl91c2VyU2Vzc2lvbkNoYW5nZWQucmVtb3ZlSGFuZGxlcihlKX0sZS5wcm90b3R5cGUuX3JhaXNlVXNlclNlc3Npb25DaGFuZ2VkPWZ1bmN0aW9uIHQoKXtuLkxvZy5kZWJ1ZyhcIlVzZXJNYW5hZ2VyRXZlbnRzLl9yYWlzZVVzZXJTZXNzaW9uQ2hhbmdlZFwiKSx0aGlzLl91c2VyU2Vzc2lvbkNoYW5nZWQucmFpc2UoKX0sZX0oaS5BY2Nlc3NUb2tlbkV2ZW50cyl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLlRpbWVyPXZvaWQgMDt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbihlLHIsbil7cmV0dXJuIHImJnQoZS5wcm90b3R5cGUsciksbiYmdChlLG4pLGV9fSgpLGk9cigwKSxvPXIoMSkscz1yKDE3KTtlLlRpbWVyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm8uR2xvYmFsLnRpbWVyLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnZvaWQgMDshZnVuY3Rpb24gcyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSk7dmFyIGE9ZnVuY3Rpb24gdSh0LGUpe2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/dDplfSh0aGlzLHQuY2FsbCh0aGlzLHIpKTtyZXR1cm4gYS5fdGltZXI9bixhLl9ub3dGdW5jPWl8fGZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCkvMWUzfSxhfXJldHVybiBmdW5jdGlvbiByKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9KGUsdCksZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbiB0KGUpe2U8PTAmJihlPTEpLGU9cGFyc2VJbnQoZSk7dmFyIHI9dGhpcy5ub3crZTtpZih0aGlzLmV4cGlyYXRpb249PT1yJiZ0aGlzLl90aW1lckhhbmRsZSlpLkxvZy5kZWJ1ZyhcIlRpbWVyLmluaXQgdGltZXIgXCIrdGhpcy5fbmFtZStcIiBza2lwcGluZyBpbml0aWFsaXphdGlvbiBzaW5jZSBhbHJlYWR5IGluaXRpYWxpemVkIGZvciBleHBpcmF0aW9uOlwiLHRoaXMuZXhwaXJhdGlvbik7ZWxzZXt0aGlzLmNhbmNlbCgpLGkuTG9nLmRlYnVnKFwiVGltZXIuaW5pdCB0aW1lciBcIit0aGlzLl9uYW1lK1wiIGZvciBkdXJhdGlvbjpcIixlKSx0aGlzLl9leHBpcmF0aW9uPXI7dmFyIG49NTtlPG4mJihuPWUpLHRoaXMuX3RpbWVySGFuZGxlPXRoaXMuX3RpbWVyLnNldEludGVydmFsKHRoaXMuX2NhbGxiYWNrLmJpbmQodGhpcyksMWUzKm4pfX0sZS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uIHQoKXt0aGlzLl90aW1lckhhbmRsZSYmKGkuTG9nLmRlYnVnKFwiVGltZXIuY2FuY2VsOiBcIix0aGlzLl9uYW1lKSx0aGlzLl90aW1lci5jbGVhckludGVydmFsKHRoaXMuX3RpbWVySGFuZGxlKSx0aGlzLl90aW1lckhhbmRsZT1udWxsKX0sZS5wcm90b3R5cGUuX2NhbGxiYWNrPWZ1bmN0aW9uIGUoKXt2YXIgcj10aGlzLl9leHBpcmF0aW9uLXRoaXMubm93O2kuTG9nLmRlYnVnKFwiVGltZXIuY2FsbGJhY2s7IFwiK3RoaXMuX25hbWUrXCIgdGltZXIgZXhwaXJlcyBpbjpcIixyKSx0aGlzLl9leHBpcmF0aW9uPD10aGlzLm5vdyYmKHRoaXMuY2FuY2VsKCksdC5wcm90b3R5cGUucmFpc2UuY2FsbCh0aGlzKSl9LG4oZSxbe2tleTpcIm5vd1wiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHBhcnNlSW50KHRoaXMuX25vd0Z1bmMoKSl9fSx7a2V5OlwiZXhwaXJhdGlvblwiLGdldDpmdW5jdGlvbiB0KCl7cmV0dXJuIHRoaXMuX2V4cGlyYXRpb259fV0pLGV9KHMuRXZlbnQpfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5TaWxlbnRSZW5ld1NlcnZpY2U9dm9pZCAwO3ZhciBuPXIoMCk7ZS5TaWxlbnRSZW5ld1NlcnZpY2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpeyFmdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLl91c2VyTWFuYWdlcj1lfXJldHVybiB0LnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbiB0KCl7dGhpcy5fY2FsbGJhY2t8fCh0aGlzLl9jYWxsYmFjaz10aGlzLl90b2tlbkV4cGlyaW5nLmJpbmQodGhpcyksdGhpcy5fdXNlck1hbmFnZXIuZXZlbnRzLmFkZEFjY2Vzc1Rva2VuRXhwaXJpbmcodGhpcy5fY2FsbGJhY2spLHRoaXMuX3VzZXJNYW5hZ2VyLmdldFVzZXIoKS50aGVuKGZ1bmN0aW9uKHQpe30pLmNhdGNoKGZ1bmN0aW9uKHQpe24uTG9nLmVycm9yKFwiU2lsZW50UmVuZXdTZXJ2aWNlLnN0YXJ0OiBFcnJvciBmcm9tIGdldFVzZXI6XCIsdC5tZXNzYWdlKX0pKX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbiB0KCl7dGhpcy5fY2FsbGJhY2smJih0aGlzLl91c2VyTWFuYWdlci5ldmVudHMucmVtb3ZlQWNjZXNzVG9rZW5FeHBpcmluZyh0aGlzLl9jYWxsYmFjayksZGVsZXRlIHRoaXMuX2NhbGxiYWNrKX0sdC5wcm90b3R5cGUuX3Rva2VuRXhwaXJpbmc9ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXM7dGhpcy5fdXNlck1hbmFnZXIuc2lnbmluU2lsZW50KCkudGhlbihmdW5jdGlvbih0KXtuLkxvZy5kZWJ1ZyhcIlNpbGVudFJlbmV3U2VydmljZS5fdG9rZW5FeHBpcmluZzogU2lsZW50IHRva2VuIHJlbmV3YWwgc3VjY2Vzc2Z1bFwiKX0sZnVuY3Rpb24odCl7bi5Mb2cuZXJyb3IoXCJTaWxlbnRSZW5ld1NlcnZpY2UuX3Rva2VuRXhwaXJpbmc6IEVycm9yIGZyb20gc2lnbmluU2lsZW50OlwiLHQubWVzc2FnZSksZS5fdXNlck1hbmFnZXIuZXZlbnRzLl9yYWlzZVNpbGVudFJlbmV3RXJyb3IodCl9KX0sdH0oKX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuQ29yZG92YVBvcHVwTmF2aWdhdG9yPXZvaWQgMDt2YXIgbj1yKDIxKTtlLkNvcmRvdmFQb3B1cE5hdmlnYXRvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24gZSh0LHIpe2lmKCEodCBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCl9cmV0dXJuIHQucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24gdChlKXt2YXIgcj1uZXcgbi5Db3Jkb3ZhUG9wdXBXaW5kb3coZSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShyKX0sdH0oKX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuQ29yZG92YUlGcmFtZU5hdmlnYXRvcj12b2lkIDA7dmFyIG49cigyMSk7ZS5Db3Jkb3ZhSUZyYW1lTmF2aWdhdG9yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbiBlKHQscil7aWYoISh0IGluc3RhbmNlb2YgcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KX1yZXR1cm4gdC5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbiB0KGUpe2UucG9wdXBXaW5kb3dGZWF0dXJlcz1cImhpZGRlbj15ZXNcIjt2YXIgcj1uZXcgbi5Db3Jkb3ZhUG9wdXBXaW5kb3coZSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShyKX0sdH0oKX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2UuVmVyc2lvbj1cIjEuMTAuMVwifV0pfSk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/oidc-client/lib/oidc-client.min.js\n");

/***/ })

/******/ });